<head>
    <meta content="Antimatter15" name="Author"/>
    <meta content="AJAX, Animation, DHTML, Web 2.0, Animator, Flash" name="keywords"/><title>Animator</title>
    <script type="text/javascript">
	var canvasNumber = 1;
var previousCanvas = 0;
var canvasDisplayStyle = "";
var canvasIssueResolved = new Boolean();
var AnimationPlay = new Boolean();
var AnimationFramerate = 12; 
var totalFrames = 1;
var canvasHeight = 272;
var canvasWidth = 480;
var revisionNumber = 1;
var animationRevision = new Array();
var animationRevisionURL = new Array();
var lastAnimationURL = '';
var replaceEngine = 'string'; //either regexp or string, it is the engine that changes stuff
AnimationPlay = true;
canvasIssueResolved = false;

function makeCanvas(){
var canvasString;
canvasString='<div id="richdraw'+canvasNumber+'" style="';
canvasString+='border:1px solid black;position:relative;top:0px'
canvasString+='width:99%;height:99%;background-color:white;'
canvasString+='-moz-user-select:none;display:'+canvasDisplayStyle+'"></div>';
document.getElementById("CanvasContainer").innerHTML+=canvasString;
canvasNumber++;
canvasDisplayStyle = "none";
initDraw();
currentCanvas++;
}

function convertVML(s){

parseFloat(s.split(',')[0])//x
parseFloat(s.split(',')[1])//y


/*
<AnimationXML><svg><v:rect style="LEFT: 70px; WIDTH: 160px; POSITION: absolute; TOP: 30px; HEIGHT: 160px" coordsize = "21600,21600" filled = "t" fillcolor = "red" stroked = "t" strokecolor = "black" strokeweight = ".75pt">
</v:rect><v:line style="POSITION: absolute" from = "30pt,45pt" to = "75pt,157.5pt" stroked = "t" strokecolor = "black" strokeweight = ".75pt"></v:line></svg></AnimationXML>
*/

if (window.ActiveXObject){
var objDom=new ActiveXObject("Microsoft.XMLDOM");
objDom.async="false";
var zVML;

objDom.loadXML(zVML);

}else{
var parser=new DOMParser();

var objDom=parser.parseFromString(zVML,"text/xml");
}
var domTree = objDom.getElementsByTagName('AnimationXML')[0];
objDom.getElementsByTagName('AnimationXML')[0];
for(var zFrames = 0; zFrames < objDom.getElementsByTagName('svg').length; zFrames++){
var frameNode = objDom.getElementsByTagName('svg')[zFrames];

for(var zLines = 0; zLines < frameNode.getElementsByTagName('line').length; zLines++){
var lineNodes = frameNode.getElementsByTagName('line')[zLines];
var zSVGLine = "<line ";
zSVGLine += 'x1="' + parseFloat(frameNode.getAttribute("from").split(',')[0]) + '" ';
zSVGLine += 'y1="' + parseFloat(frameNode.getAttribute("from").split(',')[1]) + '" ';
zSVGLine += 'x2="' + parseFloat(frameNode.getAttribute("to").split(',')[0]) + '" ';
zSVGLine += 'y2="' + parseFloat(frameNode.getAttribute("to").split(',')[1]) + '" ';
}

for(var zRect = 0; zRect < frameNode.getElementsByTagName('rect').length; zRect++){
var rectNodes = frameNode.getElementsByTagName('rect')[z];
frameNode.getAttribute("to")
}

}


}


function makeCanvasFromIE(CanvasId){
var canvasString;
canvasString='<div id="richdraw'+CanvasId+'" style="';
canvasString+='border:1px solid black;position:relative;top:0px'
canvasString+='width:99%;height:99%;background-color:white;'
canvasString+='-moz-user-select:none;display:'+canvasDisplayStyle+'"></div>';
document.getElementById("CanvasContainer").innerHTML+=canvasString;
canvasDisplayStyle = "none";
initDraw();
}

function makeCanvasFromId(CanvasId){
var richdrawCanvas = document.createElement('div');
var richdrawCanvasStyle = "border:1px solid black;position:relative;"
richdrawCanvasStyle += "top:0px;width:99%;height:99%;background-color:white;"
richdrawCanvasStyle += "-moz-user-select:none;"
richdrawCanvas.setAttribute('id','richdraw'+CanvasId);
richdrawCanvas.setAttribute('style',richdrawCanvasStyle+"display:"+canvasDisplayStyle);
document.getElementById('CanvasContainer').appendChild(richdrawCanvas);
canvasDisplayStyle = 'none'
initDraw();
}

function setCP(){
canvasHeight = parseInt($('cHeight').value);
canvasWidth = parseInt($('cWidth').value);

$('CanvasContainer').style.height = canvasHeight+ 'px';
$('CanvasContainer').style.width =  canvasWidth + 'px';

$('zFlashPreviewDiv').style.height = canvasHeight + 'px';
$('zFlashPreviewDiv').style.width = canvasWidth + 'px';
}

function setFramerate(){
AnimationFramerate = document.getElementById('cFramerate').value;
}

function genxml(){
$('jsQuery').value = generateAnimationXML();
}

function gencleanxml(){
$('jsQuery').value = decompressxml(compressxml(generateAnimationXML()));
}

function gencxml(){
var zxvlue;
zxvlue = compressxml(generateAnimationXML());
$('jsQuery').value = zxvlue;
}

function decompressxml(pxml){
var zxvlue;
zxvlue = pxml;
zxvlue = replaceDecompressXML(zxvlue);
return zxvlue;
}
function compressxml(pxml){
var zxvlue;
zxvlue = pxml;
zxvlue = replaceCompressXML(zxvlue);
return zxvlue;
}

function generateAnimationXML(){

var zAnimationXML = "<AnimationXML>";
for(var pzxy = 1; pzxy <= totalFrames;pzxy++){
if(DrawCanvas[pzxy] != null && DrawCanvas[pzxy].renderer.getMarkup() != "<svg></svg>"){
var zCurrentAnimationXMLFrame;
//zCurrentAnimationXMLFrame = DrawCanvas[pzxy].renderer.getMarkup() this fails in IE so do it the hard way...
zCurrentAnimationXMLFrame = $('richdraw' + pzxy).innerHTML;
if(isIE() == true){
zCurrentAnimationXMLFrame = zCurrentAnimationXMLFrame.replace('<?xml:namespace prefix = v ns = "urn:schemas-microsoft-com:vml" />',"<svg>");
}
zAnimationXML += zCurrentAnimationXMLFrame;
if(isIE() == true){
zAnimationXML += "</svg>"
}
}else{
if(isKeyframe(pzxy,1) != false){
zAnimationXML += "<svg></svg>"
}else{
zAnimationXML += '<svg t="f"></svg>'
}
}
}
zAnimationXML += "</AnimationXML>";
//the above code is to make the vml less crappy

var cleanAXML = "";
if(isIE() == true){
zAnimationXML = replaceAll('id=shape:','id="shape:',zAnimationXML)
zAnimationXML = replaceAll(" style",'" style',zAnimationXML)
cleanAXML = zAnimationXML;
}else{
cleanAXML = removeUnusedAttributes(zAnimationXML);
}
var finalAXML = "";
if(isIE() == true){
finalAXML = convertVML(cleanAXML);
}else{
finalAXML = cleanAXML
}
return finalAXML;
}

function replaceT(findStr, repStr, origStr){
var re = new RegExp(findStr, "g"); // pre replace using regexp
return origStr.replace(re, repStr);
}
		
function convertVML(VMLData){
var qVML = VMLData;
var qSVG = "";
qVML = replaceT("v:","",qVML)
qVML = replaceT('id=shape:','id="shape:',qVML)
qVML = replaceT(" style",'" style',qVML)
qVML = replaceT("black","rgb(0,0,0)",qVML)
qVML = replaceT("red","rgb(255,0,0)",qVML)
qVML = replaceT('""','"',qVML)
if (window.ActiveXObject){
var vmlXML=new ActiveXObject("Microsoft.XMLDOM");
vmlXML.async="false";
vmlXML.loadXML(qVML);
}else{
var vmlXML=(new DOMParser()).parseFromString(qVML, "text/xml");
}
var vmlDomTree = vmlXML.getElementsByTagName('AnimationXML')[0];
qSVG += "<AnimationXML>";
for(var zFrames = 0; zFrames < vmlXML.getElementsByTagName('svg').length; zFrames++){
var frameNode = vmlXML.getElementsByTagName('svg')[zFrames];
qSVG += "<svg>";
for(var zLines = 0; zLines < frameNode.getElementsByTagName('line').length; zLines++){
var lineNodes = frameNode.getElementsByTagName('line')[zLines];
var qSVGLine = "<line ";
qSVGLine += 'x1="' + (parseFloat(lineNodes.getAttribute("from").split(',')[0])/0.75) + '" ';
qSVGLine += 'y1="' + (parseFloat(lineNodes.getAttribute("from").split(',')[1])/0.75) + '" ';
qSVGLine += 'x2="' + (parseFloat(lineNodes.getAttribute("to").split(',')[0])/0.75) + '" ';
qSVGLine += 'y2="' + (parseFloat(lineNodes.getAttribute("to").split(',')[1])/0.75) + '" ';
qSVGLine += 'stroke="' + lineNodes.getAttribute("strokecolor") + '" ';
qSVGLine += 'stroke-width="' + (parseFloat(lineNodes.getAttribute("strokeweight"))/0.75) + '" ';
qSVGLine += "></line>";
qSVG += qSVGLine;
}
for(var zRect = 0; zRect < frameNode.getElementsByTagName('rect').length; zRect++){
var rectNodes = frameNode.getElementsByTagName('rect')[zRect];
var qSVGRect = "<rect ";
var rectTop = 0;
var rectLeft = 0;
var rectWidth = 0;
var rectHeight = 0;
var zRectStyle = rectNodes.getAttribute("style").split(';')
for(var currentRectStyle = 0; currentRectStyle <= zRectStyle.length -1 ; currentRectStyle++){
var currentStyle = zRectStyle[currentRectStyle].split(':');
currentStyle[0] = replaceT(" ","",currentStyle[0])
currentStyle[1] = replaceT(" ","",currentStyle[1])
if(currentStyle[0].indexOf('LEFT') != -1){
rectLeft = currentStyle[1];
}
if(currentStyle[0].indexOf('TOP') != -1){
rectTop = currentStyle[1];
}
if(currentStyle[0].indexOf('WIDTH') != -1){
rectWidth = currentStyle[1];
}
if(currentStyle[0].indexOf('HEIGHT') != -1){
rectHeight = currentStyle[1];
}
}
qSVGRect += 'stroke-width="' + (parseFloat(rectNodes.getAttribute("strokeweight"))/0.75) + '" ';
qSVGRect += 'stroke="' + rectNodes.getAttribute("strokecolor") + '" ';
qSVGRect += 'fill="' + rectNodes.getAttribute("fillcolor") + '" ';
qSVGRect += 'height="' + rectHeight + '" ';
qSVGRect += 'width="' + rectWidth + '" ';
qSVGRect += 'x="' + rectLeft + '" ';
qSVGRect += 'y="' + rectTop + '" ';
qSVGRect += '></rect>'
qSVG += qSVGRect
}
qSVG += "</svg>";
}
qSVG += "</AnimationXML>";
return qSVG;
}

function isIE(){
    ie = navigator.appVersion.match(/MSIE (\d\.\d)/);
    opera = (navigator.userAgent.toLowerCase().indexOf("opera") != -1);
    if ((!ie) || (opera)) {
	
	}else{
	return true
	}
}

function initCanvas(){
	//for(var zxCanvas = 0; zxCanvas > 10; zxCanvas++){
	makeCanvas();
	//}
	gotoframe(1,1);
}

function playAnimation(){
AnimationPlay = true;
doAnimation();
}

function doAnimation(){
if(totalFrames == 1){
AnimationPlay = false;
}
if(currentCanvas + 1> totalFrames){
gotoframe(1,1);
setTimeout('doAnimation()',1000/AnimationFramerate);
}else{
if(AnimationPlay == true){
gotoframe(currentFrameSelection+1,1);
setTimeout('doAnimation()',1000/AnimationFramerate);
}
}
}

function replaceCompressXML(xmlData){
var b = xmlData;
b = replaceAll('<svg t="f">',"_e",b);
b = replaceAll(" ","",b,b);//remove spaces
b = replaceAll("<svg>","_f",b);
b = replaceAll("</svg>",",f",b);
b = replaceAll("<rect","_r",b);
b = replaceAll("</rect>",",r",b);
b = replaceAll("<line","_l",b);
b = replaceAll("</line>",",l",b);
b = replaceAll("stroke-width",".i",b);
b = replaceAll("stroke",".o",b);
b = replaceAll("fill",".f",b);
b = replaceAll("height",".h",b);
b = replaceAll("width",".w",b);
b = replaceAll("rgb","-y",b);
b = replaceAll("0,0,0","g",b);
b = replaceAll("255,0,0","*",b);
b = replaceAll("<AnimationXML>","_A",b);
b = replaceAll("</AnimationXML>",",A",b);
b = replaceAll('="',"~",b);
b = replaceAll('px"',"#",b);
return b;
}
function revReplace(stringa,stringb,astring){
return replaceAll(stringb,stringa,astring);
}
function replaceDecompressXML(xmlData){
var b = xmlData;

b = revReplace("0,0,0","g",b);
b = revReplace('<svg t="f">',"_e",b);
b = revReplace("255,0,0","*",b);
b = revReplace("<svg>","_f",b);
b = revReplace("</svg>",",f",b);
b = revReplace(" stroke-width",".i",b);
b = revReplace(" stroke",".o",b);
b = revReplace(" fill",".f",b);
b = revReplace(" height",".h",b);
b = revReplace(" width",".w",b);
b = revReplace(" rgb","-y",b);
b = revReplace("<line ","_l",b);
b = revReplace("</line> ",",l",b);

b = revReplace("<rect","_r",b);
b = revReplace("</rect>",",r",b);
b = revReplace("<AnimationXML>","_A",b);
b = revReplace("</AnimationXML>",",A",b);
b = revReplace('="',"~",b);
b = revReplace('px"',"#",b);
b = replaceAll('"x=','" x=',b);
b = replaceAll('"y=','" y=',b);

b = replaceAll('"x2=','" x2=',b);
b = replaceAll('"y2=','" y2=',b);
b = replaceAll('"x1=','" x1=',b);
b = replaceAll('"y1=','" y1=',b);

b = replaceAll('stroke=" ','stroke="',b);
b = replaceAll('fill=" ','fill="',b);
return b;
}

//it is a slightly modified and compacted version of Philip Tan Boon Yew's work
//http://home.pacific.net.sg/~firehzrd/jsarc/unWebify.html
// I chose it because it's better/faster than the algorithim I made
//and... just a reminder: google is your friend
// it also has regexp f
function replaceAll(findStr,repStr,oldStr) {
var newStr = ""; 
if(replaceEngine == 'string'){
var srchNdx = 0;
while (oldStr.indexOf(findStr,srchNdx) != -1)  {
newStr += oldStr.substring(srchNdx,oldStr.indexOf(findStr,srchNdx));
newStr += repStr;
srchNdx = (oldStr.indexOf(findStr,srchNdx) + findStr.length);
}
newStr += oldStr.substring(srchNdx,oldStr.length);   
}else{
try{
if(findStr.indexOf("*") == -1){
var re = new RegExp(findStr, "g"); // pre replace using regexp
newStr = oldStr.replace(re, repStr);
}else{
var srchNdx = 0;
while (oldStr.indexOf(findStr,srchNdx) != -1)  {
newStr += oldStr.substring(srchNdx,oldStr.indexOf(findStr,srchNdx));
newStr += repStr;
srchNdx = (oldStr.indexOf(findStr,srchNdx) + findStr.length);
}
newStr += oldStr.substring(srchNdx,oldStr.length);   
}
}catch(err){
var srchNdx = 0;
while (oldStr.indexOf(findStr,srchNdx) != -1)  {
newStr += oldStr.substring(srchNdx,oldStr.indexOf(findStr,srchNdx));
newStr += repStr;
srchNdx = (oldStr.indexOf(findStr,srchNdx) + findStr.length);
}
newStr += oldStr.substring(srchNdx,oldStr.length);   
}
}
return newStr;
}

function stopAnimation(){
AnimationPlay = false;
}

function hideCurrentCanvas(){
try{
document.getElementById("richdraw"+currentCanvas).style.display = "none";
}catch(err){}
}

function showCurrentCanvas(){
try{
document.getElementById("richdraw"+currentCanvas).style.display = "";
}catch(err){}
}




function flashVerification(){
if(generateAnimationXML().replace("<svg></svg>","") != '<AnimationXML></AnimationXML>'){

}
}

function genFlashHTML(aAnimationURL){
var zflashHTML = "";
zflashHTML='<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase= '
zflashHTML+='"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"'
zflashHTML+='WIDTH="'+canvasWidth+'" HEIGHT="'+canvasHeight+'" id="">'
zflashHTML+='<PARAM NAME=movie VALUE="'+ aAnimationURL+'">'
zflashHTML+='<PARAM NAME=quality VALUE=high><PARAM NAME=bgcolor VALUE=#FFFFFF><EMBED src="' + aAnimationURL+'" '
zflashHTML+=' quality=high bgcolor=#FFFFFF WIDTH="'+canvasWidth+'" HEIGHT="'+canvasHeight+'"'
zflashHTML+='NAME="" ALIGN="" TYPE="application/x-shockwave-flash"';
zflashHTML+='PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>'
return zflashHTML;
}

function embedAnimationPreview(){
$('previewStatus').innerHTML = "Mode: Preview (Revision " + (revisionNumber - 1) + ")"

document.getElementById("zFlashPreviewDiv").innerHTML = genFlashHTML(lastAnimationURL);
}

function PreviewRevision(revision){
AnimationPlay == true

$("zFlashPreviewDiv").innerHTML = genFlashHTML(animationRevisionURL[revision]);
}

function setRevisionFromBrowser(){
var RevisionBox = $('RevisionBrowser'); 
PreviewRevision(parseInt(RevisionBox.options[RevisionBox.selectedIndex].value));
}

function initRevisionBrowser(){

var zRevisionBrowserHTML = "";
zRevisionBrowserHTML += '<select id="RevisionBrowser" onchange="setRevisionFromBrowser();">'
for(var zRevisionOption = 0; zRevisionOption < animationRevision.length; zRevisionOption++){
var otherOptions = "";
if(zRevisionOption == animationRevision.length -1){
otherOptions = " (HEAD)"
}
if(zRevisionOption == 0){
otherOptions = " (Empty)"
}
zRevisionBrowserHTML += '<option value="'+zRevisionOption+'">Revision: '+zRevisionOption+'' + otherOptions+'</option>'
}
zRevisionBrowserHTML += '</select>'
$('RevisionBrowserDiv').innerHTML = zRevisionBrowserHTML;
try{
$('RevisionBrowser').options[animationRevision.length -1].selected = 'selected';
}catch(err){}
	  
}

function removeUnusedAttributes(zxml){


var newXml = zxml;

if (window.ActiveXObject){
var objDom=new ActiveXObject("Microsoft.XMLDOM");
objDom.async="false";
objDom.loadXML(zxml);
}else{
var parser=new DOMParser();
var objDom=parser.parseFromString(zxml,"text/xml");
}
var domTree = objDom.getElementsByTagName('AnimationXML')[0];
objDom.getElementsByTagName('AnimationXML')[0];
for(var zFrames = 0; zFrames < objDom.getElementsByTagName('svg').length; zFrames++){
var frameNode = objDom.getElementsByTagName('svg')[zFrames];
for(var zFrameObj = 0; zFrameObj < frameNode.childNodes.length; zFrameObj++){
newXml = newXml.replace(frameNode.childNodes[zFrameObj].getAttribute("id"),"")
newXml = newXml.replace(frameNode.childNodes[zFrameObj].getAttribute("style"),"")
newXml = newXml.replace(' id=""',"")
newXml = newXml.replace(' style=""',"")
}
}
return newXml;
}

function preFlash(){
initRevisionBrowser()
$('previewStatus').innerHTML = "Mode: Preview (Revision " + (revisionNumber - 1) + ")"

if(animationRevision[revisionNumber -1] == generateAnimationXML()){

setTimeout("embedAnimationPreview()",100);//hack to make it work right...

}else{
flashVerification()
$('zFlashPreviewDiv').style.height = canvasHeight + 'px';
$('zFlashPreviewDiv').style.width = canvasWidth + 'px';
$('zFlashPreviewDiv').innerHTML = "";
$('swfPreBtn').disabled = true;
$('swfPreBtn').value = 'generating...';
var swfgen = compressxml(generateAnimationXML());
if(generateAnimationXML().replace("<svg></svg>","") != '<AnimationXML></AnimationXML>'){
ajaxpack.postAjaxRequest("../freemovie/swfgen.php", "type=preview&height="+canvasHeight+"&width="+canvasWidth+"&framerate="+AnimationFramerate+"&svg=" + swfgen , preFlashEvent, "txt")
}else{$('zFlashPreviewDiv').innerHTML = "Sorry No Preview Availiable:<br> Empty Animation";}
}
$('previewStatus').innerHTML = "Mode: Preview (Revision " + (revisionNumber - 1) + ")"
}



function preFlashEvent(){
$('previewStatus').innerHTML = "Mode: Preview (Revision " + (revisionNumber - 1) + ")"
var myajax=ajaxpack.ajaxobj
var myfiletype=ajaxpack.filetype
if (myajax.readyState == 4){ //if request of file completed
if (myajax.status==200 || window.location.href.indexOf("http")==-1){ //if request was successful or running script locally
animationRevision[revisionNumber] = generateAnimationXML();
//$('previewIframe').src = myajax.responseText.replace('files','freemovie/files')
var flashHTML = "";
var FLASHfilename=myajax.responseText.replace('preview','../freemovie/preview');
lastAnimationURL = FLASHfilename;
animationRevisionURL[revisionNumber] = FLASHfilename;
revisionNumber++;
$('previewStatus').innerHTML = "Mode: Preview (Revision " + (revisionNumber - 1) + ")"
flashHTML='<object width="480" height="272"><embed src="'+FLASHfilename+'" width="480" height="272"></embed></object>'
document.getElementById("zFlashPreviewDiv").innerHTML = flashHTML;
$('swfPreBtn').disabled = false;
$('swfPreBtn').value = 'Preview';
if(myajax.responseText.indexOf('Warning') != -1 || myajax.responseText.indexOf('Error') != -1 ){
if(myajax.responseText.indexOf('<br>') != -1 || myajax.responseText.indexOf('<b>') != -1 ){
document.getElementById("zFlashPreviewDiv").innerHTML = myajax.responseText ;
}
}
}
}
initRevisionBrowser()
}

function genFlash(){
var zSWFFilename=prompt("please enter a file name for the animation");
zSWFFilename = zSWFFilename.replace(".swf","");
zSWFFilename = zSWFFilename.replace("/","");
zSWFFilename = zSWFFilename.replace(" ","_");
zSWFFilename = zSWFFilename.replace("+","");
zSWFFilename = zSWFFilename.replace("&","");
zSWFFilename = zSWFFilename.replace("?","");
$('swfGenBtn').disabled = true;
$('swfGenBtn').value = 'generating...';
$('export').innerHTML = '';
var swfgen = compressxml(generateAnimationXML());
if(generateAnimationXML().replace("<svg></svg>","") != '<AnimationXML></AnimationXML>'){
ajaxpack.postAjaxRequest("../freemovie/swfgen.php", "filename="+zSWFFilename+"&type=export&height="+canvasHeight+"&width="+canvasWidth+"&framerate="+AnimationFramerate+"&svg=" + swfgen , genFlashEvent, "txt")
}
}


function clearPreviews(){
ajaxpack.postAjaxRequest("../freemovie/clearPreviews.php","", clearPreviewEvent, "txt")
}


function clearPreviewEvent(){
var myajax=ajaxpack.ajaxobj
var myfiletype=ajaxpack.filetype
if (myajax.readyState == 4){ //if request of file completed
if (myajax.status==200 || window.location.href.indexOf("http")==-1){ //if request was successful or running script locally
alert(myajax.responseText)
}
}
}

function generateSWFResponse(responsedata){
var responseurl = responsedata.replace('files','../freemovie/files');
var absoluteResponseURL = responsedata.replace('files','../freemovie/files');
$('export').innerHTML = '<a id="zExportURL" href="' + responseurl + '>' + responseurl + '</a>';
$('swfGenBtn').disabled = false;
$('swfGenBtn').value = 'Export Animation';
$('export').innerHTML = '<a id="zExportURL" href="' + $('zExportURL').href + '>' + $('zExportURL').href + '</a>';
}

function genFlashEvent(){
var myajax=ajaxpack.ajaxobj
var myfiletype=ajaxpack.filetype
if (myajax.readyState == 4){ //if request of file completed
if (myajax.status==200 || window.location.href.indexOf("http")==-1){ //if request was successful or running script locally
setTimeout('generateSWFResponse("'+myajax.responseText+'")',500)
}
}
}
//Global Variables
var layers = 0;
var kFrameCount = 0;
var currentFrameSelection = 1;
var currentLayerSelection = 1;
var KeyFrames = new Array()
var zDataText = "";
var totalFramesPerLayer = 500;
//End Global Variables


//Color Variables
var KeyframeColor = "#0099CC";
var frameTextColor = "#000000";
var selectKeyframeColor = "";
var selectTextColor = "";
var FrameColor = "#ebf2f8";
var selectFrameColor = "";
var LayerBGColor = "#BED6E0";
//End Color Variables



function setOpacity(obj, value) { //this function is never actually called... but it would make a good effect
	getElementById(obj).style.opacity = value/10;
	getElementById(obj).style.filter = 'alpha(opacity=' + value*10 + ')';
}


function toKeyframe() //Function to convert normal frames to keyframes
{
	var zframe;
	zframe = document.getElementById("frame" + currentFrameSelection + "layer" + currentLayerSelection);
	zframe.style.color = frameTextColor;
	zframe.style.backgroundColor=KeyframeColor;
	KeyFrames[kFrameCount] = currentFrameSelection + "," + currentLayerSelection
	kFrameCount = kFrameCount + 1
	currentFrameSelection = currentFrameSelection;
	currentLayerSelection = currentLayerSelection;
	gotoframe(currentFrameSelection,currentLayerSelection);
}

function makeKeyframe(framenumber, layer){
	var zframe;
	zframe = document.getElementById("frame" + framenumber + "layer" + layer);
	zframe.style.color = frameTextColor;
	zframe.style.backgroundColor=KeyframeColor;
	KeyFrames[kFrameCount] = framenumber + "," + layer
	kFrameCount = kFrameCount + 1
	gotoframeInterface(framenumber,layer);
}




function fullgotoframe() //Function to refresh all data in the timeline
{
	if (confirm("Warning: This might take a very long time")) { 
	alert('you will be alerted when it is done');
	for(var iz = 1; iz <= layers; iz++)
	{
	for(var i = 1; i <= totalFramesPerLayer; i++)
	{
	gotoframeInterface(i,iz);
	}
	}
	}
	alert('done');
}


function gotoframeInterface(framenumber,layer){
//start keyframe detection code
	var wasKeyFrame = new Boolean(false); //variable to store wether the selection is a keyframe
	
	for(var m = 0; m <= kFrameCount; m++)
	{
	if(KeyFrames[m] == currentFrameSelection + "," + currentLayerSelection){
	wasKeyFrame = true
	}
	}
	//end keyframe detection code
	
	var aframe;
	aframe = document.getElementById("frame" + currentFrameSelection + "layer" + currentLayerSelection);
	if(wasKeyFrame == false){
	aframe.style.color = "black";
	aframe.style.backgroundColor=FrameColor;
	}
	if(wasKeyFrame == true){
	aframe.style.color = frameTextColor;
	aframe.style.backgroundColor=KeyframeColor;
	}
	currentFrameSelection = framenumber
	currentLayerSelection = layer
	var frame;
	frame = document.getElementById("frame" + framenumber + "layer" + layer);
	var isKeyFrame = new Boolean(false);
	for(var m = 0; m <= kFrameCount; m++)
	{
	if(KeyFrames[m] == framenumber + "," + layer){
	isKeyFrame = true
	}
	}

	if(isKeyFrame == false){
	frame.style.color = "#F2F2F2";
	frame.style.backgroundColor="#00BFFF";
	}
	if(isKeyFrame == true){
	frame.style.color = "#F2F2F2";
	frame.style.backgroundColor="#3579DC";
	}

}

function repeatChecks(){
checkFrame(currentFrameSelection,currentLayerSelection);

setTimeout("repeatChecks()",500);
}

repeatChecks()

function checkFrame(oFrame, oLayer){
try{
var zisempty = false;
if(DrawCanvas[oFrame] == null){
zisempty = true;
}else{
if(DrawCanvas[oFrame].renderer.getMarkup().replace(" ","") == "<svg></svg>"){
zisempty = true;
}
}
if(zisempty == false){
makeKeyframe(oFrame,oLayer);
}
}catch(err){}
}

function setTotalFrameValue(){
	var qframe;
	qframe = document.getElementById("frame" + totalFrames + "layer" + 1);
	qframe.style.color = "#ffffff";
	qframe.style.backgroundColor="#FF9900";
}

function changeTotalFrameValue(tfValue){
totalFrames = tfValue;
setTotalFrameValue();
gotoframe(currentFrameSelection,currentLayerSelection);
}

function gotoframe(framenumber, layer) //Function to change the current selected frame
{
	if(framenumber > 0 && framenumber < totalFramesPerLayer){
	checkFrame(currentFrameSelection, layer);
	previousCanvas = currentCanvas;
	if(framenumber > totalFrames){
	gotoframeInterface(totalFrames, layer);
	totalFrames = framenumber;
	}
	gotoframeInterface(framenumber,layer);
	if(framenumber < totalFrames){
	setTotalFrameValue()
	}
	hideCurrentCanvas();
	currentCanvas = framenumber;
	if(DrawCanvas[currentCanvas]==null){
	if(document.all){
	makeCanvasFromIE(framenumber);	
	}else{
	makeCanvasFromId(framenumber);
	}
	}
	showCurrentCanvas();
 checkFrame(framenumber, layer);

}
}



function removeKeyframe(){ //Function to delete selected keyframe
	var wasKeyFrame = new Boolean(false);
	for(var m = 0; m <= kFrameCount; m++)
	{
	if(KeyFrames[m] == currentFrameSelection + "," + currentLayerSelection){
	wasKeyFrame = true
	}
	}
	if(wasKeyFrame == false){
	alert("Error: This isn't a Key Frame!")
	}
	if(wasKeyFrame == true){
	if (confirm("Are You Sure you want to delete this frame?")) { 
	
	for(var m = 0; m <= kFrameCount; m++)
	{
	if(KeyFrames[m] == currentFrameSelection + "," + currentLayerSelection){
	KeyFrames[m] = "0,0";
	}
	}
	
	gotoframe(currentFrameSelection,currentLayerSelection);
	
	}
	}
}

function isKeyframe(frame, layer){
	var pKeyFrame = new Boolean();
	pKeyFrame = false
	for(var m = 0; m <= kFrameCount; m++)
	{
	if(KeyFrames[m] == frame + "," + layer){
	pKeyFrame = true
	}
	}
	return pKeyFrame;
}

function ClearAllKeyframes(){ //Empties timeline

	if (confirm("Are you sure you want to delete ALL the keyframes?")) { 
	for(var m = 0; m <= kFrameCount; m++)
	{
	KeyFrames[m] = "0,0";
	gotoframe(currentFrameSelection,currentLayerSelection);
	}
	alert("Done.");
	}
}

var TDCount = 0;


function addLayer(){

var asdf; //create the string that stores the layer data

layers = layers + 1;

asdf =  "<div id='framesDiv'><table width='100%' cellspacing='0px' id='framesTable" + layers + "'"; //Create the Layer

asdf = asdf + (" cellspacing='0' border='1' onmouseover=\"document.body.style.cursor='default';\"> ");

asdf = asdf + ("<tr>")

asdf = asdf + ("<td onmouseover=\"try{document.body.style.cursor='default';Tip('Layer "+layers+"');}catch(err){}\" height='5' bgcolor='"+LayerBGColor+"'");


asdf = asdf + (">Layer" + layers + "</td>")
for (var x = 1; x <= totalFramesPerLayer; x++) //Start adding frames
{

asdf = asdf + ("<td id='frame" + x + "layer" + layers + "'height='5' cellpadding='0px' cellspacing='0px'");//Main attributes/'Frame' declaration

asdf = asdf + ("style='-moz-user-select: none; background-color:"+FrameColor+";' ");//css styling

asdf = asdf + ("onmousedown='gotoframe(" + x +", " + layers +");'"); //Start Javascript event handling

asdf = asdf + ("onmouseover=\"try{Tip(setTooltipData('"+x+"','"+layers+"'),TITLE, 'Frame "+x+"');}catch(err){}\" "); 


asdf = asdf + (">" + x);//Text in each frame

asdf = asdf + ("</td>")//End Frame

}
//End adding layer
asdf = asdf + ("</tr></table></div>")//Create end tags for layer

changeInnerHTML("frameContainer",asdf)//Add the layer to the actual page


}


function setTooltipData(uFrame,uLayer){
var wasKeyFrame = new Boolean(false);
for(var m = 0; m <= kFrameCount; m++)
{
if(KeyFrames[m] == uFrame + "," + uLayer){
wasKeyFrame = true
}
}
var ziskeyframe = 'false';
ziskeyframe = 'false';
if(wasKeyFrame == true){
ziskeyframe = 'true';
}
var zisselected = 'false';
if (currentFrameSelection == uFrame){
if (currentLayerSelection == uLayer){
zisselected = 'true';
}
}
var zisempty = false;
if(DrawCanvas[uFrame] == null){
zisempty = true;
}else{
if(DrawCanvas[uFrame].renderer.getMarkup().replace(" ","") == "<svg></svg>"){
zisempty = true;
}
}
var canvasframepreview = "empty";
if(DrawCanvas[uFrame] != null){
canvasframepreview = DrawCanvas[uFrame].renderer.getMarkup()
}

if(zisempty == false){
var pstr = DrawCanvas[uFrame].renderer.getMarkup();
count = 0; 
var key = "rect";
pos = pstr.indexOf(key);
while ( pos != -1 ) {
count++;
pos = pstr.indexOf(key,pos+1);
}
key = "line";
pos = pstr.indexOf(key);
while ( pos != -1 ) {
count++;
pos = pstr.indexOf(key,pos+1);
}
}

//zDataText = '<b>frame:</b> '+uFrame+'<br><b>layer:</b> '+uLayer
zDataText = '<b>layer:</b> '+uLayer
zDataText+='<br><b>keyframe:</b>'+ziskeyframe+'<br><b>selected:</b> '+zisselected;
zDataText+='<br><b>empty:</b>' + zisempty;
if(zisempty == false){
zDataText+='<br><b>Total Objects:</b> ' + count/2;
}
if(uFrame == totalFrames){
zDataText+='<br><b>Last Frame</b>';
}
//zDataText+='<br><b>Preview:</b><br>' +  canvasframepreview.replace('_moz-userdefined=""','');
//document.getElementById("ToolTipData").innerHTML=zDataText
return zDataText;
}


function changeInnerHTML (elm, txt) {
	if(document.getElementById) {
	var el = document.getElementById(elm);
	el.innerHTML = el.innerHTML + txt;
	return true;
	}
	return false;
}


function overwriteInnerHTML (elm, txt) {
	if(document.getElementById) {
	var el = document.getElementById(elm);
	el.innerHTML =  txt;
	return true;
	}
	return false;
}


//<div id="frameContainer" onmouseover="document.body.style.cursor='default';" style="width:100%;overflow:scroll"></div>
/***********************************************
* Basic Ajax Routine- © Dynamic Drive DHTML code library (www.dynamicdrive.com)
* This notice MUST stay intact for legal use
* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
***********************************************/


//Basic Ajax Routine- Author: Dynamic Drive (http://www.dynamicdrive.com)
//Last updated: Jan 15th, 06'

function createAjaxObj(){
var httprequest=false
if (window.XMLHttpRequest){ // if Mozilla, Safari etc
httprequest=new XMLHttpRequest()
if (httprequest.overrideMimeType)
httprequest.overrideMimeType('text/xml')
}
else if (window.ActiveXObject){ // if IE
try {
httprequest=new ActiveXObject("Msxml2.XMLHTTP");
} 
catch (e){
try{
httprequest=new ActiveXObject("Microsoft.XMLHTTP");
}
catch (e){}
}
}
return httprequest
}

var ajaxpack=new Object()
ajaxpack.basedomain="http://"+window.location.hostname
ajaxpack.ajaxobj=createAjaxObj()
ajaxpack.filetype="txt"
ajaxpack.addrandomnumber=0 //Set to 1 or 0. See documentation.

ajaxpack.getAjaxRequest=function(url, parameters, callbackfunc, filetype){
ajaxpack.ajaxobj=createAjaxObj() //recreate ajax object to defeat cache problem in IE
if (ajaxpack.addrandomnumber==1) //Further defeat caching problem in IE?
var parameters=parameters+"&ajaxcachebust="+new Date().getTime()
if (this.ajaxobj){
this.filetype=filetype
this.ajaxobj.onreadystatechange=callbackfunc
this.ajaxobj.open('GET', url+"?"+parameters, true)
this.ajaxobj.send(null)
}
}

ajaxpack.postAjaxRequest=function(url, parameters, callbackfunc, filetype){
ajaxpack.ajaxobj=createAjaxObj() //recreate ajax object to defeat cache problem in IE
if (this.ajaxobj){
this.filetype=filetype
this.ajaxobj.onreadystatechange = callbackfunc;
this.ajaxobj.open('POST', url, true);
this.ajaxobj.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
this.ajaxobj.setRequestHeader("Content-length", parameters.length);
this.ajaxobj.setRequestHeader("Connection", "close");
this.ajaxobj.send(parameters);
}
}

//ACCESSIBLE VARIABLES (for use within your callback functions):
//1) ajaxpack.ajaxobj //points to the current ajax object
//2) ajaxpack.filetype //The expected file type of the external file ("txt" or "xml")
//3) ajaxpack.basedomain //The root domain executing this ajax script, taking into account the possible "www" prefix.
//4) ajaxpack.addrandomnumber //Set to 0 or 1. When set to 1, a random number will be added to the end of the query string of GET requests to bust file caching of the external file in IE. See docs for more info.

//ACCESSIBLE FUNCTIONS:
//1) ajaxpack.getAjaxRequest(url, parameters, callbackfunc, filetype)
//2) ajaxpack.postAjaxRequest(url, parameters, callbackfunc, filetype)

///////////END OF ROUTINE HERE////////////////////////


//////EXAMPLE USAGE ////////////////////////////////////////////
/* Comment begins here

//Define call back function to process returned data
function processGetPost(){
var myajax=ajaxpack.ajaxobj
var myfiletype=ajaxpack.filetype
if (myajax.readyState == 4){ //if request of file completed
if (myajax.status==200 || window.location.href.indexOf("http")==-1){ if request was successful or running script locally
if (myfiletype=="txt")
alert(myajax.responseText)
else
alert(myajax.responseXML)
}
}
}

/////1) GET Example- alert contents of any file (regular text or xml file):

ajaxpack.getAjaxRequest("example.php", "", processGetPost, "txt")
ajaxpack.getAjaxRequest("example.php", "name=George&age=27", processGetPost, "txt")
ajaxpack.getAjaxRequest("examplexml.php", "name=George&age=27", processGetPost, "xml")
ajaxpack.getAjaxRequest(ajaxpack.basedomain+"/mydir/mylist.txt", "", processGetPost, "txt")

/////2) Post Example- Post some data to a PHP script for processing, then alert posted data:

//Define function to construct the desired parameters and their values to post via Ajax
function getPostParameters(){
var namevalue=document.getElementById("namediv").innerHTML //get name value from a DIV
var agevalue=document.getElementById("myform").agefield.value //get age value from a form field
var poststr = "name=" + encodeURI(namevalue) + "&age=" + encodeURI(agevalue)
return poststr
}

var poststr=getPostParameters()

ajaxpack.postAjaxRequest("example.php", poststr, processGetPost, "txt")
ajaxpack.postAjaxRequest("examplexml.php", poststr, processGetPost, "xml")

Comment Ends here */

/***********************************************
* Dynamic Ajax Content- © Dynamic Drive DHTML code library (www.dynamicdrive.com)
* This notice MUST stay intact for legal use
* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
***********************************************/

var bustcachevar=1 //bust potential caching of external pages after initial request? (1=yes, 0=no)
var loadedobjects=""
var rootdomain="http://"+window.location.hostname
var bustcacheparameter=""

function ajaxpage(url, containerid){
var page_request = false
if (window.XMLHttpRequest) // if Mozilla, Safari etc
page_request = new XMLHttpRequest()
else if (window.ActiveXObject){ // if IE
try {
page_request = new ActiveXObject("Msxml2.XMLHTTP")
} 
catch (e){
try{
page_request = new ActiveXObject("Microsoft.XMLHTTP")
}
catch (e){}
}
}
else
return false
page_request.onreadystatechange=function(){
loadpage(page_request, containerid)
}
if (bustcachevar) //if bust caching of external page
bustcacheparameter=(url.indexOf("?")!=-1)? "&"+new Date().getTime() : "?"+new Date().getTime()
page_request.open('GET', url+bustcacheparameter, true)
page_request.send(null)
}

function loadpage(page_request, containerid){
if (page_request.readyState == 4 && (page_request.status==200 || window.location.href.indexOf("http")==-1))
document.getElementById(containerid).innerHTML=page_request.responseText
}

function loadobjs(){
if (!document.getElementById)
return
for (i=0; i<arguments.length; i++){
var file=arguments[i]
var fileref=""
if (loadedobjects.indexOf(file)==-1){ //Check to see if this object has not already been added to page before proceeding
if (file.indexOf(".js")!=-1){ //If object is a js file
fileref=document.createElement('script')
fileref.setAttribute("type","text/javascript");
fileref.setAttribute("src", file);
}
else if (file.indexOf(".css")!=-1){ //If object is a css file
fileref=document.createElement("link")
fileref.setAttribute("rel", "stylesheet");
fileref.setAttribute("type", "text/css");
fileref.setAttribute("href", file);
}
}
if (fileref!=""){
document.getElementsByTagName("head").item(0).appendChild(fileref)
loadedobjects+=file+" " //Remember this object as being already added to page
}
}
}


	if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
	@fileoverview
	//------------------------------------------------------------------------------------------------------
	//NOTE: THIS WAS HACKED BECAUSE I THOUGHT IT DIDN'T USE ENOUGH AJAX!
											--antimatter15 2007
	//------------------------------------------------------------------------------------------------------
	
	
	DHTML Suite for Applications.
	Copyright (C)2006  Alf Magne Kalleland(post@dhtmlgoodies.com)<br>
	<br>
	This library is free software; you can redistribute it and/or<br>
	modify it under the terms of the GNU Lesser General Public<br>
	License as published by the Free Software Foundation; either<br>
	version 2.1 of the License, or (at your option)any later version.<br>
	<br>
	This library is distributed in the hope that it will be useful,<br>
	but WITHOUT ANY WARRANTY; without even the implied warranty of<br>
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU<br>
	Lesser General Public License for more details.<br>
	<br>
	You should have received a copy of the GNU Lesser General Public<br>
	License along with this library; if not, write to the Free Software<br>
	Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA<br>
	<br>
	<br>
	www.dhtmlgoodies.com<br> 
	Alf Magne Kalleland<br>

************************************************************************************************************/


/**
*
*@package DHTMLSuite for applications
*@copyright Copyright &copy; 2006, www.dhtmlgoodies.com
*@author Alf Magne Kalleland <post@dhtmlgoodies.com>
 */


/****** 
Some prototypes:
**/


// Creating a trim method
if(!String.trim)String.prototype.trim=function(){ return this.replace(/^\s+|\s+$/, ''); };
var DHTMLSuite_funcs=new Object();
if(!window.DHTML_SUITE_THEME)var DHTML_SUITE_THEME='blue';
if(!window.DHTML_SUITE_THEME_FOLDER)var DHTML_SUITE_THEME_FOLDER='../themes/';
if(!window.DHTML_SUITE_JS_FOLDER)var DHTML_SUITE_JS_FOLDER='../js/separateFiles/';


/************************************************************************************************************
*
* Global variables
*
************************************************************************************************************/


// {{{ DHTMLSuite.createStandardObjects()
/**
*Create objects used by all scripts
 *
*@public
 */

var DHTMLSuite=new Object();

var standardObjectsCreated=false;	
// The classes below will check this variable, if it is false, default help objects will be created
DHTMLSuite.eventEls=new Array();	
// Array of elements that has been assigned to an event handler.

var widgetDep=new Object();

// Widget dependencies
widgetDep['formValidator']=['dhtmlSuite-formUtil.js'];	
// Form validator widget
widgetDep['paneSplitter']=['dhtmlSuite-paneSplitter.js','dhtmlSuite-paneSplitterModel.js','dhtmlSuite-dynamicContent.js','ajax.js'];
widgetDep['menuBar']=['dhtmlSuite-menuBar.js','dhtmlSuite-menuItem.js','dhtmlSuite-menuModel.js'];
widgetDep['windowWidget']=['dhtmlSuite-windowWidget.js','dhtmlSuite-resize.js','dhtmlSuite-dragDropSimple.js','ajax.js','dhtmlSuite-dynamicContent.js'];
widgetDep['colorWidget']=['dhtmlSuite-colorWidgets.js','dhtmlSuite-colorUtil.js'];
widgetDep['colorSlider']=['dhtmlSuite-colorWidgets.js','dhtmlSuite-colorUtil.js','dhtmlSuite-slider.js'];
widgetDep['colorPalette']=['dhtmlSuite-colorWidgets.js','dhtmlSuite-colorUtil.js'];
widgetDep['calendar']=['dhtmlSuite-calendar.js','dhtmlSuite-dragDropSimple.js'];
widgetDep['dragDropTree']=['dhtmlSuite-dragDropTree.js'];
widgetDep['slider']=['dhtmlSuite-slider.js'];
widgetDep['dragDrop']=['dhtmlSuite-dragDrop.js'];
widgetDep['imageEnlarger']=['dhtmlSuite-imageEnlarger.js','dhtmlSuite-dragDropSimple.js'];
widgetDep['imageSelection']=['dhtmlSuite-imageSelection.js'];
widgetDep['floatingGallery']=['dhtmlSuite-floatingGallery.js','dhtmlSuite-mediaModel.js'];
widgetDep['contextMenu']=['dhtmlSuite-contextMenu.js','dhtmlSuite-menuBar.js','dhtmlSuite-menuItem.js','dhtmlSuite-menuModel.js'];
widgetDep['dynamicContent']=['dhtmlSuite-dynamicContent.js','ajax.js'];
widgetDep['textEdit']=['dhtmlSuite-textEdit.js','dhtmlSuite-textEditModel.js','dhtmlSuite-listModel.js'];
widgetDep['listModel']=['dhtmlSuite-listModel.js'];
widgetDep['resize']=['dhtmlSuite-resize.js'];
widgetDep['dragDropSimple']=['dhtmlSuite-dragDropSimple.js'];
widgetDep['dynamicTooltip']=['dhtmlSuite-dynamicTooltip.js','dhtmlSuite-dynamicContent.js','ajax.js'];
widgetDep['modalMessage']=['dhtmlSuite-modalMessage.js','dhtmlSuite-dynamicContent.js','ajax.js'];
widgetDep['tableWidget']=['dhtmlSuite-tableWidget.js','ajax.js'];
widgetDep['progressBar']=['dhtmlSuite-progressBar.js'];
widgetDep['tabView']=['dhtmlSuite-tabView.js','dhtmlSuite-dynamicContent.js','ajax.js'];
widgetDep['infoPanel']=['dhtmlSuite-infoPanel.js','dhtmlSuite-dynamicContent.js','ajax.js'];
widgetDep['form']=['dhtmlSuite-formUtil.js','dhtmlSuite-dynamicContent.js','ajax.js'];

var depCache=new Object();

DHTMLSuite.include=function(widget)
{
	if(!widgetDep[widget]){
	alert('Cannot find the files for widget '+widget+'. Please verify that the name is correct');
	return;
	}
	var files=widgetDep[widget];
	for(var no=0;no<files.length;no++){
	if(!depCache[files[no]]){
/*	   
	   document.write('<'+'script');
	    document.write(' language="javascript"');
	    document.write(' type="text/javascript"');
	    document.write(' src="'+DHTML_SUITE_JS_FOLDER+files[no]+'">');
	    document.write('</'+'script'+'>');

		

var getheadTag = document.getElementsByTagName('head')[0];
setjs = document.createElement('script');
setjs.setAttribute('type', 'text/javascript');
getheadTag.appendChild(setjs);
var loader= (window.ActiveXObject) ? new ActiveXObject("Microsoft.XMLHTTP") : new XMLHttpRequest();
loader.open('GET', DHTML_SUITE_JS_FOLDER+files[no], false);
loader.send(null);
setjs.text = loader.responseText;
*/
	    depCache[files[no]]=true;
	}
	}

}

DHTMLSuite.discardElement=function(element){ 
	element=DHTMLSuite.commonObj.getEl(element);
    var gBin=document.getElementById('IELeakGBin'); 
    if (!gBin){ 
        gBin=document.createElement('DIV'); 
        gBin.id='IELeakGBin'; 
        gBin.style.display='none'; 
        document.body.appendChild(gBin); 
    } 
    
// move the element to the garbage bin 
    gBin.appendChild(element); 
    gBin.innerHTML=''; 
} 


DHTMLSuite.createStandardObjects=function(){
	DHTMLSuite.clientInfoObj=new DHTMLSuite.clientInfo();	
// Create browser info object
	DHTMLSuite.clientInfoObj.init();	
	if(!DHTMLSuite.configObj){	
// If this object isn't allready created, create it.
	DHTMLSuite.configObj=new DHTMLSuite.config();	
// Create configuration object.
	DHTMLSuite.configObj.init();
	}
	DHTMLSuite.commonObj=new DHTMLSuite.common();	
// Create configuration object.
	DHTMLSuite.variableStorage=new DHTMLSuite.globalVariableStorage();;	
// Create configuration object.
	DHTMLSuite.commonObj.init();
	DHTMLSuite.domQueryObj=new DHTMLSuite.domQuery();

	
	DHTMLSuite.commonObj.addEvent(window,'unload',function(){ DHTMLSuite.commonObj.__clearMemoryGarbage(); });
	
	standardObjectsCreated=true;	
}

    


/************************************************************************************************************
*	Configuration class used by most of the scripts
*
*	Created:		August, 19th, 2006
* 	Update log:
*
************************************************************************************************************/


/**
* @constructor
* @class Store global variables/configurations used by the classes below. Example: If you want to  
*	 change the path to the images used by the scripts, change it here. An object of this   
*	 class will always be available to the other classes. The name of this object is 
*	"DHTMLSuite.configObj".	<br><br>
*		
*	If you want to create an object of this class manually, remember to name it "DHTMLSuite.configObj"
*	This object should then be created before any other objects. This is nescessary if you want
*	the other objects to use the values you have put into the object. <br>
* @version		1.0
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/
DHTMLSuite.config=function(){
	var imagePath;	
// Path to images used by the classes. 
	var cssPath;	
// Path to CSS files used by the DHTML suite.	

	var defaultCssPath;
	var defaultImagePath;
}


DHTMLSuite.config.prototype={
	
// {{{ init()
	/**
	*	Initializes the config object-the config class is used to store global properties used by almost all widgets
	 *
	*@public
	 */
	init:function()
	{
	this.imagePath=DHTML_SUITE_THEME_FOLDER+DHTML_SUITE_THEME+'/images/';	
// Path to images	
	this.cssPath=DHTML_SUITE_THEME_FOLDER+DHTML_SUITE_THEME+'/css/';	
// Path to images	
	
	this.defaultCssPath=this.cssPath;
	this.defaultImagePath=this.imagePath;
		
	}	
	
// }}}
	,
	
// {{{ setCssPath()
    /**
    *This method will save a new CSS path, i.e. where the css files of the dhtml suite are located(the folder).
     *	This method is rarely used. Default value is the variable DHTML_SUITE_THEME_FOLDER+DHTML_SUITE_THEME+'/css',
     *	which means that the css path is set dynamically based on which theme you choose.
     *
    *@param string newCssPath=New path to css files(folder-remember to have a slash(/)at the end)
    *@public
     */
    	
	setCssPath:function(newCssPath)
	{
	this.cssPath=newCssPath;
	}
	
// }}}
	,
	
// {{{ resetCssPath()
    /**
    *@deprecated
    *Resets css path back to default value which is ../css_dhtmlsuite/
    *This method is deprecated.
     *
    *@public
     */    	
	resetCssPath:function()
	{
	this.cssPath=this.defaultCssPath;
	}
	
// }}}
	,
	
// {{{ resetImagePath()
    /**
    *@deprecated
     *
    *Resets css path back to default path which is DHTML_SUITE_THEME_FOLDER+DHTML_SUITE_THEME+'/css'
    *This method is deprecated. 
    *@public
     */    	
	resetImagePath:function()
	{
	this.imagePath=this.defaultImagePath;
	}
	
// }}}
	,
	
// {{{ setImagePath()
    /**
    *This method will save a new image file path, i.e. where the image files used by the dhtml suite ar located
     *
    *@param string newImagePath=New path to image files (remember to have a slash(/)at the end)
    *@public
     */
	setImagePath:function(newImagePath)
	{
	this.imagePath=newImagePath;
	}
	
// }}}
}



DHTMLSuite.globalVariableStorage=function(){
	var menuBar_highlightedItems;	
// Array of highlighted menu bar items
	this.menuBar_highlightedItems=new Array();
	
	var arrayDSObjects;	
// Array of objects of class menuItem.
	var arrayOfDhtmlSuiteObjects;
	this.arrayDSObjects=new Array();
	this.arrayOfDhtmlSuiteObjects=this.arrayDSObjects;
	var ajaxObjects;
	this.ajaxObjects=new Array();
}

DHTMLSuite.globalVariableStorage.prototype={
	
}


/************************************************************************************************************
*	A class with general methods used by most of the scripts
*
*	Created:		August, 19th, 2006
*	Purpose of class:	A class containing common method used by one or more of the gui classes below, 
* 			example: loadCSS. 
*			An object("DHTMLSuite.commonObj")of this  class will always be available to the other classes. 
* 	Update log:
*
************************************************************************************************************/


/**
* @constructor
* @class A class containing common method used by one or more of the gui classes below, example: loadCSS. An object("DHTMLSuite.commonObj")of this  class will always be available to the other classes. 
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/

DHTMLSuite.common=function(){
	var loadedCSSFiles;	
// Array of loaded CSS files. Prevent same CSS file from being loaded twice.
	var cssCacheStatus;	
// Css cache status
	var eventEls;
	var isOkToSelect;	
// Boolean variable indicating if it's ok to make text selections
	
	this.okToSelect=true;
	this.cssCacheStatus=true;	
// Caching of css files=on(Default)
	this.eventEls=new Array();	
}

DHTMLSuite.common.prototype={
	
	
// {{{ init()
    /**
    *This method initializes the DHTMLSuite_common object.
     *	This class contains a lot of useful methods used by most widgets.
     *
    *@public
     */    	
	init:function()
	{
	this.loadedCSSFiles=new Array();
	}	
	
// }}}
	,
	
// {{{ loadCSS()
    /**
    *This method loads a CSS file(Cascading Style Sheet)dynamically-i.e. an alternative to <link> tag in the document.
     *
    *@param string cssFile=Name of css file. It will be loaded from the path specified in the DHTMLSuite.common object
    *@param Boolean prefixConfigPath=Use config path as prefix.
    *@public
     */	
	loadCSS:function(cssFile,prefixConfigPath)
	{
	if(!prefixConfigPath&&prefixConfigPath!==false)prefixConfigPath=true;
	if(!this.loadedCSSFiles[cssFile]){
		this.loadedCSSFiles[cssFile]=true;
		var lt=document.createElement('LINK');
		if(!this.cssCacheStatus){
		if(cssFile.indexOf('?')>=0)cssFile=cssFile+'&'; else cssFile=cssFile+'?';
		cssFile=cssFile+'rand='+ Math.random();	
// To prevent caching
		}
		if(prefixConfigPath){
		lt.href=DHTMLSuite.configObj.cssPath+cssFile;
		}else{
		lt.href=cssFile;
		}
		lt.rel='stylesheet';
		lt.media='screen';
		lt.type='text/css';
		document.getElementsByTagName('HEAD')[0].appendChild(lt);		
	}
	}	
	
// }}}
	,
	
// {{{ __setTextSelOk()
    /**
    *Is it ok to make text selections ?
     *
    *@param Boolean okToSelect 
    *@private
     */	
	__setTextSelOk:function(okToSelect){
	this.okToSelect=okToSelect;
	}
	
// }}}
	,
	
// {{{ __setTextSelOk()
    /**
    *Returns true if it's ok to make text selections, false otherwise.
     *
    *@return Boolean okToSelect 
    *@private
     */	
	__isTextSelOk:function()
	{
	return this.okToSelect;
	}
	
// }}}	
	,	
	
// {{{ setCssCacheStatus()
    /**
    *Specify if css files should be cached or not. 
     *
     *	@param Boolean cssCacheStatus=true=cache on, false=cache off
     *
    *@public
     */	
	setCssCacheStatus:function(cssCacheStatus)
	{	
	  this.cssCacheStatus=cssCacheStatus;
	}
	
// }}}	
	,
	
// {{{ getEl()
    /**
    *Return a reference to an object
     *
    *@param Object elRef=Id, name or direct reference to element
    *@return Object HTMLElement-direct reference to element
    *@public
     */	
	getEl:function(elRef)
	{
	if(typeof elRef=='string'){
		if(document.getElementById(elRef))return document.getElementById(elRef);
		if(document.forms[elRef])return document.forms[elRef];
		if(document[elRef])return document[elRef];
		if(window[elRef])return window[elRef];
	}
	return elRef;	
// Return original ref.
	
	}
	
// }}}
	,
	
// {{{ isArray()
    /**
    *Return true if element is an array
     *
    *@param Object el=Reference to HTML element
    *@public
     */	
	isArray:function(el)
	{
	if(el.constructor.toString().indexOf("Array")!=-1)return true;
	return false;
	}
	
// }}}
	,
	
// {{{ getStyle()
    /**
    *Return specific style attribute for an element
     *
    *@param Object el=Reference to HTML element
    *@param String property=Css property
    *@public
     */	
	getStyle:function(el,property)
	{	
	el=this.getEl(el);
	    if (document.defaultView&&document.defaultView.getComputedStyle){
            var retVal=null;	            
            var comp=document.defaultView.getComputedStyle(el, '');
            if (comp){
                retVal=comp[property];
            }	            
            return el.style[property]||retVal;
	    }
	if (document.documentElement.currentStyle&&DHTMLSuite.clientInfoObj.isMSIE){	
	        var retVal=null;
	        if(el.currentStyle)value=el.currentStyle[property];
	        return (el.style[property]||retVal);                    	
	}
	return el.style[property];		
	}
	
// }}}
	,
	
// {{{ getLeftPos()
    /**
    *This method will return the left coordinate(pixel)of an HTML element
     *
    *@param Object el=Reference to HTML element
    *@public
     */	
	getLeftPos:function(el)
	{	 
	/*
	if(el.getBoundingClientRect){ 
// IE
		var box=el.getBoundingClientRect();	
		return (box.left/1+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft));
	}
	*/
	if(document.getBoxObjectFor){
		if(el.tagName!='INPUT'&&el.tagName!='SELECT'&&el.tagName!='TEXTAREA')return document.getBoxObjectFor(el).x
	}	 
	var returnValue=el.offsetLeft;
	while((el=el.offsetParent)!=null){
		if(el.tagName!='HTML'){
		returnValue += el.offsetLeft;
		if(document.all)returnValue+=el.clientLeft;
		}
	}
	return returnValue;
	}
	
// }}}
	,
	
// {{{ getTopPos()
    /**
    *This method will return the top coordinate(pixel)of an HTML element/tag
     *
    *@param Object el=Reference to HTML element
    *@public
     */	
	getTopPos:function(el)
	{	
	/*
	if(el.getBoundingClientRect){	
// IE
		var box=el.getBoundingClientRect();	
		return (box.top/1+Math.max(document.body.scrollTop,document.documentElement.scrollTop));
	}
	*/	
	if(document.getBoxObjectFor){
		if(el.tagName!='INPUT'&&el.tagName!='SELECT'&&el.tagName!='TEXTAREA')return document.getBoxObjectFor(el).y
	}
	
	var returnValue=el.offsetTop;
	while((el=el.offsetParent)!=null){
		if(el.tagName!='HTML'){
		returnValue += (el.offsetTop-el.scrollTop);
		if(document.all)returnValue+=el.clientTop;
		}
	} 
	return returnValue;
	}
	
// }}}
	,	
	
// {{{ getCookie()
    /**
     *
    *	These cookie functions are downloaded from 
	*	http:
//www.mach5.com/support/analyzer/manual/html/General/CookiesJavaScript.htm
	 *
    * This function returns the value of a cookie
     *
    *@param String name=Name of cookie
    *@param Object inputObj=Reference to HTML element
    *@public
     */	
	getCookie:function(name){ 
	   var start=document.cookie.indexOf(name+"="); 
	   var len=start+name.length+1; 
	   if ((!start)&&(name!=document.cookie.substring(0,name.length)))return null; 
	   if (start==-1)return null; 
	   var end=document.cookie.indexOf(";",len); 
	   if (end==-1)end=document.cookie.length; 
	   return unescape(document.cookie.substring(len,end)); 
	} 	
	
// }}}
	,	
	
// {{{ setCookie()
    /**
     *
    *	These cookie functions are downloaded from 
	*	http:
//www.mach5.com/support/analyzer/manual/html/General/CookiesJavaScript.htm
	 *
    * This function creates a cookie. (This method has been slighhtly modified)
     *
    *@param String name=Name of cookie
    *@param String value=Value of cookie
    *@param Int expires=Timestamp-days
    *@param String path=Path for cookie (Usually left empty)
    *@param String domain=Cookie domain
    *@param Boolean secure=Secure cookie(SSL)
    *
    *@public
     */	
	setCookie:function(name,value,expires,path,domain,secure){ 
	expires=expires*60*60*24*1000;
	var today=new Date();
	var expires_date=new Date( today.getTime()+(expires));
	    var cookieString=name+"=" +escape(value)+
	       ((expires)?";expires="+expires_date.toGMTString():"")+
	       ((path)?";path="+path:"")+
	       ((domain)?";domain="+domain:"")+
	       ((secure)?";secure":""); 
	    document.cookie=cookieString; 
	}
	
// }}}
	,
	
// {{{ deleteCookie()
    /**
	 *
    * This function deletes a cookie. (This method has been slighhtly modified)
     *
    *@param String name=Name of cookie
    *@param String path=Path for cookie (Usually left empty)
    *@param String domain=Cookie domain
    *
    *@public
     */	
	deleteCookie:function( name, path, domain )
	{
	if ( this.getCookie( name ))document.cookie=name+"=" +
	(( path )?";path="+path:"")+
	(( domain )?";domain="+domain:"" )+
	";expires=Thu, 01-Jan-1970 00:00:01 GMT";
	}
	
// }}}
	,
	
// {{{ cancelEvent()
    /**
     *
    * This function only returns false. It is used to cancel selections and drag
     *
    *
    *@public
     */	
    	
	cancelEvent:function()
	{
	return false;
	}
	
// }}}	
	,
	
// {{{ addEvent()
    /**
     *
    * This function adds an event listener to an element on the page.
     *
     *	@param Object whichObject=Reference to HTML element(Which object to assigne the event)
     *	@param String eventType=Which type of event, example "mousemove" or "mouseup" (NOT "onmousemove")
     *	@param functionName=Name of function to execute. 
    *
    *@public
     */	
	addEvent:function( obj, type, fn,suffix ){
	if(!suffix)suffix='';
	if ( obj.attachEvent ){
		if ( typeof DHTMLSuite_funcs[type+fn+suffix]!='function'){
		DHTMLSuite_funcs[type+fn+suffix]=function(){
			fn.apply(window.event.srcElement);
		};
		obj.attachEvent('on'+type, DHTMLSuite_funcs[type+fn+suffix] );
		}
		obj=null;
	} else {
		obj.addEventListener( type, fn, false );
	}
	this.__addEventEl(obj);
	}	

	
// }}}	
	,	
	
// {{{ removeEvent()
    /**
     *
    * This function removes an event listener from an element on the page.
     *
     *	@param Object whichObject=Reference to HTML element(Which object to assigne the event)
     *	@param String eventType=Which type of event, example "mousemove" or "mouseup"
     *	@param functionName=Name of function to execute. 
    *
    *@public
     */	
	removeEvent:function(obj,type,fn,suffix)
	{ 
	if ( obj.detachEvent ){
	obj.detachEvent( 'on'+type, DHTMLSuite_funcs[type+fn+suffix] );
		DHTMLSuite_funcs[type+fn+suffix]=null;
		obj=null;
	} else {
		obj.removeEventListener( type, fn, false );
	}
	} 
	
// }}}
	,
	
// {{{ __clearMemoryGarbage()
    /**
     *
    * This function is used for Internet Explorer in order to clear memory when the page unloads.
     *
    *
    *@private
     */	
    __clearMemoryGarbage:function()
    {
   	/* Example of event which causes memory leakage in IE 
   	DHTMLSuite.commonObj.addEvent(expandRef,"click",function(){ window.refToMyMenuBar[index].__changeMenuBarState(this); })
   	We got a circular reference.
   	*/
    	if(!DHTMLSuite.clientInfoObj.isMSIE)return;
   	
    	for(var no=0;no<DHTMLSuite.eventEls.length;no++){
    	try{
    		var el=DHTMLSuite.eventEls[no];
	    	el.onclick=null;
	    	el.onmousedown=null;
	    	el.onmousemove=null;
	    	el.onmouseout=null;
	    	el.onmouseover=null;
	    	el.onmouseup=null;
	    	el.onfocus=null;
	    	el.onblur=null;
	    	el.onkeydown=null;
	    	el.onkeypress=null;
	    	el.onkeyup=null;
	    	el.onselectstart=null;
	    	el.ondragstart=null;
	    	el.oncontextmenu=null;
	    	el.onscroll=null;   
	    	el=null; 	
    	}catch(e){
    	}
    	}    	
    	
    	for(var no in DHTMLSuite.variableStorage.arrayDSObjects){
    	DHTMLSuite.variableStorage.arrayDSObjects[no]=null;    		
    	}
    	
    	window.onbeforeunload=null;
    	window.onunload=null;
    	DHTMLSuite=null;
    }	
    
// }}}
    ,
	
// {{{ __addEventEl()
    /**
     *
    * Add element to garbage collection array. The script will loop through this array and remove event handlers onload in ie.
     *
    *
    *@private
     */	    
    __addEventEl:function(el)
    {
    	DHTMLSuite.eventEls[DHTMLSuite.eventEls.length]=el;    
    }
    
// }}}
    ,
	
// {{{ getSrcElement()
    /**
     *
    * Returns a reference to the HTML element which triggered an event.
     *	@param Event e=Event object
     *
    *
    *@public
     */	       
    getSrcElement:function(e)
    {
    	var el;
	if (e.target)el=e.target;
		else if (e.srcElement)el=e.srcElement;
		if (el.nodeType==3)
// defeat Safari bug
		el=el.parentNode;
	return el;	
    }	
    
// }}}
    ,
	
// {{{ getKeyFromEvent()
    /**
     *
    * Returns key from event object
     *	@param Event e=Event object
    *
    *@public
     */	     
    getKeyFromEvent:function(e)
    {
	var code=this.getKeyCode(e);   	
    	return String.fromCharCode(code);
    }
    
// }}}
    ,
	
// {{{ getKeyCode()
    /**
     *
    * Returns key code from event
     *	@param Event e=Event object
    *
    *@public
     */	     
    getKeyCode:function(e)
    {
    	if (e.keyCode)code=e.keyCode; else if (e.which)code=e.which;  
    	return code;
    }
    
// }}}	
    ,
	
// {{{ isObjectClicked()
    /**
     *
    * Returns true if an object is clicked, false otherwise. This method will also return true if you clicked on a sub element
     *	@param Object obj=Reference to HTML element
     *	@param Event e=Event object
     *
    *
    *@public
     */	      
	isObjectClicked:function(obj,e)
	{
	var src=this.getSrcElement(e);
	var string=src.tagName+'('+src.className+')';
	if(src==obj)return true;
	while(src.parentNode&&src.tagName.toLowerCase()!='html'){
		src=src.parentNode;
		string=string+','+src.tagName+'('+src.className+')';
		if(src==obj)return true;		
	}	
	return false;	
	}
	
// }}}
	,
	
// {{{ getObjectByClassName()
    /**
     *
    * Walks up the DOM tree and returns first found object with a given class name
     *
     *	@param Event e=Event object
     *	@param String className=CSS-Class name
     *
    *
    *@public
     */	 	
	getObjectByClassName:function(e,className)
	{
	var src=this.getSrcElement(e);
	if(src.className==className)return src;
	while(src&&src.tagName.toLowerCase()!='html'){
		src=src.parentNode;	
		if(src.className==className)return src;
	}
	return false;
	}
	
//}}}
	,
	
// {{{ getObjectByAttribute()
    /**
     *
    * Walks up the DOM tree and returns first found object with a given attribute set
     *
     *	@param Event e=Event object
     *	@param String attribute=Custom attribute
     *
    *
    *@public
     */	 	
	getObjectByAttribute:function(e,attribute)
	{
	var src=this.getSrcElement(e);
	var att=src.getAttribute(attribute);
	if(!att)att=src[attribute];
	if(att)return src;
	while(src&&src.tagName.toLowerCase()!='html'){
		src=src.parentNode;	
		var att=src.getAttribute('attribute');
		if(!att)att=src[attribute];	
		if(att)return src;
	}
	return false;
	}
	
//}}}
	,
	
// {{{ getUniqueId()
    /**
     *
    * Returns a unique numeric id
     *
     *
    *
    *@public
     */	
	getUniqueId:function()
	{
	var no=Math.random()+'';
	no=no.replace('.','');	
	var no2=Math.random()+'';
	no2=no2.replace('.','');	
	return no+no2;	
	}
	
// }}}
	,
	
// {{{ getAssociativeArrayFromString()
    /**
     *
    * Returns an associative array from a comma delimited string
    * @param String propertyString-commaseparated string(example: "id:myid,title:My title,contentUrl:includes/tab.inc")
     *
     *	@return Associative array of keys+property value(example: key: id, value:myId)
    *@public
     */	
	getAssociativeArrayFromString:function(propertyString)
	{
	if(!propertyString)return;
	var retArray=new Array();
	var items=propertyString.split(/,/g);
	for(var no=0;no<items.length;no++){
		var tokens=items[no].split(/:/);	
		retArray[tokens[0]]=tokens[1];		
	}	
	return retArray;	
	}
	
// }}}
	,
	
// {{{ correctPng()
    /**
     *
    * Correct png for old IE browsers
    * @param Object el-Id or direct reference to image
     *
    *@public
     */	
	correctPng:function(el)
	{
	el=DHTMLSuite.commonObj.getEl(el);	
	var img=el;
	var width=img.width;
	var height=img.height;
	var html='<span style="display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\''+img.src+'\',sizingMethod=\'scale\');width:'+width+';height:'+height+'"></span>';
	img.outerHTML=html;	
			
	}
	,	
	
// {{{ __evaluateJs()
    /**
    *Evaluate Javascript in the inserted content
     *
    *@private
     */	
	__evaluateJs:function(obj)
	{
	obj=this.getEl(obj);
	var scriptTags=obj.getElementsByTagName('SCRIPT');
	var string='';
	var jsCode='';
	for(var no=0;no<scriptTags.length;no++){	
		if(scriptTags[no].src){
	        var head=document.getElementsByTagName("head")[0];
	        var scriptObj=document.createElement("script");
	
	        scriptObj.setAttribute("type", "text/javascript");
	        scriptObj.setAttribute("src", scriptTags[no].src);  	
		}else{
		if(DHTMLSuite.clientInfoObj.isOpera){
			jsCode=jsCode+scriptTags[no].text+'\n';
		}
		else
			jsCode=jsCode+scriptTags[no].innerHTML;	
		}		
	}
	if(jsCode)this.__installScript(jsCode);
	}
	
// }}}
	,
	
// {{{ __installScript()
    /**
    * "Installs" the content of a <script> tag.
     *
    *@private        
     */	
	__installScript:function ( script )
	{	
	try{
	    if (!script)
	        return;	
	        if (window.execScript){        	
	        	window.execScript(script)
	        }else if(window.jQuery&&jQuery.browser.safari){ 
// safari detection in jQuery
	            window.setTimeout(script,0);
	        }else{        	
	            window.setTimeout( script, 0 );
	        } 
	}catch(e){
		
	}
	}	
	
// }}}
	,
	
// {{{ __evaluateCss()
    /**
    * Evaluates css
     *
    *@private        
     */	
	__evaluateCss:function(obj)
	{
	obj=this.getEl(obj);
	var cssTags=obj.getElementsByTagName('STYLE');
	var head=document.getElementsByTagName('HEAD')[0];
	for(var no=0;no<cssTags.length;no++){
		head.appendChild(cssTags[no]);
	}	
	}	
}

/************************************************************************************************************
*	Client info class
*
*	Created:		August, 18th, 2006
* 	Update log:
*
************************************************************************************************************/

/**
* @constructor
* @class Purpose of class: Provide browser information to the classes below. Instead of checking for
*	 browser versions and browser types in the classes below, they should check this
*	 easily by referncing properties in the class below. An object("DHTMLSuite.clientInfoObj")of this 
*	 class will always be accessible to the other classes.*@version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/


DHTMLSuite.clientInfo=function(){
	var browser;		
// Complete user agent information
	
	var isOpera;		
// Is the browser "Opera"
	var isMSIE;		
// Is the browser "Internet Explorer"
	var isOldMSIE;		
// Is this browser and older version of Internet Explorer ( by older, we refer to version 6.0 or lower)	
	var isFirefox;		
// Is the browser "Firefox"
	var navigatorVersion;	
// Browser version
	var isOldMSIE;
}
	
DHTMLSuite.clientInfo.prototype={
	
	
// {{{ init()
    /**
    * This method initializes the clientInfo object. This is done automatically when you create a widget object.
     *
    *@public
     */	    	
	init:function()
	{
	this.browser=navigator.userAgent;	
	this.isOpera=(this.browser.toLowerCase().indexOf('opera')>=0)?true:false;
	this.isFirefox=(this.browser.toLowerCase().indexOf('firefox')>=0)?true:false;
	this.isMSIE=(this.browser.toLowerCase().indexOf('msie')>=0)?true:false;
	this.isOldMSIE=(this.browser.toLowerCase().match(/msie\s[0-6]/gi))?true:false;
	this.isSafari=(this.browser.toLowerCase().indexOf('safari')>=0)?true:false;
	this.navigatorVersion=navigator.appVersion.replace(/.*?MSIE\s(\d\.\d).*/g,'$1')/1;
	this.isOldMSIE=(this.isMSIE&&this.navigatorVersion<7)?true:false;
	}	
	
// }}}	
	,
	
// {{{ getBrowserWidth()
    /**
     *
	 *
    * This method returns the width of the browser window(i.e. inner width)
     *
    *
    *@public
     */	
	getBrowserWidth:function()
	{
	if(self.innerWidth)return self.innerWidth;
	return document.documentElement.offsetWidth;	
	}
	
// }}}
	,
	
// {{{ getBrowserHeight()
    /**
     *
	 *
    * This method returns the height of the browser window(i.e. inner height)
     *
    *
    *@public
     */	
	getBrowserHeight:function()
	{
	if(self.innerHeight)return self.innerHeight;
	return document.documentElement.offsetHeight;
	}
}



/************************************************************************************************************
*	DOM query class 
*
*	Created:		August, 31th, 2006
*
* 	Update log:
*
************************************************************************************************************/

/**
* @constructor
* @class Purpose of class:	Gives you a set of methods for querying elements on a webpage. When an object
*	 of this class has been created, the method will also be available via the document object.
*	 Example: var elements=document.getElementsByClassName('myClass');
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/

DHTMLSuite.domQuery=function(){
	
// Make methods of this class a member of the document object. 
	document.getElementsByClassName=this.getElementsByClassName;
	document.getElementsByAttribute=this.getElementsByAttribute;
}



	
DHTMLSuite.domQuery.prototype={
}

	</script>
    <script src="../lib/prototype.js" type="text/javascript"</script>
    <script src="../ajaxanimator/includes.js" type="text/javascript"</script>
	<script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML context menu class
*
*	Created:			November, 4th, 2006
*	@class Purpose of class:	Creates a context menu
*		
*	Css files used by this script:	context-menu.css
*
*	Demos of this class:		demo-context-menu.html
*
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class Purpose of class:	Creates a context menu. (<a href="../../demos/demo-context-menu.html" target="_blank">Demo</a>)
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

var referenceToDHTMLSuiteContextMenu;


DHTMLSuite.contextMenu=function(){
	var menuModels;
	var defaultMenuModel;
	var menuItems;	
	var menuObject;		
// Reference to context menu div
	var layoutCSS;
	var menuUls;		
// Array of <ul> elements
	var width;		
// Width of context menu
	var srcElement;		
// Reference to the element which triggered the context menu, i.e. the element which caused the context menu to be displayed.
	var indexCurrentlyDisplayedMenuModel;	
// Index of currently displayed menu model.
	var menuBar;	
	this.menuModels=new Object();
	this.menuObject=false;
	this.menuUls=new Array();
	this.width=100;
	this.srcElement=false;
	this.indexCurrentlyDisplayedMenuModel=false;
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	var objectIndex;
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;	
}

DHTMLSuite.contextMenu.prototype=
{
	
// {{{ setWidth()
    /**
     *	Set width of context menu
     *
    * @param Integer newWidth-Width of context menu
     *
    *@public	
     */	
	setWidth:function(newWidth)
	{
	this.width=newWidth;
	}
	
// }}}
	,	
	
// {{{ setLayoutCss()
    /**
     *	Add menu items
     *	@deprecated
    * @param String cssFileName Name of css file 	
     *
    *@private	
     */	
	setLayoutCss:function(cssFileName)
	{
	
// this.layoutCSS=cssFileName;	
	}	
	
// }}}	
	,	
	
// {{{ attachToElement()
    /**
    * @deprecated
     *	Add menu items
     *
    * @param Object HTML Element=Reference to html element
    * @param String elementId=String id of element(optional). An alternative to HTML Element	
    * @param DHTMLSuite.menuModel menuModel=Menu model to use on this HTML element	
     *
    *@private	
     */	
	attachToElement:function(element,elementId,menuModel)
	{
	window.refToThisContextMenu=this;
	if(!element&&elementId)element=document.getElementById(elementId);
	if(!element.id){
		element.id='context_menu'+Math.random();
		element.id=element.id.replace('.','');
	}
	this.menuModels[element.id]=menuModel;
	menuModel.setSubMenuType(1,'sub');
	menuModel.setMainMenuGroupWidth(this.width);	
	if(!this.defaultMenuModel)this.defaultMenuModel=menuModel;
	element.oncontextmenu=this.__displayContextMenu;
	element.onmousedown=function(){ window.refToThisContextMenu.__setReference(window.refToThisContextMenu); };
	DHTMLSuite.commonObj.__addEventEl(element)
	DHTMLSuite.commonObj.addEvent(document.documentElement,"click",this.__hideContextMenu);	
	}	
	
// }}}
	,
	
// {{{ attachTo()
    /**
     *	Add menu items
     *
    * @param Object HTML Element=Reference to html element
    * @param DHTMLSuite.menuModel menuModel=Menu model to use on this HTML element	
     *
    *@public	
     */	
    attachTo:function(el,menuModel)
    {
    	el=DHTMLSuite.commonObj.getEl(el);
    	this.attachToElement(el,false,menuModel);	
    }    
	
// }}}
	,
	
// {{{ __setReference()
    /**
     *	Creates a reference to current context menu object. (Note: This method should be deprecated as only one context menu object is needed)
     *
    * @param Object context menu object=Reference to context menu object
     *
    *@private	
     */	
	__setReference:function(obj)
	{	
	referenceToDHTMLSuiteContextMenu=obj;	
	}
	,
	
// {{{ __displayContextMenu()
    /**
     *	Displays the context menu
     *
    * @param Event e
     *
    *@private	
     */	
	__displayContextMenu:function(e)
	{
	if(document.all)e=event;	

	var ref=referenceToDHTMLSuiteContextMenu;
	if(ref.isContextMenuBusy)return;
	ref.isContextMenuBusy=true;
		
	ref.srcElement=DHTMLSuite.commonObj.getSrcElement(e);
	
	if(!ref.indexCurrentlyDisplayedMenuModel||ref.indexCurrentlyDisplayedMenuModel!=this.id){		
		if(ref.indexCurrentlyDisplayedMenuModel){
		ref.menuObject.innerHTML='';		
		}else{
		ref.__createDivs();
		}
		ref.menuItems=ref.menuModels[this.id].getItems();		
		ref.__createMenuItems(ref.menuModels[this.id]);	
	}
	ref.indexCurrentlyDisplayedMenuModel=this.id;
	
	ref.menuObject.style.left=(e.clientX+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft))+'px';
	ref.menuObject.style.top=(e.clientY+Math.max(document.body.scrollTop,document.documentElement.scrollTop))+'px';
	ref.menuObject.style.display='block';
	
	
	
	setTimeout('referenceToDHTMLSuiteContextMenu.isContextMenuBusy=false',20);
	return false;
		
	}
	
// }}}
	,
	
// {{{ __displayContextMenu()
    /**
     *	Add menu items
     *
    * @param Event e
     *
    *@private	
     */	
	__hideContextMenu:function()
	{
	var ref=referenceToDHTMLSuiteContextMenu;
	if(!ref)return;
	if(ref.menuObject)ref.menuObject.style.display='none';
	
	
	}
	
// }}}
	,
	
// {{{ __createDivs()
    /**
     *	Creates general divs for the menu
     *
     *
    *@private	
     */	
	__createDivs:function()
	{
	var firstChild=false;
	var firstChilds=document.getElementsByTagName('DIV');
	if(firstChilds.length>0)firstChild=firstChilds[0];
	this.menuObject=document.createElement('DIV');
	this.menuObject.style.cssText='position:absolute;z-index:100000;';
	this.menuObject.className='DHTMLSuite_contextMenu';
	this.menuObject.id='DHTMLSuite_contextMenu'+DHTMLSuite.commonObj.getUniqueId();
	this.menuObject.style.backgroundImage='url(\''+DHTMLSuite.configObj.imagePath+'context-menu/context-menu-gradient.gif'+'\')';
	this.menuObject.style.backgroundRepeat='repeat-y';
	if(this.width)this.menuObject.style.width=this.width+'px';
	
	if(firstChild){
		firstChild.parentNode.insertBefore(this.menuObject,firstChild);
	}else{
		document.body.appendChild(this.menuObject);
	}
			
	
	this.menuBar=new DHTMLSuite.menuBar();
	this.menuBar.setActiveSubItemsOnMouseOver(true);
	this.menuBar.setTarget(this.menuObject.id);	
	this.menuBar.addMenuItems(this.defaultMenuModel);	
	this.menuBar.init();
	}
	
// }}}
	,
	
	
// {{{ __mouseOver()
    /**
     *	Display mouse over effect when moving the mouse over a menu item
     *
     *
    *@private	
     */	
	__mouseOver:function()
	{
	this.className='DHTMLSuite_item_mouseover';	
	if(!document.all){
		this.style.backgroundPosition='left center';
	}
					
	}
	
// }}}
	,
	
// {{{ __mouseOut()
    /**
     *	Remove mouse over effect when moving the mouse away from a menu item
     *
     *
    *@private	
     */	
	__mouseOut:function()
	{
	this.className='';
	if(!document.all){
		this.style.backgroundPosition='1px center';
	}	
	}
	
// }}}
	,
	
// {{{ __createMenuItems()
    /**
     *	Create menu items
     *
     *
    *@private	
     */	
	__createMenuItems:function(menuModel)
	{	
	this.menuBar.deleteAllMenuItems();		
	this.menuBar.addMenuItems(menuModel);
	this.menuBar.init();
	}	
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML menu bar class
*
*	Created:			October, 21st, 2006
*	@class Purpose of class:	Creates a top bar menu
*		
*	Css files used by this script:	menu-bar.css
*
*	Demos of this class:		demo-menu-bar.html
*
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class Purpose of class:	Creates a top bar menu strip. Demos: <br>
*	<ul>
*	<li>(<a href="../../demos/demo-menu-bar-2.html" target="_blank">A menu with a detailed description on how it is created</a>)</li>
*	<li>(<a href="../../demos/demo-pane-splitter.html" target="_blank">Menu bar in a pane splitter pane</a>)</li>
*	</ul>
*
*	<a href="../images/menu-bar-1.gif" target="_blank">Image describing the classes</a> <br><br>
*
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

DHTMLSuite.menuBar=function(){
	var menuItemObj;
	var layoutCSS;			
// Name of css file
	var menuBarBackgroundImage;	
// Name of background image
	var menuItem_objects;		
// Array of menu items-html elements.
	var menuBarObj;			
// Reference to the main dib
	var menuBarHeight;
	var menuItems;			
// Reference to objects of class menuModelItem
	var highlightedItems;		
// Array of currently highlighted menu items.
	var menuBarState;		
// Menu bar state-true or false-1=expand items on mouse over
	var activeSubItemsOnMouseOver;	
// Activate sub items on mouse over	(instead of onclick)
	

	var submenuGroups;		
// Array of div elements for the sub menus
	var submenuIframes;		
// Array of sub menu iframes used to cover select boxes in old IE browsers.
	var createIframesForOldIeBrowsers;	
// true if we want the script to create iframes in order to cover select boxes in older ie browsers.
	var targetId;			
// Id of element where the menu will be inserted.
	var menuItemCssPrefix;		
// Css prefix of menu items.
	var cssPrefix;			
// Css prefix for the menu bar
	var menuItemLayoutCss;		
// Css path for the menu items of this menu bar
	var objectIndex;		
// Global index of this object-used to refer to the object of this class outside
	this.cssPrefix='DHTMLSuite_';
	this.menuItemLayoutCss=false;	
// false=use default for the menuItem class.
	this.layoutCSS='menu-bar.css';
	this.menuBarBackgroundImage='menu_strip_bg.jpg';
	this.menuItem_objects=new Object();
	DHTMLSuite.variableStorage.menuBar_highlightedItems=new Array();
	
	this.menuBarState=false;
	
	this.menuBarObj=false;
	this.menuBarHeight=26;
	this.submenuGroups=new Array();
	this.submenuIframes=new Array();
	this.targetId=false;
	this.activeSubItemsOnMouseOver=false;
	this.menuItemCssPrefix=false;
	this.createIframesForOldIeBrowsers=true;
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;	
}

DHTMLSuite.menuBar.prototype={	
	
// {{{ init()
    /**
     *	Initilizes the script-This method should be called after your set methods.
     *
     *
    *@public	
     */			
	init:function()
	{
	
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);	
	this.__createMainMenuDiv();	
// Create general divs
	this.__createMenuItems();	
// Create menu items
	this.__setBasicEvents();	
// Set basic events.
	window.refToThismenuBar=this;
	}
	
// }}}
	,
	
// {{{ setTarget()
    /**
     *	Specify where this menu bar will be inserted. the element with this id will be parent of the menu bar.
     *
    * @param String idOfHTMLElement=Id of element where the menu will be inserted. 
     *
    *@public	
     */	
	setTarget:function(idOfHTMLElement)
	{
	this.targetId=idOfHTMLElement;	
	
	}	
	
// }}}	
	,
	
// {{{ setLayoutCss()
    /**
     *	Specify the css file for this menu bar
     *
    * @param String nameOfNewCssFile=Name of new css file. 
     *
    *@public	
     */	
	setLayoutCss:function(nameOfNewCssFile)
	{
	this.layoutCSS=nameOfNewCssFile;	
	
	}	
	
// }}}
	,	
	
// {{{ setMenuItemLayoutCss()
    /**
     *	Specify the css file for the menu items
     *
    * @param String nameOfNewCssFile=Name of new css file. 
     *
    *@public	
     */	
	setMenuItemLayoutCss:function(nameOfNewCssFile)
	{
	this.menuItemLayoutCss=nameOfNewCssFile;	
	
	}	
	
// }}}
	,	
	
// {{{ setCreateIframesForOldIeBrowsers()
    /**
     *	This method specifies if you want to the script to create iframes behind sub menu groups in order to cover eventual select boxes. This
     *	is needed if you have users with older IE browsers(prior to version 7)and when there's a chance that a sub menu could appear on top
     *	of a select box.
     *
    * @param Boolean createIframesForOldIeBrowsers=true if you want the script to create iframes to cover select boxes in older ie browsers.
     *
    *@public	
     */	
	setCreateIframesForOldIeBrowsers:function(createIframesForOldIeBrowsers)
	{
	this.createIframesForOldIeBrowsers=createIframesForOldIeBrowsers;	
	
	}	
	
// }}}
	,
	
// {{{ addMenuItems()
    /**
     *	Add menu items
     *
    * @param DHTMLSuite.menuModel menuModel Object of class DHTMLSuite.menuModel which holds menu data 	
     *
    *@public	
     */		
	addMenuItems:function(menuItemObj)
	{
	this.menuItemObj=menuItemObj;	
	this.menuItems=menuItemObj.getItems();
	}
	
// }}}
	,
	
// {{{ setActiveSubItemsOnMouseOver()
    /**
     *	 Specify if sub menus should be activated on mouse over(i.e. no matter what the menuState property is). 	
     *
     *	@param Boolean activateSubOnMouseOver-Specify if sub menus should be activated on mouse over(i.e. no matter what the menuState property is).
     *
    *@public	
     */	
	setActiveSubItemsOnMouseOver:function(activateSubOnMouseOver)
	{
	this.activeSubItemsOnMouseOver=activateSubOnMouseOver;	
	}
	
// }}}
	,
	
// {{{ setMenuItemState()
    /**
     *	This method changes the state of the menu bar(expanded or collapsed). This method is called when someone clicks on the arrow at the right of menu items.
    *	
     *	@param Number menuItemId-ID of the menu item we want to switch state for
    *	@param String state-New state(example: "disabled")
     *
    *@public	
     */		
	setMenuItemState:function(menuItemId,state)
	{
	try{
		this.menuItem_objects[menuItemId].setState(state);
	}catch(e){
		alert('menu item with id '+menuItemId+' does not exists or you have called the setMenuItemState method before the menu has been initialized');
	}
		
	}
	
// }}}	
	,
	
// {{{ setMenuItemCssPrefix()
    /**
     *	Specify prefix of css classes used for the menu items. Default css prefix is "DHTMLSuite_". If you wish have some custom styling for some of your menus, 
     *	create a separate css file and replace DHTMLSuite_ for the class names with your new prefix.  This is useful if you want to have two menus on the same page
     *	with different stylings.
    *	
     *	@param String newCssPrefix-New css prefix for menu items.
     *
    *@public	
     */	
	setMenuItemCssPrefix:function(newCssPrefix)
	{
	this.menuItemCssPrefix=newCssPrefix;
	}
	
// }}}
	,	
	
// {{{ setCssPrefix()
    /**
     *	Specify prefix of css classes used for the menu bar. Default css prefix is "DHTMLSuite_" and that's the prefix of all css classes inside menu-bar.css(the default css file). 
     *	If you want some custom menu bars, create and include your own css files, replace DHTMLSuite_ in the class names with your own prefix and set the new prefix by calling
     *	this method. This is useful if you want to have two menus on the same page with different stylings.
    *	
     *	@param String newCssPrefix-New css prefix for the menu bar classes.
     *
    *@public	
     */	
	setCssPrefix:function(newCssPrefix)
	{
	this.cssPrefix=newCssPrefix;
	}
	
// }}}
	,
	
// {{{ deleteAllMenuItems()
    /**
     *	Delete all menu items. This is useful if you want to replace the entire menu model. Remember to call init()after new model has been added.
    *   
    *@private	
     */	
	deleteAllMenuItems:function()
	{
	this.hideSubMenus(); 
// Hide all sub menus
	this.__deleteMenuItems(0,false);
	this.__clearAllMenuItems();
	}
	
// }}}
	,
	
// {{{ replaceSubMenus()
    /**
     *	This method replaces existing sub menu items with a new subset (To replace all menu items, pass 0 as idOfParentMenuItem)
     *
    *	
     *	@param Number idOfParentMenuItem-ID of parent element ( 0 if top node)- if set, all sub elements will be deleted and replaced with the new menu model.
     *	@param menuModel newMenuModel-Reference to object of class menuModel
     *
    *@private	
     */	
	replaceMenuItems:function(idOfParentMenuItem,newMenuModel)
	{	
	this.hideSubMenus();	
// Hide all sub menus
	this.__deleteMenuItems(idOfParentMenuItem);	
// Delete old menu items.
	this.menuItemObj.__appendMenuModel(newMenuModel,idOfParentMenuItem);	
// Appending new menu items to the menu model.
	this.__clearAllMenuItems();
	this.__createMenuItems();
	}
	
// }}}	
	,
	
// {{{ deleteMenuItems()
    /**
     *	This method deletes menu items from the menu dynamically
    *	
     *	@param Number idOfParentMenuItem-Parent id-parent id of the elements to delete.
     *	@param Boolean deleteParentElement-Should parent element also be deleted, or only sub elements?
     *
    *@public	
     */	
	deleteMenuItems:function(idOfParentMenuItem,deleteParentElement)
	{
	
//this.hideSubMenus();	
// Hide all sub menus	
	this.__deleteMenuItems(idOfParentMenuItem,deleteParentElement);
	this.__clearAllMenuItems();
	this.__createMenuItems();	
	}
	
// }}}	
	,
	
// {{{ appendMenuItems()
    /**
     *	This method appends menu items to the menu dynamically
    *	
     *	@param Integer idOfParentMenuItem-Parent id-where to append the new items.
     *	@param menuModel newMenuModel-Object of type menuModel. This menuModel will be appended as sub elements of defined idOfParentMenuItem
     *
    *@public	
     */	
	appendMenuItems:function(idOfParentMenuItem,newMenuModel)
	{
	this.hideSubMenus();	
// Hide all sub menus
	this.menuItemObj.__appendMenuModel(newMenuModel,idOfParentMenuItem);	
// Appending new menu items to the menu model.
	this.__clearAllMenuItems();
	this.__createMenuItems();	
	}	
	
// }}}	
	,
	
// {{{ hideMenuItem()
    /**
     *	This method doesn't delete menu items. it hides them only.
    *	
     *	@param Number menuItemId-Id of the item you want to hide.
     *
    *@public	
     */	
	hideMenuItem:function(menuItemId)
	{
	this.menuItem_objects[menuItemId].hide();

	}	
	
// }}}	
	,
	
// {{{ showMenuItem()
    /**
     *	This method shows a menu item. If the item isn't hidden, nothing is done.
    *	
     *	@param Number menuItemId-Id of the item you want to show
     *
    *@public	
     */	
	showMenuItem:function(menuItemId)
	{
	this.menuItem_objects[menuItemId].show();
	}	
	
// }}}
	,
	
// {{{ setText()
    /**
     *	Replace the text for a menu item
    *	
     *	@param Integer menuItemId-Id of menu item.
     *	@param String newText-New text for the menu item.
     *
    *@public	
     */	
	setText:function(menuItemId,newText)
	{
	this.menuItem_objects[menuItemId].setText(newText);
	}	
	
// }}}
	,
	
// {{{ setIcon()
    /**
     *	Replace menu icon for a menu item. 
    *	
     *	@param Integer menuItemId-Id of menu item.
     *	@param String newPath-Path to new menu icon. Pass blank or false if you want to clear the menu item.
     *
    *@public	
     */	
	setIcon:function(menuItemId,newPath)
	{
	this.menuItem_objects[menuItemId].setIcon(newPath);
	}	
	
// }}}
	,
	
// {{{ __clearAllMenuItems()
    /**
     *	Delete HTML elements for all menu items.
     *
    *@private	
     */		
	__clearAllMenuItems:function()
	{
	for(var prop=0;prop<this.menuItemObj.menuItemsOrder.length;prop++){
		var id=this.menuItemObj.menuItemsOrder[prop];
		if(!id)continue;
		if(this.submenuGroups[id]){
		var div=document.getElementById(this.submenuGroups[id]);
		DHTMLSuite.discardElement(div);
		this.submenuGroups[id]=null;	
		}
		if(this.submenuIframes[id]){
		var ref=document.getElementById(this.submenuIframes[id]);
		DHTMLSuite.discardElement(ref);
		this.submenuIframes[id]=null;
		}	
	}
	this.submenuGroups=new Array();
	this.submenuIframes=new Array();	
	this.menuBarObj.innerHTML='';	
	}
	
// }}}
	,
	
// {{{ __deleteMenuItems()
    /**
     *	This method deletes menu items from the menu, i.e. menu model and the div elements for these items.
    *	
     *	@param Integer idOfParentMenuItem-Parent id-where to start the delete process.
     *	@param Boolean includeParent-Delete parent menu item in addition to the sub menu items.
     *
    *@private	
     */	
	__deleteMenuItems:function(idOfParentMenuItem,includeParent)
	{
	if(includeParent)this.menuItemObj.__deleteANode(idOfParentMenuItem);
	if(!this.submenuGroups[idOfParentMenuItem])return;	
// No sub items exists.	
	this.menuItem_objects[idOfParentMenuItem].__setHasSub(false);	
// Delete existing sub menu divs.
	this.menuItemObj.__deleteChildNodes(idOfParentMenuItem);	
// Delete existing child nodes from menu model
	var groupBox=document.getElementById(this.submenuGroups[idOfParentMenuItem]);
	DHTMLSuite.discardElement(groupBox);
// Delete sub menu group box. 
	if(this.submenuIframes[idOfParentMenuItem]){
		DHTMLSuite.discardElement(this.submenuIframes[idOfParentMenuItem]);
	}	
	this.submenuGroups.splice(idOfParentMenuItem,1);
	this.submenuIframes.splice(idOfParentMenuItem,1);
	}
	
// }}}	
	,
	
// {{{ __changeMenuBarState()
    /**
     *	This method changes the state of the menu bar(expanded or collapsed). This method is called when someone clicks on the arrow at the right of menu items.
    *	
     *
    *@private	
     */	
	__changeMenuBarState:function(){
	var objectIndex=this.getAttribute('objectRef');
	var obj=DHTMLSuite.variableStorage.arrayDSObjects[objectIndex];
	var parentId=this.id.replace(/[^0-9]/gi,'');	
		
		
	var state=obj.menuItem_objects[parentId].getState();	
	
	if(state=='disabled')return;
	obj.menuBarState=!obj.menuBarState;
	if(!obj.menuBarState)obj.hideSubMenus();else{
		obj.hideSubMenus();
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+objectIndex+'].__expandGroup('+parentId+ ')',10);
	}	
	}
	
// }}}	
	,
	
// {{{ __createDivs()
    /**
     *	Create the main HTML elements for this menu dynamically
    *	
     *
    *@private	
     */	
	__createMainMenuDiv:function()
	{
	window.refTomenuBar=this;	
// Reference to menu strip object
	
	this.menuBarObj=document.createElement('DIV');	
	this.menuBarObj.className=this.cssPrefix+'menuBar_'+this.menuItemObj.submenuType[1];
	
	if(!document.getElementById(this.targetId)){
		alert('No target defined for the menu object');
		return;
	}
	
// Appending menu bar object as a sub of defined target element.
	var target=document.getElementById(this.targetId);
	target.appendChild(this.menuBarObj);		
	}
	
// }}}
	,
	
// {{{ hideSubMenus()
    /**
     *	Deactivate all sub menus ( collapse and set state back to regular )
     *	In case you have a menu inside a scrollable container, call this method in an onscroll event for that element
     *	example document.getElementById('textContent').onscroll=menuBar.__hideSubMenus;
    *	
     *	@param Event e-this variable is present if this method is called from an event. You will never use this parameter
     *
    *@public	
     */	
	hideSubMenus:function(e)
	{
	if(this&&this.tagName){	/* Method called from event */
		if(document.all)e=event;
		var srcEl=DHTMLSuite.commonObj.getSrcElement(e);
		if(srcEl.tagName.toLowerCase()=='img')srcEl=srcEl.parentNode;
		try{
		if(srcEl.className&&srcEl.className.indexOf('arrow')>=0){
		return;
		}
		}catch(err){}
		
		
	}
	for(var no=0;no<DHTMLSuite.variableStorage.menuBar_highlightedItems.length;no++){
		if(DHTMLSuite.variableStorage.menuBar_highlightedItems[no].getState()!='disabled')DHTMLSuite.variableStorage.menuBar_highlightedItems[no].setState('regular');	
// Set state back to regular
		DHTMLSuite.variableStorage.menuBar_highlightedItems[no].__hideGroup();	
// Hide eventual sub menus
	}	
	DHTMLSuite.variableStorage.menuBar_highlightedItems=new Array();		
	}
	,
	
// {{{ __hideSubMenusAfterSmallDelay()
    /**
     *	Hide sub menu items after a small delay-mouse down event for the HTML elemnet
     *
     *
    *@private	
     */	
	__hideSubMenusAfterSmallDelay:function()
	{
	var ind=this.objectIndex;	
	setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].hideSubMenus()',15);	
	}
	
// }}}
	,
	
// {{{ __expandGroup()
    /**
     *	Expand a group of sub items.
     *
    *	@param integer idOfParentMenuItem-Id of parent element
     *
    *@private	
     */		
	__expandGroup:function(idOfParentMenuItem)
	{	
	var groupRef=document.getElementById(this.submenuGroups[idOfParentMenuItem]);
	var subDiv=groupRef.getElementsByTagName('DIV')[0];
	
	var numericId=subDiv.id.replace(/[^0-9]/g,'');
	
	groupRef.style.visibility='visible';	
// Show menu group.
	if(this.submenuIframes[idOfParentMenuItem])document.getElementById(this.submenuIframes[idOfParentMenuItem]).style.visibility='visible';	
// Show iframe if it exists.
	DHTMLSuite.variableStorage.menuBar_highlightedItems[DHTMLSuite.variableStorage.menuBar_highlightedItems.length]=this.menuItem_objects[numericId];
	this.__positionSubMenu(idOfParentMenuItem);
	
	if(DHTMLSuite.clientInfoObj.isOpera){	/* Opera fix in order to get correct height of sub menu group */
		var subDiv=groupRef.getElementsByTagName('DIV')[0];	/* Find first menu item */
		subDiv.className=subDiv.className.replace('_over','_over');	/* By "touching" the class of the menu item, we are able to fix a layout problem in Opera */
	}
	}
	
	,
	
// {{{ __activateMenuElements()
    /**
     *	Traverse up the menu items and highlight them.
    *	
     *	@param HTMLElement parentMenuItemObject-Reference to the DIV tag(menu element)triggering the event. This would be the parent menu item of the sub menu to expand
     *	@param Object menuBarObjectRef-Reference to this menuBar object
     *	@param Boolean firstIteration-First iteration of this method, i.e. not recursive?
     *
    *@private	
     */		
	__activateMenuElements:function(e,firstIteration,parentMenuItemObject)
	{
	if(!parentMenuItemObject){
		if(document.all)e=event;
		parentMenuItemObject=DHTMLSuite.commonObj.getSrcElement(e);
		if(!parentMenuItemObject.getAttribute('DHTMLSuite_menuItem'))parentMenuItemObject=parentMenuItemObject.parentNode;
		if(!parentMenuItemObject.getAttribute('DHTMLSuite_menuItem'))parentMenuItemObject=parentMenuItemObject.parentNode;
		
	}	
	var numericId=parentMenuItemObject.id.replace(/[^0-9]/g,'');	
// Get a numeric reference to current menu item.
	var state=this.menuItem_objects[numericId].getState();	
// Get state of this menu item.
	if(state=='disabled')return;	
// This menu item is disabled-return from function without doing anything.	
	this.menuItem_objects[numericId].setState('over');	
// Switch state of menu item.
	
	if(!this.menuBarState&&!this.activeSubItemsOnMouseOver)return;	
// Menu is not activated and it shouldn't be activated on mouse over.

	if(firstIteration&&DHTMLSuite.variableStorage.menuBar_highlightedItems.length>0){
		this.hideSubMenus();	
// First iteration of this function=> Hide other sub menus. 
	}	
	
	
// What should be the state of this menu item -> If it's the one the mouse is over, state should be "over". If it's a parent element, state should be "active".
	var newState='over';
	if(!firstIteration)newState='active';	
// State should be set to 'over' for the menu item the mouse is currently over.
		
	this.menuItem_objects[numericId].setState(newState);	
// Switch state of menu item.
	if(this.submenuGroups[numericId]){	
// Sub menu group exists. call the __expandGroup method. 
		this.__expandGroup(numericId);	
// Expand sub menu group
	}
	DHTMLSuite.variableStorage.menuBar_highlightedItems[DHTMLSuite.variableStorage.menuBar_highlightedItems.length]=this.menuItem_objects[numericId];	
// Save this menu item in the array of highlighted elements.
	if(this.menuItems[numericId].parentId){	
// A parent element exists. Call this method over again with parent element as input argument.
		this.__activateMenuElements(false,false,document.getElementById(this.menuItem_objects[this.menuItems[numericId].parentId].divElement));
	}
	}
	
// }}}	
	,
	
// {{{ __createMenuItems()
    /**
     *	Creates the HTML elements for the menu items.
    *	
     *
    *@private	
     */	
	__createMenuItems:function()
	{

	
	var index=this.objectIndex;
	
// Find first child of the body element. trying to insert the element before first child instead of appending it to the <body> tag, ref: problems in ie
	var firstChild=false;
	var firstChilds=document.getElementsByTagName('DIV');
	if(firstChilds.length>0)firstChild=firstChilds[0]
	
	for(var no=0;no<this.menuItemObj.menuItemsOrder.length;no++){	
// Looping through menu items	
		var indexThis=this.menuItemObj.menuItemsOrder[no];		
		if(!this.menuItems[indexThis].id)continue;	
		try{
		this.menuItem_objects[this.menuItems[indexThis].id]=new DHTMLSuite.menuItem(); 
		}catch(e){
		alert('Error: You need to include dhtmlSuite-menuItem.js in your html file');
		}
		if(this.menuItemCssPrefix)this.menuItem_objects[this.menuItems[indexThis].id].setCssPrefix(this.menuItemCssPrefix);	
// Custom css prefix set
		if(this.menuItemLayoutCss)this.menuItem_objects[this.menuItems[indexThis].id].setLayoutCss(this.menuItemLayoutCss);	
// Custom css file name
		
		var ref=this.menuItem_objects[this.menuItems[indexThis].id].createItem(this.menuItems[indexThis]); 
// Create div for this menu item.
		ref.setAttribute('DHTMLSuite_menuItem',1);
		
// Actiave sub elements when someone moves the mouse over the menu item-exception: not on separators.
		if(!this.menuItems[indexThis].separator){
		ref.onmouseover=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[index].__activateMenuElements(e,true); }
		}
		
		if(!this.menuItems[indexThis].jsFunction&&!this.menuItems[indexThis].url){
		ref.setAttribute('objectRef',index);	/* saving the index of this object in the DHTMLSuite.variableStorage array as a property of the tag-We need to do this in order to avoid circular references and thus memory leakage in IE */
		ref.onclick=this.__changeMenuBarState;		
		}	
		DHTMLSuite.commonObj.__addEventEl(ref);		
		if(this.menuItem_objects[this.menuItems[indexThis].id].expandElement&&1==2){	/* Small arrow at the right of the menu item exists-expand subs */		
		try{
			var expandRef=document.getElementById(this.menuItem_objects[this.menuItems[indexThis].id].expandElement);	/* Creating reference to expand div/arrow div */
			var parentId=DHTMLSuite.variableStorage.arrayDSObjects[index].menuItems[indexThis].parentId+'';	
// Get parent id.
			var tmpId=expandRef.id.replace(/[^0-9]/gi,'');
			expandRef.setAttribute('objectRef',index/1);	/* saving the index of this object in the DHTMLSuite.variableStorage array as a property of the tag-We need to do this in order to avoid circular references and thus memory leakage in IE */
			expandRef.objectRef=index/1;
		}catch(e){
			
		}
		}
		var target=this.menuBarObj;	
// Temporary variable-target of newly created menu item. target can be the main menu object or a sub menu group(see below where target is updated).

		if(this.menuItems[indexThis].depth==1&&this.menuItemObj.submenuType[this.menuItems[indexThis].depth]!='top'&&this.menuItemObj.mainMenuGroupWidth){	/* Main menu item group width set */
		var tmpWidth=this.menuItemObj.mainMenuGroupWidth+'';
		if(tmpWidth.indexOf('%')==-1)tmpWidth=tmpWidth+'px';
		target.style.width=tmpWidth;	
		}
	
		if(this.menuItems[indexThis].depth=='1'){	/* Top level item */
		if(this.menuItemObj.submenuType[this.menuItems[indexThis].depth]=='top'){	/* Type="top"-menu items side by side */
			ref.style.styleFloat='left';		
			ref.style.cssText='float:left';			
		}		
		}else{
		if(!this.menuItems[indexThis].depth){
			alert('Error in menu model(depth not defined for a menu item). Remember to call the init()method for the menuModel object.');
			return;
		}
		if(!this.submenuGroups[this.menuItems[indexThis].parentId]){	
// Sub menu div doesn't exist-> Create it.
		
			this.submenuGroups[this.menuItems[indexThis].parentId]='DHTMLSuite_menuBarSubGroup'+this.menuItems[indexThis].parentId;
			var div=document.createElement('DIV');	
			div.style.zIndex=30000;
			div.style.position='absolute';
			div.id=this.submenuGroups[this.menuItems[indexThis].parentId];
			div.style.visibility='hidden';	
// Initially hidden.
			div.className=this.cssPrefix+'menuBar_'+this.menuItemObj.submenuType[this.menuItems[indexThis].depth];
			

			if(firstChild){
			firstChild.parentNode.insertBefore(div,firstChild);
			}else{
			document.body.appendChild(div);
			}
			
			if(DHTMLSuite.clientInfoObj.isMSIE&&this.createIframesForOldIeBrowsers){	
// Create iframe object in order to conver select boxes in older IE browsers(windows).
			this.submenuIframes[this.menuItems[indexThis].parentId]='DHTMLSuite_menuBarIframe_'+this.menuItems[indexThis].parentId;
			var iframe=document.createElement('<IFRAME src="about:blank" frameborder=0>');
			iframe.id=this.submenuIframes[this.menuItems[indexThis].parentId];
			iframe.style.position='absolute';
			iframe.style.zIndex=9000;
			iframe.style.visibility='hidden';
			if(firstChild){
				firstChild.parentNode.insertBefore(iframe,firstChild);
			}else{
				document.body.appendChild(iframe);
			}			
			}
		}	
		target=document.getElementById(this.submenuGroups[this.menuItems[indexThis].parentId]);	
// Change target of newly created menu item. It should be appended to the sub menu div("A group box").		
		}		
		target.appendChild(ref); 
// Append menu item to the document.	
		
		if(this.menuItems[indexThis].visible==false)this.hideMenuItem(this.menuItems[indexThis].id);	
// Menu item hidden, call the hideMenuItem method.
		if(this.menuItems[indexThis].state!='regular')this.menuItem_objects[this.menuItems[indexThis].id].setState(this.menuItems[indexThis].state);	
// Menu item hidden, call the hideMenuItem method.

	}	
	

	this.__setSizeOfAllSubMenus();	
// Set size of all sub menu groups
	this.__positionAllSubMenus();	
// Position all sub menu groups.
	if(DHTMLSuite.clientInfoObj.isOpera)this.__fixMenuLayoutForOperaBrowser();	
// Call a function which fixes some layout issues in Opera.	
	}
	
// }}}
	,
	
// {{{ __fixMenuLayoutForOperaBrowser()
    /**
     *	A method used to fix the menu layout in Opera. 
     *
     *
    *@private	
     */	
	__fixMenuLayoutForOperaBrowser:function()
	{
	for(var no=0;no<this.menuItemObj.menuItemsOrder.length;no++){
		var id=this.menuItemObj.menuItemsOrder[no];
		if(!id)continue;
		document.getElementById(this.menuItem_objects[id].divElement).className=document.getElementById(this.menuItem_objects[id].divElement).className.replace('_regular','_regular');	
// Nothing is done but by "touching" the class of the menu items in Opera, we make them appear correctly
	}	
	}
	
	
// }}}	
	,
	
// {{{ __setSizeOfAllSubMenus()
    /**
     *	*	Walk through all sub menu groups and call the positioning method for each one of them.
     *
     *
    *@private	
     */	
	__setSizeOfAllSubMenus:function()
	{	
	for(var no=0;no<this.menuItemObj.menuItemsOrder.length;no++){
		var prop=this.menuItemObj.menuItemsOrder[no];
		if(!prop)continue;
		this.__setSizeOfSubMenus(prop);
	}		
	}	
	
// }}}	
	,	
	
// {{{ __positionAllSubMenus()
    /**
     *	Walk through all sub menu groups and call the positioning method for each one of them.
     *
     *
    *@private	
     */	
	__positionAllSubMenus:function()
	{
	for(var no=0;no<this.menuItemObj.menuItemsOrder.length;no++){
		var prop=this.menuItemObj.menuItemsOrder[no];
		if(!prop)continue;
		if(this.submenuGroups[prop])this.__positionSubMenu(prop);
	}	
	}
	
// }}}	
	,
	
// {{{ __positionSubMenu(parentId)
    /**
     *	Position a sub menu group
     *
     *	@param parentId  	
     *
    *@private	
     */	
	__positionSubMenu:function(parentId)
	{
	try{
		var shortRef=document.getElementById(this.submenuGroups[parentId]);	
		
		var depth=this.menuItems[parentId].depth;
		var dir=this.menuItemObj.submenuType[depth];
		
		var ref=document.getElementById(this.menuItem_objects[parentId].divElement);
		if(dir=='top'){		
		shortRef.style.left=DHTMLSuite.commonObj.getLeftPos(ref)+'px';
		shortRef.style.top=(DHTMLSuite.commonObj.getTopPos(ref)+ref.offsetHeight)+'px';
		}else{
		shortRef.style.left=(DHTMLSuite.commonObj.getLeftPos(ref)+ref.offsetWidth)+'px';
		shortRef.style.top=(DHTMLSuite.commonObj.getTopPos(ref))+'px';	
		}	
		
		if(DHTMLSuite.clientInfoObj.isMSIE){
		var iframeRef=document.getElementById(this.submenuIframes[parentId]);
		iframeRef.style.left=shortRef.style.left;
		iframeRef.style.top=shortRef.style.top;
		iframeRef.style.width=shortRef.clientWidth+'px';
		iframeRef.style.height=shortRef.clientHeight+'px';
		}					
	}catch(e){
		
	}	
	}
	
// }}}	
	,
	
// {{{ __setSizeOfSubMenus(parentId)
    /**
     *	Set size of a sub menu group
     *
     *	@param parentId  	
     *
    *@private	
     */	
	__setSizeOfSubMenus:function(parentId)
	{
	try{
		var shortRef=document.getElementById(this.submenuGroups[parentId]);	
		var subWidth=Math.max(shortRef.offsetWidth,document.getElementById(this.menuItem_objects[parentId].divElement).offsetWidth);
		if(this.menuItems[parentId].submenuWidth)subWidth=this.menuItems[parentId].submenuWidth;
		if(subWidth>400)subWidth=150;	
// Hack for IE 6 -> force a small width when width is too large.
		subWidth=subWidth+'';
		if(subWidth.indexOf('%')==-1)subWidth=subWidth+'px';
		shortRef.style.width=subWidth;	
		if(DHTMLSuite.clientInfoObj.isMSIE){
		var ref=document.getElementById(this.submenuIframes[parentId]);
		ref.style.width=shortRef.style.width;
		ref.style.height=shortRef.style.height;
		}
	}catch(e){
		
	}
	
	}
	
// }}}	
	,
	
// {{{ __repositionMenu()
    /**
     *	Position menu items.
    *	
     *
    *@private	
     */	
	__repositionMenu:function(inputObj)
	{
	inputObj.menuBarObj.style.top=document.documentElement.scrollTop+'px';
	
	}	
	
// }}}	
	,
	
// {{{ __menuItemRollOver()
    /**
     *	Position menu items.
    *	
     *
    *@private	
     */	
	__menuItemRollOver:function(menuItemHTMLElementRef)
	{
	var numericId=menuItemHTMLElementRef.id.replace(/[^0-9]/g,'');
	menuItemHTMLElementRef.className='DHTMLSuite_menuBar_menuItem_over_'+this.menuItems[numericId]['depth'];	
	}
	
// }}}	
	,	
	
// {{{ __menuItemRollOut()
    /**
     *	Position menu items.
    *	
     *
    *@private	
     */	
	__menuItemRollOut:function(menuItemHTMLElementRef)
	{	
	var numericId=menuItemHTMLElementRef.id.replace(/[^0-9]/g,'');
	menuItemHTMLElementRef.className='DHTMLSuite_menuBar_menuItem_'+this.menuItems[numericId]['depth'];	
	}
	
// }}}	
	,
	
// {{{ __menuNavigate()
    /**
     *	Navigate by click on a menu item
    *	
     *
    *@private	
     */	
	__menuNavigate:function(menuItemHTMLElementRef)
	{
	var numericIndex=menuItemHTMLElementRef.id.replace(/[^0-9]/g,'');
	var url=this.menuItems[numericIndex]['url'];
	if(!url)return;	
	}
	
// }}}	
	,
	
// {{{ __setBasicEvents()
    /**
     *	Set basic events for the menu widget.
    *	
     *
    *@private	
     */	
	__setBasicEvents:function()
	{
	var ind=this.objectIndex;

	DHTMLSuite.commonObj.addEvent(document.documentElement,"click",this.hideSubMenus);	
	DHTMLSuite.commonObj.addEvent(document.documentElement,"mouseup",this.hideSubMenus);	
	
	}
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML menu item class
*
*	Created:			October, 21st, 2006
*	@class Purpose of class:	Creates the HTML for a single menu item.
*		
*	Css files used by this script:	menu-item.css
*
*	Demos of this class:		demo-menu-strip.html
*
* 	Update log:
*
************************************************************************************************************/

/**
* @constructor
* @class Purpose of class:	Creates the div(s)for a menu item. This class is used by the menuBar class. You can 
*	also create a menu item and add it where you want on your page. the createItem()method will return the div
*	for the item. You can use the appendChild()method to add it to your page. 
*
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/


DHTMLSuite.menuItem=function(){
	var layoutCSS;	
	var divElement;				
// the <div> element created for this menu item
	var expandElement;			
// Reference to the arrow div (expand sub items)
	var cssPrefix;				
// Css prefix for the menu items.
	var modelItemRef;			
// Reference to menuModelItem
	
	this.layoutCSS='menu-item.css';
	this.cssPrefix='DHTMLSuite_';
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	
	var objectIndex;
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;

	
}

DHTMLSuite.menuItem.prototype=
{
	
	/*
	*	Create a menu item.
	*
	*	@param menuModelItem menuModelItemObj=An object of class menuModelItem
	*/
	createItem:function(menuModelItemObj)
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);	
// Load css
	
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
		
	this.modelItemRef=menuModelItemObj;
	
	this.divElement='DHTMLSuite_menuItem'+menuModelItemObj.id;
	
	var div=document.createElement('DIV');	
// Create main div
	document.body.appendChild(div);
	div.id=this.divElement;	
// Giving this menu item it's unque id
	div.className=this.cssPrefix+'menuItem_'+menuModelItemObj.type+'_regular'; 
	div.onselectstart=function(){ return false; };
	if(menuModelItemObj.helpText){	
// Add "title" attribute to the div tag if helpText is defined
		div.title=menuModelItemObj.helpText;
	}
	
	
// Menu item of type "top"
	if(menuModelItemObj.type=='top'){		
		this.__createMenuElementsOfTypeTop(div);
	}

	if(menuModelItemObj.type=='sub'){
		this.__createMenuElementsOfTypeSub(div);
	}
	
	if(menuModelItemObj.separator){
		div.className=this.cssPrefix+'menuItem_separator_'+menuModelItemObj.type;
		div.innerHTML='<span></span>';
	}else{	
		/* Add events */
		var tmpVar=this.objectIndex/1;
		div.onclick=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[tmpVar].__navigate(e); }
		div.onmousedown=this.__clickMenuItem;		
// on mouse down effect
		div.onmouseup=this.__rolloverMenuItem;	
// on mouse up effect
		div.onmouseover=this.__rolloverMenuItem;	
// mouse over effect
		div.onmouseout=this.__rolloutMenuItem;	
// mouse out effect.
		
	}
	DHTMLSuite.commonObj.__addEventEl(div);
	return div;
	}
	
// }}}
	,
	
// {{{ setLayoutCss()
    /**
     *	Creates the different parts of a menu item of type "top".
     *
    * @param String newLayoutCss=Name of css file used for the menu items.
     *
    *@public	
     */	
	setLayoutCss:function(newLayoutCss)
	{
	this.layoutCSS=newLayoutCss;
	
	}
	
// }}}
	,
	
// {{{ __createMenuElementsOfTypeTop()
    /**
     *	Creates the different parts of a menu item of type "top".
     *
    * @param menuModelItem menuModelItemObj=Object of type menuModelItemObj
    * @param Object parentEl=Reference to parent element
     *
    *@private	
     */	
	__createMenuElementsOfTypeTop:function(parentEl){
	if(this.modelItemRef.itemIcon){
		var iconDiv=document.createElement('DIV');
		iconDiv.innerHTML='<img src="'+this.modelItemRef.itemIcon+'">';
		iconDiv.id='menuItemIcon'+this.modelItemRef.id
		parentEl.appendChild(iconDiv);	
	}
	if(this.modelItemRef.itemText){
		var div=document.createElement('DIV');
		div.innerHTML=this.modelItemRef.itemText;	
		div.className=this.cssPrefix+'menuItem_textContent';
		div.id='menuItemText'+this.modelItemRef.id;	
		parentEl.appendChild(div);
	}
	if(this.modelItemRef.hasSubs){
		/* Create div for the arrow -> Show sub items */
		var div=document.createElement('DIV');
		div.className=this.cssPrefix+'menuItem_top_arrowShowSub';
		div.id='DHTMLSuite_menuBar_arrow'+this.modelItemRef.id;
		parentEl.appendChild(div);
		this.expandElement=div.id;
	}
		
	}
	
// }}}
	,	
	
	
// {{{ __createMenuElementsOfTypeSub()
    /**
     *	Creates the different parts of a menu item of type "sub".
     *
    * @param menuModelItem menuModelItemObj=Object of type menuModelItemObj
    * @param Object parentEl=Reference to parent element
     *
    *@private	
     */	
	__createMenuElementsOfTypeSub:function(parentEl){	
	if(this.modelItemRef.itemIcon){
		parentEl.style.backgroundImage='url(\''+this.modelItemRef.itemIcon+'\')';	
		parentEl.style.backgroundRepeat='no-repeat';
		parentEl.style.backgroundPosition='left center';	
	}
	if(this.modelItemRef.itemText){
		var div=document.createElement('DIV');
		div.className='DHTMLSuite_textContent';
		div.innerHTML=this.modelItemRef.itemText;	
		div.className=this.cssPrefix+'menuItem_textContent';
		div.id='menuItemText'+this.modelItemRef.id;
		parentEl.appendChild(div);
	}
	
	if(this.modelItemRef.hasSubs){
		/* Create div for the arrow -> Show sub items */
		var div=document.createElement('DIV');
		div.className=this.cssPrefix+'menuItem_sub_arrowShowSub';
		parentEl.appendChild(div);	
		div.id='DHTMLSuite_menuBar_arrow'+this.modelItemRef.id;
		this.expandElement=div.id;
		div.previousSibling.style.paddingRight='15px';	
	}
	}
	
// }}}
	,
	
// {{{ setCssPrefix()
    /**
     *	Set css prefix for the menu item. default is 'DHTMLSuite_'. This is useful in case you want to have different menus on a page with different layout.
     *
    * @param String cssPrefix=New css prefix. 
     *
    *@public	
     */	
	setCssPrefix:function(cssPrefix)
	{
	this.cssPrefix=cssPrefix;
	}
	
// }}}
	,
	
// {{{ setMenuIcon()
    /**
     *	Replace menu icon.
     *
     *	@param String newPath-Path to new icon (false if no icon);
     *
    *@public	
     */	
	setIcon:function(newPath)
	{
	this.modelItemRef.setIcon(newPath);
	if(this.modelItemRef.type=='top'){	
// Menu item is of type "top"
		var div=document.getElementById('menuItemIcon'+this.modelItemRef.id);	
// Get a reference to the div where the icon is located.
		var img=div.getElementsByTagName('IMG')[0];	
// Find the image
		if(!img){	
// Image doesn't exists ?
		img=document.createElement('IMG');	
// Create new image
		div.appendChild(img);
		}
		img.src=newPath;	
// Set image path
		if(!newPath)DHTMLSuite.discardElement(img);	
// No newPath defined, remove the image.		
	}
	if(this.modelItemRef.type=='sub'){	
// Menu item is of type "sub"
		document.getElementById(this.divElement).style.backgroundImage='url(\''+newPath+'\')';	
// Set backgroundImage for the main div(i.e. menu item div)	
	}	
	}
	
// }}}
	,
	
// {{{ setText()
    /**
     *	Replace the text of a menu item
     *
     *	@param String newText-New text for the menu item.
     *
    *@public	
     */	
	setText:function(newText)
	{
	this.modelItemRef.setText(newText);
	document.getElementById('menuItemText'+this.modelItemRef.id).innerHTML=newText;
	
	
	}
	
	
// }}}
	,
	
// {{{ __clickMenuItem()
    /**
     *	Effect-click on menu item
     *
     *
    *@private	
     */	
	__clickMenuItem:function()
	{
	this.className=this.className.replace('_regular','_click');
	this.className=this.className.replace('_over','_click');
	}
	
// }}}	
	,	
	
// {{{ __rolloverMenuItem()
    /**
     *	Roll over effect
     *
     *
    *@private	
     */	
	__rolloverMenuItem:function()
	{
	this.className=this.className.replace('_regular','_over');
	this.className=this.className.replace('_click','_over');
	}	
	
// }}}
	,	
	
// {{{ __rolloutMenuItem()
    /**
     *	Roll out effect
     *
     *
    *@private	
     */	
	__rolloutMenuItem:function()
	{
	this.className=this.className.replace('_over','_regular');
	
	}
	
// }}}
	,	
	
// {{{ setState()
    /**
     *	Set state of a menu item.
     *
     *	@param String newState=New state for the menu item
     *
    *@public	
     */	
	setState:function(newState)
	{
	document.getElementById(this.divElement).className=this.cssPrefix+'menuItem_'+this.modelItemRef.type+'_'+newState; 	
	this.modelItemRef.setState(newState);
	}
	
// }}}
	,
	
// {{{ getState()
    /**
     *	Return state of a menu item. 
     *
     *
    *@public	
     */	
	getState:function()
	{
	var state=this.modelItemRef.getState();
	if(!state){
		if(document.getElementById(this.divElement).className.indexOf('_over')>=0)state='over';	
		if(document.getElementById(this.divElement).className.indexOf('_click')>=0)state='click';	
		this.modelItemRef.setState(state);	
	}
	return state;
	}	
	
// }}}
	,
	
// {{{ __setHasSub()
    /**
     *	Update the item, i.e. show/hide the arrow if the element has subs or not. 
     *
     *
    *@private	
     */	
    __setHasSub:function(hasSubs)
    {
    	this.modelItemRef.hasSubs=hasSubs;
    	if(!hasSubs){
    	document.getElementById(this.cssPrefix +'menuBar_arrow'+this.modelItemRef.id).style.display='none';    	
    	}else{
    	document.getElementById(this.cssPrefix +'menuBar_arrow'+this.modelItemRef.id).style.display='block';
    	}    	
    }
    
// }}}	
    ,
	
// {{{ hide()
    /**
     *	Hide the menu item.
     *
     *
    *@public	
     */	    
    hide:function()
    {
    	this.modelItemRef.setVisibility(false);
    	document.getElementById(this.divElement).style.display='none';    	
    }    
    ,
 	
// {{{ show()
    /**
     *	Show the menu item.
     *
     *
    *@public	
     */	     
    show:function()
    {
    	this.modelItemRef.setVisibility(true);
    	document.getElementById(this.divElement).style.display='block';    	
    }    
	
// }}}
	,
	
// {{{ __hideGroup()
    /**
     *	Hide the group the menu item is a part of. Example: if we're dealing with menu item 2.1, hide the group for all sub items of 2
     *
     *
    *@private	
     */		
	__hideGroup:function()
	{	
	if(this.modelItemRef.parentId){
		document.getElementById(this.divElement).parentNode.style.visibility='hidden';	
		if(DHTMLSuite.clientInfoObj.isMSIE){
		try{
			var tmpId=document.getElementById(this.divElement).parentNode.id.replace(/[^0-9]/gi,'');
			document.getElementById('DHTMLSuite_menuBarIframe_'+tmpId).style.visibility='hidden';
		}catch(e){
			
// IFRAME hasn't been created.
		}	
		}
	}	

	}
	
// }}}	
	,
	
// {{{ __navigate()
    /**
     *	Navigate after click on a menu item.
     *
     *
    *@private	
     */	
	__navigate:function(e)
	{
	/* Check to see if the expand sub arrow is clicked. if it is, we shouldn't navigate from this click */
	if(document.all)e=event;
	if(e){
		var srcEl=DHTMLSuite.commonObj.getSrcElement(e);
		if(srcEl.id.indexOf('arrow')>=0)return;
	}
	if(this.modelItemRef.state=='disabled')return;
	if(this.modelItemRef.url){
		location.href=this.modelItemRef.url;
	}
	if(this.modelItemRef.jsFunction){
		try{
		eval(this.modelItemRef.jsFunction);
		}catch(e){
		alert('Defined Javascript code for the menu item( '+this.modelItemRef.jsFunction+' )cannot be executed');
		}
	}
	} 
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML menu model item class
*
*	Created:			October, 30th, 2006
*	@class Purpose of class:	Save data about a menu item.
*		
*
*
* 	Update log:
*
************************************************************************************************************/

/**
* @constructor
* @class The purpose of this class is to store data about a menu item. menuModelItem
* @version		1.0
* @version 1.0
* 
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/

DHTMLSuite.menuModelItem=function(){
	var id;			
// id of this menu item.
	var itemText;		
// Text for this menu item
	var itemIcon;		
// Icon for this menu item.
	var url;		
// url when click on this menu item
	var parentId;		
// id of parent element
	var separator;		
// is this menu item a separator
	var jsFunction;		
// Js function to call onclick
	var depth;		
// Depth of this menu item.
	var hasSubs;		
// Does this menu item have sub items.
	var type;		
// Menu item type-possible values: "top" or "sub". 
	var helpText;		
// Help text for this item-appear when you move your mouse over the item.
	var state;
	var submenuWidth;	
// Width of sub menu items.
	var visible;		
// Visibility of menu item.
	
	this.state='regular';
}

DHTMLSuite.menuModelItem.prototype={

	setMenuVars:function(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth)	
	{
	this.id=id;
	this.itemText=itemText;
	this.itemIcon=itemIcon;
	this.url=url;
	this.parentId=parentId;
	this.jsFunction=jsFunction;
	this.separator=false;
	this.depth=false;
	this.hasSubs=false;
	this.helpText=helpText;
	this.submenuWidth=submenuWidth;
	this.visible=true;
	if(!type){
		if(this.parentId)this.type='top'; else this.type='sub';
	}else this.type=type;
	

	}
	
// }}}	
	,
	
// {{{ setState()
    /**
     *	Update the state attribute of a menu item.
     *
    * @param String newState New state of this item
    *@public	
     */	
	setAsSeparator:function(id,parentId)
	{
	this.id=id;
	this.parentId=parentId;
	this.separator=true;	
	this.visible=true;
	if(this.parentId)this.type='top'; else this.type='sub';	
	}
	
// }}}	
	,
	
// {{{ setState()
    /**
     *	Update the visible attribute of a menu item.
     *
    * @param Boolean visible true=visible, false=hidden.
    *@public	
     */	
	setVisibility:function(visible)
	{
	this.visible=visible;
	}
	
// }}}	
	,
	
// {{{ getState()
    /**
     *	Return the state attribute of a menu item.
     *
    *@public	
     */	
	getState:function()
	{
	return this.state;
	}
	
// }}}	
	,
	
// {{{ setState()
    /**
     *	Update the state attribute of a menu item.
     *
    * @param String newState New state of this item
    *@public	
     */	
	setState:function(newState)
	{
	this.state=newState;
	}
	
// }}}	
	,
	
// {{{ setSubMenuWidth()
    /**
     *	Specify width of direct subs of this item.
     *
    * @param int newWidth Width of sub menu group(direct sub of this item)
    *@public	
     */	
	setSubMenuWidth:function(newWidth)
	{
	this.submenuWidth=newWidth;
	}
	
// }}}	
	,
	
// {{{ setIcon()
    /**
     *	Specify new menu icon
     *
    * @param String iconPath Path to new menu icon
    *@public	
     */	
	setIcon:function(iconPath)
	{
	this.itemIcon=iconPath;
	}
	
// }}}	
	,
	
// {{{ setText()
    /**
     *	Specify new text for the menu item.
     *
    * @param String newText New text for the menu item.
    *@public	
     */	
	setText:function(newText)
	{
	this.itemText=newText;
	}
}

/************************************************************************************************************
*	DHTML menu model class
*
*	Created:			October, 30th, 2006
*	@class Purpose of class:	Saves menu item data
*		
*
*	Demos of this class:		demo-menu-strip.html
*
* 	Update log:
*
************************************************************************************************************/


/**
* @constructor
* @class Purpose of class:	Organize menu items for different menu widgets. demos of menus: (<a href="../../demos/demo-menu-strip.html" target="_blank">Demo</a>)
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/


DHTMLSuite.menuModel=function(){
	var menuItems;			
// Array of menuModelItem objects
	var menuItemsOrder;		
// This array is needed in order to preserve the correct order of the array above. the array above is associative
					
// And some browsers will loop through that array in different orders than Firefox and IE.
	var submenuType;		
// Direction of menu items(one item for each depth)
	var mainMenuGroupWidth;		
// Width of menu group-useful if the first group of items are listed below each other
	this.menuItems=new Object();
	this.menuItemsOrder=new Array();
	this.submenuType=new Array();
	this.submenuType[1]='top';
	for(var no=2;no<20;no++){
	this.submenuType[no]='sub';
	}
	try{	
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
}

DHTMLSuite.menuModel.prototype={
	
// {{{ addItem()
    /**
     *	Add separator (special type of menu item)
     *
 	 *
     *
    * @param int id of menu item
    * @param string itemText=text of menu item
    * @param string itemIcon=file name of menu icon(in front of menu text. Path will be imagePath for the DHTMLSuite+file name)
    * @param string url=Url of menu item
    * @param int parent id of menu item     
    * @param String jsFunction Name of javascript function to execute. It will replace the url param. The function with this name will be called and the element triggering the action will be 
     *			sent as argument. Name of the element which triggered the menu action may also be sent as a second argument. That depends on the widget. The context menu is an example where
     *			the element triggering the context menu is sent as second argument to this function.    
     *
    *@public	
     */		
	addItem:function(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth)
	{
	if(!id)id=this.__getUniqueId();	
// id not present-create it dynamically.
	try{
		this.menuItems[id]=new DHTMLSuite.menuModelItem();
	}catch(e){
		alert('Error: You need to include dhtmlSuite-menuModel.js in your html file');
	}
	this.menuItems[id].setMenuVars(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth);
	this.menuItemsOrder[this.menuItemsOrder.length]=id;
	return this.menuItems[id];
	}
	,
	
// {{{ addItemsFromMarkup()
    /**
     *	This method creates all the menuModelItem objects by reading it from existing markup on your page.
     *	Example of HTML markup:
     *<br>
	&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul id="menuModel">
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="50000" itemIcon="../images/disk.gif">&lt;a href="#" title="Open the file menu">File&lt;/a>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul width="150">
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500001" jsFunction="saveWork()" itemIcon="../images/disk.gif">&lt;a href="#" title="Save your work">Save&lt;/a>&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500002">&lt;a href="#">Save As&lt;/a>&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500004" itemType="separator">&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500003">&lt;a href="#">Open&lt;/a>&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="50001">&lt;a href="#">View&lt;/a>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul width="130">
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500011">&lt;a href="#">Source&lt;/a>&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500012">&lt;a href="#">Debug info&lt;/a>&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="500013">&lt;a href="#">Layout&lt;/a>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul width="150">
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="5000131">&lt;a href="#">CSS&lt;/a>&nbsp;&nbsp;
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="5000132">&lt;a href="#">HTML&lt;/a>&nbsp;&nbsp;
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="5000133">&lt;a href="#">Javascript&lt;/a>&nbsp;&nbsp;
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="50003" itemType="separator">&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li id="50002">&lt;a href="#">Tools&lt;/a>&lt;/li>
	<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul>&nbsp;&nbsp;     
     *
    * @param String ulId=ID of <UL> tag on your page.
     *
    *@public	
     */	
	addItemsFromMarkup:function(ulId)
	{
	if(!document.getElementById(ulId)){
		alert('<UL> tag with id '+ulId+' does not exist');
		return;
	}
	var ulObj=document.getElementById(ulId);
	var liTags=ulObj.getElementsByTagName('LI');	
	for(var no=0;no<liTags.length;no++){	
// Walking through all <li> tags in the <ul> tree
		
		var id=liTags[no].id.replace(/[^0-9]/gi,'');	
// Get id of item.
		if(!id||this.menuItems[id])id=this.__getUniqueId();
		try{
		this.menuItems[id]=new DHTMLSuite.menuModelItem();	
// Creating new menuModelItem object
		}catch(e){
		alert('Error: You need to include dhtmlSuite-menuModel.js in your html file');
		}
		this.menuItemsOrder[this.menuItemsOrder.length]=id;
		
// Get the attributes for this new menu item.	
		
		var parentId=0;	
// Default parent id
		if(liTags[no].parentNode!=ulObj)parentId=liTags[no].parentNode.parentNode.id;	
// parent node exists, set parentId equal to id of parent <li>.
			
		/* Checking type */
		var type=liTags[no].getAttribute('itemType');		
		if(!type)type=liTags[no].itemType;
		if(type=='separator'){	
// Menu item of type "separator"
		this.menuItems[id].setAsSeparator(id,parentId);
		continue;	
		}
		if(parentId)type='sub'; else type='top';			
	
		var aTag=liTags[no].getElementsByTagName('A')[0];	
// Get a reference to sub <a> tag
		if(!aTag){
		continue;
		}		
		if(aTag)var itemText=aTag.innerHTML;	
// Item text is set to the innerHTML of the <a> tag.
		var itemIcon=liTags[no].getAttribute('itemIcon');	
// Item icon is set from the itemIcon attribute of the <li> tag.
		var url=aTag.href;	
// url is set to the href attribute of the <a> tag
		if(url=='#'||url.substr(url.length-1,1)=='#')url='';	
// #=empty url.
		
		var jsFunction=liTags[no].getAttribute('jsFunction');	
// jsFunction is set from the jsFunction attribute of the <li> tag.

		var submenuWidth=false;	
// Not set from the <li> tag. 
		var helpText=aTag.getAttribute('title');	
		if(!helpText)helpText=aTag.title;
		
		this.menuItems[id].setMenuVars(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth);		
	}	
	var subUls=ulObj.getElementsByTagName('UL');
	for(var no=0;no<subUls.length;no++){
		var width=subUls[no].getAttribute('width');
		if(!width)width=subUls[no].width;	
		if(width){
		var id=subUls[no].parentNode.id.replace(/[^0-9]/gi,'');
		this.setSubMenuWidth(id,width);
		}
	}	
	ulObj.style.display='none';
	
	}	
	
// }}}	
	,
	
// {{{ setSubMenuWidth()
    /**
     *	This method specifies the width of a sub menu group. This is a useful method in order to get a correct width in IE6 and prior.
     *
    * @param int id=ID of parent menu item
    * @param String newWidth=Width of sub menu items.
    *@public	
     */	
	setSubMenuWidth:function(id,newWidth)
	{
	this.menuItems[id].setSubMenuWidth(newWidth);
	}	
	,
	
// {{{ setMainMenuGroupWidth()
    /**
     *	Add separator (special type of menu item)
     *
    * @param String newWidth=Size of a menu group
    * @param int parent id of menu item
    *@public	
     */		
	setMainMenuGroupWidth:function(newWidth)
	{
	this.mainMenuGroupWidth=newWidth;
	}
	,
	
// {{{ addSeparator()
    /**
     *	Add separator (special type of menu item)
     *
    * @param int parent id of menu item
    *@public	
     */	
	addSeparator:function(parentId)
	{
	id=this.__getUniqueId();	
// Get unique id
	if(!parentId)parentId=0;
	try{
		this.menuItems[id]=new DHTMLSuite.menuModelItem();
	}catch(e){
		alert('Error: You need to include dhtmlSuite-menuModel.js in your html file');
	}
	this.menuItems[id].setAsSeparator(id,parentId);
	this.menuItemsOrder[this.menuItemsOrder.length]=id;
	return this.menuItems[id];
	}	
	,
	
// {{{ init()
    /**
     *	Initilizes the menu model. This method should be called when all items has been added to the model.
     *
     *
    *@public	
     */	
	init:function()
	{
	this.__getDepths();	
	this.__setHasSubs();	
	
	}
	
// }}}	
	,
	
// {{{ setMenuItemVisibility()
    /**
     *	Save visibility of a menu item.
    *	
     *	@param int id=Id of menu item..
     *	@param Boolean visible=Visibility of menu item.
     *
    *@public	
     */	
	setMenuItemVisibility:function(id,visible)
	{
	this.menuItems[id].setVisibility(visible);	
	}
	
// }}}
	,
	
// {{{ setSubMenuType()
    /**
     *	Set menu type for a specific menu depth.
    *	
     *	@param int depth=1=Top menu, 2=Sub level 1...
     *	@param String newType=New menu type(possible values: "top" or "sub")
     *
    *@public	
     */	
	setSubMenuType:function(depth,newType)
	{
	this.submenuType[depth]=newType;	
	this.__getDepths();
	
	}
	
// }}}	
	,
	
// {{{ getItems()
    /**
     *	return an array of all menu items or a branch of menu items.
     *	@param String parentId-id of parent node
    *	
     *
    *@public	
     */	
	getItems:function(parentId,returnArray)
	{
	if(!parentId)return this.menuItems;
	if(!returnArray)returnArray=new Array();
	for(var no=0;no<this.menuItemsOrder.length;no++){
		var id=this.menuItemsOrder[no];
		if(!id)continue;
		if(this.menuItems[id].parentId==parentId){
		returnArray[returnArray.length]=this.menuItems[id];
		if(this.menuItems[id].hasSubs)return this.getItems(this.menuItems[id].id,returnArray);
		}
	}
	return returnArray;
	
	}
	
// }}}
	,
	
// {{{ __getUniqueId()
    /**
     *	Returns a unique id for a menu item. This method is used by the addSeparator function in case an id isn't sent to the method.
    *	
     *
    *@private	
     */	    	
	__getUniqueId:function()
	{
	var num=Math.random()+'';
	num=num.replace('.','');	
	num='99'+num;	
	num=num /1;	
	while(this.menuItems[num]){
		num=Math.random()+'';
		num=num.replace('.','');	
		num=num /1;		
	}
	return num;
	}
	
// }}}	
	,
	
// {{{ __getDepths()
    /**
     *	Create variable for the depth of each menu item.
    *	
     *
    *@private	
     */	
    __getDepths:function()
    {    	
    	for(var no=0;no<this.menuItemsOrder.length;no++){
    	var id=this.menuItemsOrder[no];
    	if(!id)continue;
    	this.menuItems[id].depth=1;
    	if(this.menuItems[id].parentId){
    		this.menuItems[id].depth=this.menuItems[this.menuItems[id].parentId].depth+1;    
 	
    	}  
    	this.menuItems[id].type=this.submenuType[this.menuItems[id].depth];	
// Save menu direction for this menu item.  	
    	}    	
    }	
    
// }}}
    ,	    
    
// {{{ __setHasSubs()
    /**
     *	Create variable for the depth of each menu item.
    *	
     *
    *@private	
     */	
    __setHasSubs:function()
    {    	
    	for(var no=0;no<this.menuItemsOrder.length;no++){
    	var id=this.menuItemsOrder[no];
    	if(!id)continue;    	
    	if(this.menuItems[id].parentId){
    		this.menuItems[this.menuItems[id].parentId].hasSubs=1;
    		
    	}    	
    	}    	
    }	
    
// }}}
    ,
	
// {{{ __hasSubs()
    /**
     *	Does a menu item have sub elements ?
    *	
     *
    *@private	
     */	
	
// }}}	
	__hasSubs:function(id)
	{
	for(var no=0;no<this.menuItemsOrder.length;no++){
		var id=this.menuItemsOrder[no];
		if(!id)continue;
		if(this.menuItems[id].parentId==id)return true;	
	}
	return false;	
	}
	
// }}}
	,
	
// {{{ __deleteChildNodes()
    /**
     *	Deleting child nodes of a specific parent id
    *	
     *	@param int parentId
     *
    *@private	
     */	
	
// }}}	
	__deleteChildNodes:function(parentId,recursive)
	{
	var itemsToDeleteFromOrderArray=new Array();
	for(var prop=0;prop<this.menuItemsOrder.length;prop++){
    	var id=this.menuItemsOrder[prop];
    	if(!id)continue;    
    			
		if(this.menuItems[id].parentId==parentId&&parentId){
		this.menuItems[id]=false;
		itemsToDeleteFromOrderArray[itemsToDeleteFromOrderArray.length]=id;		
		this.__deleteChildNodes(id,true);	
// Recursive call.
		}	
	}	
	
	if(!recursive){
		for(var prop=0;prop<itemsToDeleteFromOrderArray.length;prop++){
		if(!itemsToDeleteFromOrderArray[prop])continue;
		this.__deleteItemFromItemOrderArray(itemsToDeleteFromOrderArray[prop]);
		}
	}
	this.__setHasSubs();
	}
	
// }}}
	,
	
// {{{ __deleteANode()
    /**
     *	Deleting a specific node from the menu model
    *	
     *	@param int id=Id of node to delete.
     *
    *@private	
     */	
	
// }}}	
	__deleteANode:function(id)
	{
	this.menuItems[id]=false;	
	this.__deleteItemFromItemOrderArray(id);	
	}
	,
	
// {{{ __deleteItemFromItemOrderArray()
    /**
     *	Deleting a specific node from the menuItemsOrder array(The array controlling the order of the menu items).
    *	
     *	@param int id=Id of node to delete.
     *
    *@private	
     */	
	
// }}}	
	__deleteItemFromItemOrderArray:function(id)
	{
	for(var no=0;no<this.menuItemsOrder.length;no++){
		var tmpId=this.menuItemsOrder[no];
		if(!tmpId)continue;	
		if(this.menuItemsOrder[no]==id){
		this.menuItemsOrder.splice(no,1);
		return;
		}
	}
	
	}
	
// }}}
	,	
	
// {{{ __appendMenuModel()
    /**
     *	Replace the sub items of a menu item with items from a new menuModel.
    *	
     *	@param menuModel newModel=An object of class menuModel-the items of this menu model will be appended to the existing menu items.
     *	@param Int parentId=Id of parent element of the appended items.
     *
    *@private	
     */	
	
// }}}	
	__appendMenuModel:function(newModel,parentId)
	{
	if(!newModel)return;
	var items=newModel.getItems();
	for(var no=0;no<newModel.menuItemsOrder.length;no++){
		var id=newModel.menuItemsOrder[no];
		if(!id)continue;
		if(!items[id].parentId)items[id].parentId=parentId;
		this.menuItems[id]=items[id];	
		for(var no2=0;no2<this.menuItemsOrder.length;no2++){	
// Check to see if this item allready exists in the menuItemsOrder array, if it does, remove it. 
		if(!this.menuItemsOrder[no2])continue;
		if(this.menuItemsOrder[no2]==items[id].id){
			this.menuItemsOrder.splice(no2,1);
		}
		}
		this.menuItemsOrder[this.menuItemsOrder.length]=items[id].id;	
	}
	this.__getDepths();	
	this.__setHasSubs();	
	}
	
// }}}
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML pane splitter pane
*
*	Created:			November, 28th, 2006
*	@class Purpose of class:	Creates a pane for the pane splitter ( This is a private class )
*		
*	Css files used by this script:	pane-splitter.css
*
*	Demos of this class:		demo-pane-splitter.html
*
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class Purpose of class:	Creates the content for a pane in the pane splitter widget( This is a private class )
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

DHTMLSuite.paneSplitterPane=function(parentRef)
{
	var divElement;	
// Reference to a div element for the content
	var divElCollapsed;	
// Reference to the div element for the content ( collapsed state )
	var divElCollapsedInner;	
// Reference to the div element for the content ( collapsed state )
	var contentDiv;	
// Div for the content
	var headerDiv;	
// Reference to the header div
	var titleSpan;	
// Reference to the <span> tag for the title
	var paneModel;	
// An array of paneSplitterPaneView objects
	var resizeDiv;	
// Div for the resize handle
	var tabDiv;		
// Div for the tabs
	var divTransparentForResize;	
// This transparent div is used to cover iframes when resize is in progress.
	var parentRef;	
// Reference to paneSplitter object
	
	var divClose;	
// Reference to close button
	var divCollapse;	
// Reference to collapse button
	var divExpand;	
// Reference to expand button
	var divRefresh;	
// Reference to refresh button
	
	var slideIsInProgress;	
// Internal variable used by the script to determine if slide is in progress or not
	var reloadIntervalHandlers;	
// Array of setInterval objects, one for each content of this pane
	
	var contentScrollTopPositions;	
// Array of contents scroll top positions in pixels.
	
	this.contents=new Array();
	this.reloadIntervalHandlers=new Object();
	this.contentScrollTopPositions=new Object();
	
	this.parentRef=parentRef;
	var activeContentIndex;	
// Index of active content(default=0)
	this.activeContentIndex=false;
	this.slideIsInProgress=false;
	var objectIndex;		
// Index of this object in the variableStorage array
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
}
DHTMLSuite.paneSplitterPane.prototype =
{
	
// {{{ addDataSource()
	/**
	*	Add a data source to the pane
	*
	*	@param paneModelRef-Object of class DHTMLSuite.paneSplitterpaneModelRef
	*	@public
	*/	
	addDataSource:function(paneModelRef)
	{
	this.paneModel=paneModelRef;
	}
	
// }}}
	,
	
// {{{ addContent()
	/**
	* 	 Add a content model to the pane. 
	*
	*	@param DHTMLSuite.paneSplitterpaneContentModelObject paneContentModelObject-Object of class DHTMLSuite.paneSplitterpaneContentModelObject
	*	@param String jsCodeToExecuteWhenComplete-JS code to execute/evaluate when content has been successfully loaded.
	*	@return Boolean Success-true if content were added, false otherwise (i.e. content already exists)
	*
	*	@public
	*/	 
	addContent:function(paneContentModelObject,jsCodeToExecuteWhenComplete)
	{
	var retValue=this.paneModel.addContent(paneContentModelObject);
	
	if(!retValue)return false;	
// Content already exists-return from this method.
	this.__addOneContentDiv(paneContentModelObject,jsCodeToExecuteWhenComplete);
	this.__updateTabContent();
	this.__updateView();
	if(this.paneModel.getCountContent()==1)this.showContent(paneContentModelObject.id);
	return retValue
	}
	
// }}}	
	,	
	
// {{{ showContent()
	/**
	* 	Display content-the content with this id will be activated.(if content id doesn't exists, nothing is done)
	*
	*	@param String idOfContentObject-Id of the content to show
	*
	*	@public
	*/	
	showContent:function(idOfContentObject)
	{
	for(var no=0;no<this.paneModel.contents.length;no++){
		if(this.paneModel.contents[no].id==idOfContentObject){
		this.__updatePaneView(no);		
		return;
		}
	}	
	}
	
// }}}
	,
	
// {{{ loadContent()
	/**
	* 	loads content into a pane
	*
	*	@param String idOfContentObject-Id of the content object-where new content should be appended
	*	@param String url-url to content
	*	@param Integer refreshAfterSeconds	- Reload url after number of seconds. 0=no refresh ( also default)
	*	@param internalCall Boolean	- Always false ( true only if this method is called by the script it's self )
	*	@param String onCompleteJsCode-Js code to execute when content has been successfully loaded.
	*
	*	@public
	*/	
	loadContent:function(idOfContentObject,url,refreshAfterSeconds,internalCall,onCompleteJsCode)
	{
	if(!url)return;
	for(var no=0;no<this.paneModel.contents.length;no++){
		if(this.paneModel.contents[no].id==idOfContentObject){
		if(internalCall&&!this.paneModel.contents[no].refreshAfterSeconds)return;	
// Refresh rate has been cleared-no reload.		
		var ajaxWaitMsg=this.parentRef.waitMessage;	
// Please wait message
		this.paneModel.contents[no].__setContentUrl(url);
		if(refreshAfterSeconds&&!internalCall){
			this.paneModel.contents[no].__setRefreshAfterSeconds(refreshAfterSeconds);			
		}
		if(refreshAfterSeconds)this.__handleContentReload(idOfContentObject,refreshAfterSeconds);
		try{
			var dynContent=new DHTMLSuite.dynamicContent();
		}catch(e){
			alert('You need to include dhtmlSuite-dynamicContent.js');
		}
		dynContent.setWaitMessage(ajaxWaitMsg);
		dynContent.loadContent(this.paneModel.contents[no].htmlElementId,url,onCompleteJsCode);	
		dynContent=false;	
		return;
		}
	}	
	}
	
// }}}
	,
	
// {{{ isUrlLoadedInPane()
	/**
	* 	Check if url is allready loaded into a pane.
	*
	*	@param String idOfContentObject-Id of content
	*	@param String url-url to check
	*
	*	@public
	*/	
	isUrlLoadedInPane:function(idOfContentObject,url)
	{
	var contentIndex=this.paneModel.__getIndexById(idOfContentObject);
	if(contentIndex!==false){
		if(this.paneModel.contents[contentIndex].contentUrl==url)return true;
	}
	return false;
	
	}
	
// }}}
	,
	
// {{{ reloadContent()
	/**
	* 	Reloads content for a pane ( AJAX )
	*
	*	@param String idOfContentObject-Id of the content object-where new content should be appended
	*
	*	@public
	*/	
	reloadContent:function(idOfContentObject)
	{
	var contentIndex=this.paneModel.__getIndexById(idOfContentObject);
	if(contentIndex!==false){
		this.loadContent(idOfContentObject,this.paneModel.contents[contentIndex].contentUrl);	
	}	
	}
	
// }}}
	,
	
// {{{ setRefreshAfterSeconds()
	/**
	* 	Reloads content into a pane-sets a timeout for a new call to loadContent
	*
	*	@param String idOfContentObject-Id of the content object-id of content
	*	@param Integer refreshAfterSeconds-When to reload content, 0=no reload of content.
	*
	*	@public
	*/	
	setRefreshAfterSeconds:function(idOfContentObject,refreshAfterSeconds)
	{
	for(var no=0;no<this.paneModel.contents.length;no++){
		if(this.paneModel.contents[no].id==idOfContentObject){
		if(!this.paneModel.contents[no].refreshAfterSeconds){
			this.loadContent(idOfContentObject,this.paneModel.contents[no].contentUrl,refreshAfterSeconds);	
		}
		this.paneModel.contents[no].__setRefreshAfterSeconds(refreshAfterSeconds);	
		this.__handleContentReload(idOfContentObject);		
		}
	}
	}
	
// }}}
	,
	
// {{{ setContentTitle()
	/**
	* 	New tab title of content-i.e. the heading
	*
	*	@param String idOfContent-Id of content object
	*	@param String newTitle-New tab title
	*
	*	@public
	*/	
	setContentTitle:function(idOfContent, newTitle)
	{
	var contentModelIndex=this.paneModel.__getIndexById(idOfContent);	
// Get a reference to the content object
	if(contentModelIndex!==false){
		var contentModelObj=this.paneModel.contents[contentModelIndex];
		contentModelObj.__setTitle(newTitle);
		this.__updateHeaderBar(this.activeContentIndex);
	}
	}
	
// }}}
	,
	
// {{{ setContentTabTitle()
	/**
	* 	New tab title for a specific tab(the clickable tab)
	*
	*	@param String idOfContent-Id of content object
	*	@param String newTitle-New tab title
	*
	*	@public
	*/	
	setContentTabTitle:function(idOfContent, newTitle)
	{
	var contentModelIndex=this.paneModel.__getIndexById(idOfContent);	
// Get a reference to the content object
	if(contentModelIndex!==false){
		var contentModelObj=this.paneModel.contents[contentModelIndex];
		contentModelObj.__setTabTitle(newTitle);
		this.__updateTabContent();
	}
	}
	
// }}}
	,
	
// {{{ hidePane()
	/**
	* 	Hides the pane
	*
	*
	*	@public
	*/	
	hidePane:function()
	{
	this.paneModel.__setVisible(false);	
// Update the data source property
	this.expand();		
	this.divElement.style.display='none';
	this.__executeCallBack("hide",this.paneModel.contents[this.activeContentIndex]);	
	}	
	
// }}}
	,
	
// {{{ showPane()
	/**
	* 	Make a pane visible
	*
	*
	*	@public
	*/	
	showPane:function()
	{
	this.paneModel.__setVisible(true);	
	this.divElement.style.display='block';	
	this.__executeCallBack("show",this.paneModel.contents[this.activeContentIndex]);
	}	
	
// }}}
	,
	
// {{{ collapse()
	/**
	* 	Collapses a pane
	*
	*
	*	@public
	*/	
	collapse:function()
	{
	this.__collapse();
	if(!this.parentRef.dataModel.collapseButtonsInTitleBars)this.parentRef.__toggleCollapseExpandButton(this.paneModel.getPosition(),'collapse');	
	}
	,
	
// {{{ expand()
	/**
	* 	Expands a pane
	*
	*
	*	@public
	*/	
	expand:function()
	{
	this.__expand();	
	if(!this.parentRef.dataModel.collapseButtonsInTitleBars)this.parentRef.__toggleCollapseExpandButton(this.paneModel.getPosition(),'expand');	
	}
	
// }}}
	,
	
// {{{ getIdOfCurrentlyDisplayedContent()
	/**
	* 	Returns id of the content currently being displayed-active tab.
	*
	*	@return String id of currently displayed content (active tab).
	*
	*	@private
	*/	
	getIdOfCurrentlyDisplayedContent:function()
	{
	return this.paneModel.contents[this.activeContentIndex].id;	
	}
	
// }}}
	,
	
// {{{ getHtmlElIdOfCurrentlyDisplayedContent()
	/**
	* 	Returns id of the HTML element for currently being displayed-active tab.
	*
	*	@return String htmlElementId of currently displayed content (active tab).
	*
	*	@private
	*/	
	getHtmlElIdOfCurrentlyDisplayedContent:function()
	{
	return this.paneModel.contents[this.activeContentIndex].htmlElementId;	
	}
	
// }}}
	,
	
// {{{ __getSizeOfPaneInPixels()
	/**
	*	Returns pane width in pixels
	*	@return Array-associative array with the keys "width" and "height"
	*
	*	@private
	*/	
	__getSizeOfPaneInPixels:function()
	{
	var retArray=new Object();
	retArray.width=this.divElement.offsetWidth;
	retArray.height=this.divElement.offsetHeight;
	return retArray;
	}
	
// }}}
	,
	
// {{{ __reloadDisplayedContent()
	/**
	*	Reloads the displayed content if it got content url.
	*
	*	@private
	*/	
	__reloadDisplayedContent:function()
	{
	this.reloadContent(this.paneModel.contents[this.activeContentIndex].id);	
	}
	,	
	
// {{{ __getReferenceTomainDivEl()
	/**
	* 	Returns a reference to the main div element for this pane
	*
	*	@param String divElement-Reference to pane div element(top div of pane)
	*
	*	@private
	*/	
	__getReferenceTomainDivEl:function()
	{
	return this.divElement;	
	}
	
// }}}	
	,
	
// {{{ __executeResizeCallBack()
	/**
	* 	Execute a resize pane call back-this method is called from the pane splitter
	*
	*	@private
	*/	
	__executeResizeCallBack:function()
	{
	this.__executeCallBack('resize');
	}
	,	
	
// {{{ __executeCallBack()
	/**
	* 	Execute a call back function
	*
	*	@parem whichCallBackAction-which call back-event.
	*
	*	@private
	*/	
	__executeCallBack:function(whichCallBackAction,contentObj)
	{
	
	var callbackString=false;
	switch(whichCallBackAction){	/* Which call back string */		
		case "show":
		if(!this.paneModel.callbackOnShow)return;
		callbackString=this.paneModel.callbackOnShow;
		break;
		case "collapse":
		if(!this.paneModel.callbackOnCollapse)return;
		callbackString=this.paneModel.callbackOnCollapse;
		break;	
		case "expand":
		if(!this.paneModel.callbackOnExpand)return;
		callbackString=this.paneModel.callbackOnExpand;
		break;	
		case "hide":
		if(!this.paneModel.callbackOnHide)return;
		callbackString=this.paneModel.callbackOnHide;
		break;	
		case "slideIn":
		if(!this.paneModel.callbackOnSlideIn)return;
		callbackString=this.paneModel.callbackOnSlideIn;
		break;	
		case "slideOut":		
		if(!this.paneModel.callbackOnSlideOut)return;
		callbackString=this.paneModel.callbackOnSlideOut;		
		break;	
		case "closeContent":
		if(!this.paneModel.callbackOnCloseContent)return;
		callbackString=this.paneModel.callbackOnCloseContent;		
		break;
		case "beforeCloseContent": 
		if(!this.paneModel.callbackOnBeforeCloseContent)return true;
		callbackString=this.paneModel.callbackOnBeforeCloseContent;	
		break;
		case "tabSwitch":
		if(!this.paneModel.callbackOnTabSwitch)return;
		callbackString=this.paneModel.callbackOnTabSwitch;		
		break;	
		case "resize":
		if(!this.paneModel.callbackOnResize)return;
		callbackString=this.paneModel.callbackOnResize;
		break;		
	}	
	if(!callbackString)return;
	if(!contentObj)contentObj=false;
	callbackString=this.__getCallBackString(callbackString,whichCallBackAction,contentObj);
	return this.__executeCallBackString(callbackString,contentObj);
	}
	
// }}}
	,
	
// {{{ __getCallBackString()
	/**
	* 	Parse a call back string. If parantheses are present, return it as it is, otherwise return  the name of the function and the paneModel as argument to that function
	*
	*	@param String callbackString-Call back string to parse
	*	@param String whichCallBackAction-Which callback action
	*	@param Object contentObj-Reference to pane content object(model)
	*
	*	@private
	*/	
	__getCallBackString:function(callbackString,whichCallBackAction,contentObj)
	{
	if(callbackString.indexOf('(')>=0)return callbackString;	
	if(contentObj){	
		callbackString=callbackString+'(this.paneModel,"'+whichCallBackAction+'",contentObj)';
	}else{
		callbackString=callbackString+'(this.paneModel,"'+whichCallBackAction+'")';
	}
	callbackString=callbackString;
	return callbackString;	
	}
	
// }}}
	,
	
// {{{ __executeCallBackString()
	/**
	* 	Reloads content into a pane-sets a timeout for a new call to loadContent
	*
	*	@param String callbackString-Call back string to execute
	*	@param Object contentObj-Reference to pane content object(model)
	*
	*	@private
	*/	
	__executeCallBackString:function(callbackString,contentObj)
	{
	try{
		return eval(callbackString);
	}catch(e){
		alert('Could not execute specified call back function:\n'+callbackString+'\n\nError:\n'+e.name+'\n'+e.message+'\n'+'\nMake sure that there aren\'t any errors in your function.\nAlso remember that contentObj would not be present when you click close on the last tab\n(In case a close tab event triggered this callback function)');
	}		
	}	
	,
	
// {{{ __handleContentReload()
	/**
	* 	Reloads content into a pane-sets a timeout for a new call to loadContent
	*
	*	@param String id-Id of the content object-id of content
	*
	*	@private
	*/		
	__handleContentReload:function(id)
	{
	var ind=this.objectIndex;	
	var contentIndex=this.paneModel.__getIndexById(id);
	if(contentIndex!==false){
		var contentRef=this.paneModel.contents[contentIndex];
		if(contentRef.refreshAfterSeconds){
		if(this.reloadIntervalHandlers[id])clearInterval(this.reloadIntervalHandlers[id]);
		this.reloadIntervalHandlers[id]=setInterval('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].loadContent("'+id+'","'+contentRef.contentUrl+'",'+contentRef.refreshAfterSeconds+',true)',(contentRef.refreshAfterSeconds*1000));
		}else{
		if(this.reloadIntervalHandlers[id])clearInterval(this.reloadIntervalHandlers[id]);
		}
	}	
	}
	
// }}}
	,
	
// {{{ __createPane()
	/**
	*	This method creates the div for a pane
	*
	*
	*	@private
	*/	
	__createPane:function()
	{
	this.divElement=document.createElement('DIV');	
// Create the div for a pane.
	this.divElement.style.position='absolute';
	this.divElement.className='DHTMLSuite_pane';
	this.divElement.id='DHTMLSuite_pane_'+this.paneModel.getPosition();
	document.body.appendChild(this.divElement);	
	this.__createHeaderBar();	
// Create the header
	this.__createContentPane();	
// Create content pane.
	this.__createTabBar();	
// Create content pane.
	this.__createCollapsedPane();	
// Create div element ( collapsed state)
	this.__createTransparentDivForResize();	
// Create transparent div for the resize;
	this.__updateView();	
// Update the view	
	this.__addContentDivs();
	this.__setSize();
	}
	
// }}}
	,
	
// {{{ __createTransparentDivForResize()
	/**
	*	Create div element used when content is being resized
	*
	*
	*	@private
	*/	
	__createTransparentDivForResize:function()
	{
	this.divTransparentForResize=document.createElement('DIV');
	var ref=this.divTransparentForResize;
	ref.style.opacity='0';
	ref.style.display='none';
	ref.style.filter='alpha(opacity=0)';
	ref.style.position='absolute';
	ref.style.left='0px';
	ref.style.top=this.headerDiv.offsetHeight+'px';
	ref.style.height='90%';
	ref.style.width='100%';
	ref.style.backgroundColor='#FFF';
	ref.style.zIndex='1000';
	this.divElement.appendChild(ref);
	
	}
	
// }}}
	,
	
// {{{ __createCollapsedPane()
	/**
	*	Creates the div element-collapsed state
	*
	*
	*	@private
	*/	
	__createCollapsedPane:function()
	{
	var ind=this.objectIndex;
	var pos=this.paneModel.getPosition();
	var buttonSuffix='Vertical';	
// Suffix to the class names for the collapse and expand buttons
	if(pos=='west'||pos=='east')buttonSuffix='Horizontal';
	if(pos=='center')buttonSuffix='';
		
	this.divElCollapsed=document.createElement('DIV');	
	
	
	var obj=this.divElCollapsed;

	obj.className='DHTMLSuite_pane_collapsed_'+pos;
	obj.style.visibility='hidden';
	obj.style.position='absolute';
	
	this.divElCollapsedInner=document.createElement('DIV');
	this.divElCollapsedInner.className= 'DHTMLSuite_pane_collapsedInner';
	this.divElCollapsedInner.onmouseover=this.__mouseoverHeaderButton;
	this.divElCollapsedInner.onmouseout=this.__mouseoutHeaderButton;
	this.divElCollapsedInner.onclick=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__slidePane(e); }
	DHTMLSuite.commonObj.__addEventEl(this.divElCollapsedInner);	
	
	obj.appendChild(this.divElCollapsedInner);
		
	var buttonDiv=document.createElement('DIV');
	buttonDiv.className='buttonDiv';
	
	this.divElCollapsedInner.appendChild(buttonDiv);

	document.body.appendChild(obj);	
	
	if(this.parentRef.dataModel.collapseButtonsInTitleBars){
		if(this.paneModel.getPosition()=='east'||this.paneModel.getPosition()=='west'){
		this.divElCollapsedInner.style.width=(this.parentRef.paneSizeCollapsed-6)+'px';
		this.divElCollapsed.style.width=(this.parentRef.paneSizeCollapsed)+'px';
		if(this.paneModel.getPosition()=='east'){
			this.divElCollapsedInner.style.marginLeft='3px';
		}
		}else{
		this.divElCollapsedInner.style.height=(this.parentRef.paneSizeCollapsed-6)+'px';
		this.divElCollapsed.style.height=(this.parentRef.paneSizeCollapsed)+'px';
		buttonDiv.style.cssText='float:right;clear:both';	
		}
		var pos=this.paneModel.getPosition();
		
// Creating expand button
		this.divExpand=document.createElement('DIV');
		if(pos=='south'||pos=='east')
		this.divExpand.className='collapseButton'+buttonSuffix;		
		else
		this.divExpand.className='expandButton'+buttonSuffix;		
		
		
		this.divExpand.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__expand(); } ;
		this.divExpand.onmouseover=this.__mouseoverHeaderButton;
		this.divExpand.onmouseout=this.__mouseoutHeaderButton;	
		DHTMLSuite.commonObj.__addEventEl(this.divExpand);	
		buttonDiv.appendChild(this.divExpand);
	}
	}
	
// }}}	
	,
	
// {{{ __autoSlideInPane()
	/**
	*	Automatically slide in a pane when click outside of the pane. This will happen if the pane is currently in "slide out" mode.
	*
	*
	*	@private
	*/	
	__autoSlideInPane:function(e)
	{
	if(document.all)e=event;
	var state=this.paneModel.__getState();	
// Get state of pane
	if(state=='collapsed'&&this.divElement.style.visibility!='hidden'){	
// Element is collapsed but showing(i.e. temporary expanded)
		if(!DHTMLSuite.commonObj.isObjectClicked(this.divElement,e))this.__slidePane(e,true);	
// Slide in pane if element clicked is not the expanded pane		
	}
	}
	
// }}}
	,	
	
// {{{ __slidePane()
	/**
	*	The purpose of this method is to slide out a pane, but the state of the pane is still collapsed
	*
	*	@param Event e-Reference to event object
	*	@param Boolean forceSlide-force the slide action no matter which element the user clicked on. 
	*
	*	@private
	*/	
	__slidePane:function(e,forceSlide)
	{
	if(this.slideIsInProgress)return;
	this.parentRef.paneZIndexCounter++;
	if(document.all)e=event;	
// IE
	var src=DHTMLSuite.commonObj.getSrcElement(e);	
// Get a reference to the element triggering the event
	if(src.className=='buttonDiv')src=src.parentNode;
	if(src.className.indexOf('collapsed')<0&&!forceSlide)return;	
// If a button on the collapsed pane triggered the event->Return from the method without doing anything.
	
	this.slideIsInProgress=true;
	var state=this.paneModel.__getState();	
// Get state of pane.
	
	var hideWhenComplete=true;
	if(this.divElement.style.visibility=='hidden'){	
// The pane is currently not visible, i.e. not slided out.
		this.__executeCallBack('slideOut',this.paneModel.contents[this.activeContentIndex]);
		this.__setSlideInitPosition();
		this.divElement.style.visibility='visible';
		this.divElement.style.zIndex=16000+this.parentRef.paneZIndexCounter;
		this.divElCollapsed.style.zIndex=16000+this.parentRef.paneZIndexCounter;
	
		var slideTo=this.__getSlideToCoordinates(true);	
// Get coordinate, where to slide to
		hideWhenComplete=false;
		var slideSpeed=this.__getSlideSpeed(true); 
		
	}else{
		this.__executeCallBack('slideIn',this.paneModel.contents[this.activeContentIndex]);
		var slideTo=this.__getSlideToCoordinates(false);	
// Get coordinate, where to slide to
		var slideSpeed=this.__getSlideSpeed(false);
	}	
	
	this.__processSlideByPixels(slideTo,slideSpeed*this.parentRef.slideSpeed,this.__getCurrentCoordinateInPixels(),hideWhenComplete);
	
	}
	
// }}}
	,
	
// {{{ __setSlideInitPosition()
	/**
	*	Set position of pane before slide.
	*
	*
	*	@private
	*/	
	__setSlideInitPosition:function()
	{
	var bw=DHTMLSuite.clientInfoObj.getBrowserWidth();
	var bh=DHTMLSuite.clientInfoObj.getBrowserHeight();
	var pos=this.paneModel.getPosition();
	switch(pos){
		case "west":
		this.divElement.style.left=(0-this.paneModel.size)+ 'px';		
		break;	
		case "east":
		this.divElement.style.left=bw+'px';
		break;
		case "north":
		this.divElement.style.top=(0-this.paneModel.size)+ 'px';	
		break;
		case "south":
		this.divElement.style.top=bh+'px';
		break;
	}	
	}
	
// }}}
	,
	
// {{{ __getCurrentCoordinateInPixels()
	/**
	*	Return pixel coordinates for this pane. For left and east, it would be the left position. For top and south, it would be the top position.
	*
	*	@return Integer currentCoordinate	= Current coordinate for a pane ( top or left)
	*
	*	@private
	*/	
	__getCurrentCoordinateInPixels:function()
	{
	var pos=this.paneModel.getPosition();
	var left=this.divElement.style.left.replace('px','')/1;	
	var top=this.divElement.style.top.replace('px','')/1;	
	switch(pos){
		case "west": return left;
		case "east": return left;	
		case "south": return top;	
		case "north": return top;		
	}	
	}
	
// }}}
	,
	
// {{{ __getSlideSpeed()
	/**
	*	Return pixel steps for the slide.
	*
	*	@param Boolean slideOut	= true if the element should slide out, false if it should slide back, i.e. be hidden.
	*
	*	@private
	*/	
	__getSlideSpeed:function(slideOut)
	{
	var pos=this.paneModel.getPosition();
	switch(pos){
		case "west": 
		case "north":
		if(slideOut)return 1;else return -1;
		break;
		case "south":
		case "east":
		if(slideOut)return -1;else return 1;	
	}		
	}
	
	
// }}} 
	,
	
// {{{ __processSlideByPixels()
	/**
	*	Slides in our out a pane-this method creates that animation
	*
	*	@param Integer slideTo	- coordinate where to slide to(top or left)	
	*	@param Integer slidePixels	- pixels to slide in each iteration of this method
	*	@param Integer currentPos	- current slide position
	*	@param Boolean hideWhenComplete	- Hide pane when completed ?
	*
	*	@private
	*/	
	__processSlideByPixels:function(slideTo,slidePixels,currentPos,hideWhenComplete)
	{
	var pos=this.paneModel.getPosition();
	currentPos=currentPos+slidePixels;
	var repeatSlide=true;	
// Repeat one more time ?
	if(slidePixels>0&&currentPos>slideTo){
		currentPos=slideTo;
		repeatSlide=false;
	}
	if(slidePixels<0&&currentPos<slideTo){
		currentPos=slideTo;
		repeatSlide=false;
	}	
	switch(pos){
		case "west":
		case "east":
		this.divElement.style.left=currentPos+'px';
		break;
		case "north":
		case "south":
		this.divElement.style.top=currentPos+'px';	
	}
	
	if(repeatSlide){
		var ind=this.objectIndex;		
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__processSlideByPixels('+slideTo+','+slidePixels+','+currentPos+','+hideWhenComplete+')',10);
	}else{
		if(hideWhenComplete){
		this.divElement.style.visibility='hidden';
		this.divElement.style.zIndex=11000;
		this.divElCollapsed.style.zIndex=12000;
		}		
		this.slideIsInProgress=false;
	}	
	}
	
// }}}
	,
	
// {{{ __getSlideToCoordinates()
	/**
	*	Return target coordinate for the slide, i.e. where to slide to
	*
	*	@param Boolean slideOut	= true if the element should slide out, false if it should slide back, i.e. be hidden.
	*
	*	@private
	*/
	__getSlideToCoordinates:function(slideOut)
	{
	var bw=DHTMLSuite.clientInfoObj.getBrowserWidth();
	var bh=DHTMLSuite.clientInfoObj.getBrowserHeight();	
	var pos=this.paneModel.getPosition();
		
	
	switch(pos){
		case "west":	
		if(slideOut)
			return this.parentRef.paneSizeCollapsed+this.parentRef.verticalSplitterSize;	
// End position is
		else
			return (0-this.paneModel.size);
		case "east":
		if(slideOut)
			return bw-this.parentRef.paneSizeCollapsed-this.paneModel.size-this.parentRef.verticalSplitterSize -1;
		else
			return bw;
		case "north":
		if(slideOut)
			return this.parentRef.paneSizeCollapsed+this.parentRef.horizontalSplitterSize;	
// End position is
		else
			return (0-this.paneModel.size);
		case "south":
		if(slideOut)	
			return bh-this.parentRef.paneSizeCollapsed -this.paneModel.size-this.parentRef.horizontalSplitterSize -1;
		else
			return bh;
	}
	
	}
	
	
// }}}	
	,
	
// {{{ __updateCollapsedSize()
	/**
	*	Automatically figure out the size of the pane when it's collapsed(the height or width of the small bar)
	*
	*
	*	@private
	*/	
	__updateCollapsedSize:function()
	{
	var pos=this.paneModel.getPosition();
	var size;
	if(pos=='west'||pos=='east')size=this.divElCollapsed.offsetWidth;
	if(pos=='north'||pos=='south')size=this.divElCollapsed.offsetHeight;
	if(size)this.parentRef.__setPaneSizeCollapsed(size);	
	}
	
// }}}
	,
	
// {{{ __createHeaderBar()
	/**
	*	Creates the header bar for a pane
	*
	*
	*	@private
	*/	
	__createHeaderBar:function()
	{
	var ind=this.objectIndex;	
// Making it into a primitive variable
	var pos=this.paneModel.getPosition();	
// Get position of this pane
	var buttonSuffix='Vertical';	
// Suffix to the class names for the collapse and expand buttons
	if(pos=='west'||pos=='east')buttonSuffix='Horizontal';
	if(pos=='center')buttonSuffix='';
	
	this.headerDiv=document.createElement('DIV');
	this.headerDiv.className='DHTMLSuite_paneHeader';
	this.headerDiv.style.position='relative';
	this.divElement.appendChild(this.headerDiv);
	
	this.titleSpan=document.createElement('SPAN');
	this.titleSpan.className='paneTitle';
	this.headerDiv.appendChild(this.titleSpan);
	
	var buttonDiv=document.createElement('DIV');
	buttonDiv.style.position='absolute';
	buttonDiv.style.right='0px';
	buttonDiv.style.top='0px';
	buttonDiv.className='DHTMLSuite_paneHeader_buttonDiv';
	this.headerDiv.appendChild(buttonDiv);
	
	
// Creating close button
	this.divClose=document.createElement('DIV');
	this.divClose.className='closeButton';
	this.divClose.onmouseover=this.__mouseoverHeaderButton;
	this.divClose.onmouseout=this.__mouseoutHeaderButton;
	this.divClose.innerHTML='<span></span>';
	this.divClose.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__close(); } ;
	DHTMLSuite.commonObj.__addEventEl(this.divClose);	
	buttonDiv.appendChild(this.divClose);
	
	
// Creating collapse button
	if(pos!='center'&&this.parentRef.dataModel.collapseButtonsInTitleBars){
		this.divCollapse=document.createElement('DIV');
		if(pos=='south'||pos=='east')
		this.divCollapse.className='expandButton'+buttonSuffix;
		else
		this.divCollapse.className='collapseButton'+buttonSuffix;
		this.divCollapse.innerHTML='<span></span>';	
		this.divCollapse.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapse(); } ;
		this.divCollapse.onmouseover=this.__mouseoverHeaderButton;
		this.divCollapse.onmouseout=this.__mouseoutHeaderButton;
		DHTMLSuite.commonObj.__addEventEl(this.divCollapse);	
		buttonDiv.appendChild(this.divCollapse);
	}

	
	
// Creating refresh button
	this.divRefresh=document.createElement('DIV');
	this.divRefresh.className='refreshButton';
	this.divRefresh.onmouseover=this.__mouseoverHeaderButton;
	this.divRefresh.onmouseout=this.__mouseoutHeaderButton;
	this.divRefresh.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__reloadDisplayedContent(); } ;	
	DHTMLSuite.commonObj.__addEventEl(this.divRefresh);	
	buttonDiv.appendChild(this.divRefresh);
		
	
	this.headerDiv.onselectstart=function(){ return false; };
		
	}
	
// }}}
	,
	
// {{{ __mouseoverHeaderButton()
	/**
	*	Mouse over effect-buttons
	*
	*
	*	@private
	*/	
	__mouseoverHeaderButton:function()
	{
	if(this.className.indexOf('Over')==-1)this.className=this.className+'Over';
	}
	
// }}}
	,
	
// {{{ __mouseoutHeaderButton()
	/**
	*	Mouse out effect-buttons
	*
	*
	*	@private
	*/	
	__mouseoutHeaderButton:function()
	{
	this.className=this.className.replace('Over','');
	}
	,
	
// {{{ __close()
	/**
	*	Close a pane
	*
	*	@param Event e=Reference to Event object
	*
	*	@private
	*/	
	__close:function(e)
	{
	
// Check to see if there's an callbackOnBeforeCloseContent event
	var id=this.paneModel.contents[this.activeContentIndex].id;
	var ok=this.__getOnBeforeCloseResult(this.activeContentIndex);
	if(!ok)return;
	
	if(id){		
		this.__executeCallBack('closeContent',this.paneModel.contents[this.activeContentIndex]);
		DHTMLSuite.discardElement(this.paneModel.contents[this.activeContentIndex].htmlElementId);
	}
	this.activeContentIndex=this.paneModel.__deleteContent(this.activeContentIndex);	
	if(this.activeContentIndex||this.activeContentIndex==0){
		this.__executeCallBack('tabSwitch',this.paneModel.contents[this.activeContentIndex]);
	}	
	this.__updatePaneView(this.activeContentIndex);
	
	}
	
// }}}
	,
	
// {{{ __closeAllClosableTabs()
	/**
	*	Close all closable tabs.
	*
	*
	*	@private
	*/	
	__closeAllClosableTabs:function()
	{
	for(var no=0;no<this.paneModel.contents.length;no++){
		var closable=this.paneModel.contents[no].__getClosable();	
		if(closable){
		var id=this.paneModel.contents[no].id;
		DHTMLSuite.discardElement(this.paneModel.contents[no].htmlElementId);
		this.activeContentIndex=this.paneModel.__deleteContent(no);		
		this.__updatePaneView(this.activeContentIndex);	
		no--;	
		}	
	}		
	}
	
// }}}
	,
	
// {{{ __getOnBeforeCloseResult()
	/**
	*	Return result of onBeforeClose callback
	*
	*	@param Integer contentIndex-Index of content to close.
	*
	*	@private
	*/	
	__getOnBeforeCloseResult:function(contentIndex)
	{
	return this.__executeCallBack('beforeCloseContent',this.paneModel.contents[contentIndex]);
	
	}
	
// }}}
	,
	
// {{{ __deleteContentByIndex()
	/**
	*	Close a pane
	*
	*	@param Integer index of content to delete
	*
	*	@private
	*/	
	__deleteContentByIndex:function(contentIndex)
	{
	if(this.paneModel.getCountContent()==0)return;	
// No content to delete
	if(!this.__getOnBeforeCloseResult(contentIndex))return;
	
	var htmlId=this.paneModel.contents[contentIndex].htmlElementId;
	if(htmlId){
		try{
		DHTMLSuite.discardElement(htmlId);
		}catch(e){
		}
	}
	
	var tmpIndex=this.paneModel.__deleteContent(contentIndex);	
	if(contentIndex==this.activeContentIndex)this.activeContentIndex=tmpIndex;
	if(this.activeContentIndex > contentIndex)this.activeContentIndex--;
	if(tmpIndex===false)this.activeContentIndex=false;
		
	this.__updatePaneView(this.activeContentIndex);	
	
	}
	
// }}}
	,
	
// {{{ __deleteContentById()
	/**
	*	Close/Delete content
	*
	*	@param String id=Id of content to delete/close
	*
	*	@private
	*/	
	__deleteContentById:function(id)
	{
	var index=this.paneModel.__getIndexById(id);
	if(index!==false)this.__deleteContentByIndex(index);	
	}
	
// }}}
	,
	
// {{{ __collapse()
	/**
	*	Collapse a pane.
	*
	*
	*	@private
	*/	
	__collapse:function()
	{
	this.__updateCollapsedSize();
	this.paneModel.__setState('collapsed');	
// Updating the state property
	this.divElCollapsed.style.visibility='visible';
	this.divElement.style.visibility='hidden';
	this.__updateView();
	this.parentRef.__hideResizeHandle(this.paneModel.getPosition());
	this.parentRef.__positionPanes();	
// Calling the positionPanes method of parent object
	this.__executeCallBack("collapse",this.paneModel.contents[this.activeContentIndex]);
	}
	,
	
// {{{ __expand()
	/**
	*	Expand a pane
	*
	*
	*	@private
	*/	
	__expand:function()
	{
	this.paneModel.__setState('expanded');	
// Updating the state property
	this.divElCollapsed.style.visibility='hidden';
	this.divElement.style.visibility='visible';
	this.__updateView();	
	this.parentRef.__showResizeHandle(this.paneModel.getPosition());
	this.parentRef.__positionPanes();	
// Calling the positionPanes method of parent object
	this.__executeCallBack("expand",this.paneModel.contents[this.activeContentIndex]);
	}
	
// }}}
	,
	
// {{{ __updateHeaderBar()
	/**
	*	This method will automatically update the buttons in the header bare depending on the setings specified for currently displayed content.
	*
	*	@param Integer index-Index of currently displayed content
	*
	*	@private
	*/	
	__updateHeaderBar:function(index)
	{
	if(index===false){	
// No content in this pane
		this.divClose.style.display='none';	
// Hide close button
		this.divRefresh.style.display='none';
		try{
		if(this.paneModel.getPosition()!='center'&&this.paneModel.collapsable)this.divCollapse.style.display='block';else this.divCollapse.style.display='none';	
// Make collapse button visible for all panes except center
		}catch(e){
		}
		this.titleSpan.innerHTML='';	
// Set title bar empty
		return;	
// Return from this method.
	}
	this.divClose.style.display='block';
	this.divRefresh.style.display='block';
	
	if(this.divCollapse)this.divCollapse.style.display='block';	
// Center panes doesn't have collapse button, that's the reason for the if-statement
	this.titleSpan.innerHTML=this.paneModel.contents[index].title;
	var contentObj=this.paneModel.contents[index];
	if(!contentObj.closable)this.divClose.style.display='none';
	if(!contentObj.displayRefreshButton||!contentObj.contentUrl)this.divRefresh.style.display='none';
	if(!this.paneModel.collapsable){	
// Pane is collapsable
		if(this.divCollapse)this.divCollapse.style.display='none';	
// Center panes doesn't have collapse button, that's the reason for the if-statement
	}

	}
	
// }}}
	,
	
// {{{ __showButtons()
	/**
	*	Show the close and resize button-it is done by showing the parent element of these buttons
	*
	*
	*	@private
	*/	
	__showButtons:function()
	{
	var div=this.headerDiv.getElementsByTagName('DIV')[0];
	div.style.visibility='visible';	
	
	}
	
// }}}
	,
	
// {{{ __hideButtons()
	/**
	*	Hides the close and resize button-it is done by hiding the parent element of these buttons
	*
	*
	*	@private
	*/	
	__hideButtons:function()
	{
	var div=this.headerDiv.getElementsByTagName('DIV')[0];
	div.style.visibility='hidden';
	
	}
	
// }}}
	,
	
// {{{ __updateView()
	/**
	* 	Hide or shows header div and tab div based on content
	*
	*
	*	@private
	*/	
	__updateView:function()
	{
	if(this.paneModel.getCountContent()>0&&this.activeContentIndex===false)this.activeContentIndex=0;	
// No content existed, but content has been added.
	this.tabDiv.style.display='block';
	this.headerDiv.style.display='block';	
	
	var pos=this.paneModel.getPosition();
	if(pos=='south'||pos=='north')this.divElCollapsed.style.height=this.parentRef.paneSizeCollapsed;

	if(this.paneModel.getCountContent()<2)this.tabDiv.style.display='none';	
	if(this.activeContentIndex!==false)if(!this.paneModel.contents[this.activeContentIndex].title)this.headerDiv.style.display='none';	
// Active content without title, hide header bar.
	
	if(this.paneModel.state=='expanded')this.__showButtons();else this.__hideButtons();
		
	this.__setSize();
	}
	
// }}}
	,
	
// {{{ __createContentPane()
	/**
	* 	Creates the content pane
	*
	*
	*	@private
	*/	
	__createContentPane:function()
	{
	this.contentDiv=document.createElement('DIV');
	this.contentDiv.className='DHTMLSuite_paneContent';
	this.contentDiv.id='DHTMLSuite_paneContent'+this.paneModel.getPosition();
	if(!this.paneModel.scrollbars)this.contentDiv.style.overflow='hidden';
	this.divElement.appendChild(this.contentDiv);	

	}
	
// }}}
	,
	
// {{{ __createTabBar()
	/**
	* 	Creates the top bar of a pane
	*
	*
	*	@private
	*/	
	__createTabBar:function()
	{
	this.tabDiv=document.createElement('DIV');
	this.tabDiv.className='DHTMLSuite_paneTabs';
	this.divElement.appendChild(this.tabDiv);
	this.__updateTabContent();
	}
	
// }}}
	,
	
// {{{ __updateTabContent()
	/**
	* 	Reset and repaint the tabs of this pane
	*
	*
	*	@private
	*/		
	__updateTabContent:function()
	{
	this.tabDiv.innerHTML='';	
	var tableObj=document.createElement('TABLE');
	
	tableObj.style.padding='0px';
	tableObj.style.margin='0px';
	tableObj.cellPadding=0;
	tableObj.cellSpacing=0;
	this.tabDiv.appendChild(tableObj);
	var tbody=document.createElement('TBODY');
	tableObj.appendChild(tbody);
	
	var row=tbody.insertRow(0);
	
	var contents=this.paneModel.getContents();
	var ind=this.objectIndex;
	for(var no=0;no<contents.length;no++){
		var cell=row.insertCell(-1);		
		var divTag=document.createElement('DIV');
		divTag.className='paneSplitterInactiveTab';		
		cell.appendChild(divTag);		
		var aTag=document.createElement('A');
		aTag.title=contents[no].tabTitle;	
// Setting title of tab-useful when the tab isn't wide enough to show the label.
		contents[no].tabTitle=contents[no].tabTitle+'';
		aTag.innerHTML=contents[no].tabTitle.replace(' ','&nbsp;')+'';
		aTag.id='paneTabLink'+no;
		aTag.href='#';
		aTag.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__tabClick(e); } ;
		divTag.appendChild(aTag);
		DHTMLSuite.commonObj.__addEventEl(aTag);		
		divTag.appendChild(document.createElement('SPAN'));	
	}	
	this.__updateTabView(0);
	}	
	
// }}}
	,	
	
// {{{ __updateTabView()
	/**
	* 	 Updates the tab view. Sets inactive and active tabs.
	*
	*	@param Integer activeTab-Index of active tab.
	*
	*	@private
	*/	
	__updateTabView:function(activeTab)
	{
	var tabDivs=this.tabDiv.getElementsByTagName('DIV');
	for(var no=0;no<tabDivs.length;no++){
		if(no==activeTab){
		tabDivs[no].className='paneSplitterActiveTab';
		}else tabDivs[no].className='paneSplitterInactiveTab';		
	}	
	}
	
// }}}
	,	
	
// {{{ __tabClick()
	/**
	* 	 Click on a tab
	*
	*	@param Event e-Reference to the object triggering the event. Content index is the numeric part of this elements id.
	*
	*	@private
	*/	
	__tabClick:function(e)
	{
	
// contentScrollTopPositions
	if(document.all)e=event;
	
	var inputObj=DHTMLSuite.commonObj.getSrcElement(e);
	if(inputObj.tagName!='A')inputObj=inputObj.parentNode;
	
	var numIdClickedTab=inputObj.id.replace(/[^0-9]/gi,'');
	if(numIdClickedTab!=this.activeContentIndex)this.__updatePaneContentScrollTopPosition(this.activeContentIndex,numIdClickedTab);	
	this.__updatePaneView(numIdClickedTab);
	this.__executeCallBack("tabSwitch",this.paneModel.contents[this.activeContentIndex]);
	return false;
	}
	
// }}}
	,
	
// {{{ __updatePaneContentScrollTopPosition()
	/**
	* 	Changes the scrollTop position of the pane. This is useful when you move from tab to tab. This object remembers the scrollTop position of all it's tab and changes the
	*	scrollTop attribute 
	*
	*	@param String idOfContentToHide of content element to hide 
	*	@param String idOfContentToShow of content element to show 
	*
	*	@private
	*/	
	__updatePaneContentScrollTopPosition:function(idOfContentToHide,idOfContentToShow)
	{
	var newScrollTop=0;
	if(this.contentScrollTopPositions[idOfContentToShow])newScrollTop=this.contentScrollTopPositions[idOfContentToShow];
	var contentParentContainer=document.getElementById(this.paneModel.contents[idOfContentToHide].htmlElementId).parentNode;
	this.contentScrollTopPositions[idOfContentToHide]=contentParentContainer.scrollTop;
	setTimeout('document.getElementById("'+contentParentContainer.id+'").scrollTop='+newScrollTop,20);	
// A small delay so that content can be inserted into the div first.
	}
	
// }}}	
	,
	
// {{{ __addContentDivs()
	/**
	* 	Add content div to a pane.
	*
	*	@param String onCompleteJsCode-Js code to execute when content has been succesfully loaded into the pane
	*
	*	@private
	*/	
	__addContentDivs:function(onCompleteJsCode)
	{
	var contents=this.paneModel.getContents();
	for(var no=0;no<contents.length;no++){
		this.__addOneContentDiv(this.paneModel.contents[no],onCompleteJsCode);
	}		
	this.__updatePaneView(this.activeContentIndex);	
// Display initial data
	}
	,
	
// {{{ __addSingleContentToPane()
	/**
	* 	
	*
	*	@param Object contentObj PaneSplitterContentModel object.
	*
	*	@private
	*/	
	__addOneContentDiv:function(contentObj,onCompleteJsCode)
	{
	var htmlElementId=contentObj.htmlElementId;	
// Get a reference to content id
	var contentUrl=contentObj.contentUrl;	
// Get a reference to content id
	var refreshAfterSeconds=contentObj.refreshAfterSeconds;	
// Get a reference to content id
	if(htmlElementId){
		try{
		this.contentDiv.appendChild(document.getElementById(htmlElementId));
		document.getElementById(htmlElementId).className='DHTMLSuite_paneContentInner';
		document.getElementById(htmlElementId).style.display='none';	
		}catch(e){
		}	
	}
	if(contentUrl){	/* Url present */
		if(!contentObj.htmlElementId||htmlElementId.indexOf('dynamicCreatedDiv__')==-1){	
// Has this content been loaded before?Might have to figure out a smarter way of checking this.
		if(!document.getElementById(htmlElementId)){		
			this.__createAContentDivDynamically(contentObj);
			this.loadContent(contentObj.id,contentUrl,refreshAfterSeconds,false,onCompleteJsCode);
		}
		}
	}	
	}
	
// }}}
	,
	
// {{{ __createAContentDivDynamically()
	/**
	* 	Create the div for a tab dynamically (in case no content exists, i.e. content loaded from external file)
	*
	*	@param Object contentObj PaneSplitterContentModel object.
	*
	*	@private
	*/	
	__createAContentDivDynamically:function(contentObj)
	{
	var d=new Date();	
// Create unique id for a new div
	var divId='dynamicCreatedDiv__'+d.getSeconds()+(Math.random()+'').replace('.','');
	if(!document.getElementById(contentObj.id))divId=contentObj.id;	
// Give it the id of the element it's self if it doesn't alredy exists on the page.
	contentObj.__setIdOfContentElement(divId);
	var div=document.createElement('DIV');
	div.id=divId;
	div.className='DHTMLSuite_paneContentInner';
	if(contentObj.contentUrl)div.innerHTML=this.parentRef.waitMessage;	
// Content url present-Display wait message until content has been loaded.
	this.contentDiv.appendChild(div);
	div.style.display='none';		
	}
	
// }}}
	,
	
// {{{ __showHideContentDiv()
	/**
	* 	Updates the pane view. New content has been selected. call methods for update of header bars, content divs and tabs.
	*
	*	@param Integer index Index of active content ( false=no content exists)
	*
	*	@private
	*/		
	__updatePaneView:function(index)
	{
	if(!index&&index!==0)index=this.activeContentIndex;
	this.__updateTabContent();
	this.__updateView();
	this.__updateHeaderBar(index);
	this.__showHideContentDiv(index);

	this.__updateTabView(index);
	this.activeContentIndex=index;
	}
	
// }}}
	,
	
// {{{ __showHideContentDiv()
	/**
	*	Switch between content divs(the inner div inside a pane )
	*
	*	@param Integer index Index of content to show(if false, then do nothing --- because there aren't any content in this pane)
	*
	*	@private
	*/	
	__showHideContentDiv:function(index)
	{
	if(index!==false){	
// Still content in this pane		
		var htmlElementId=this.paneModel.contents[this.activeContentIndex].htmlElementId;	
		try{
		document.getElementById(htmlElementId).style.display='none';	
		}catch(e){
		
		}		
		var htmlElementId=this.paneModel.contents[index].htmlElementId;
		if(htmlElementId){
		try{
			document.getElementById(htmlElementId).style.display='block';	
		}catch(e){
		}
		}
	}	
	}
	
// }}}	
	,
	
// {{{ __setSize()
	/**
	*	Set some size attributes for the panes
	*
	*	@param Boolean recursive
	*
	*	@private
	*/		
	__setSize:function(recursive)
	{
	var pos=this.paneModel.getPosition().toLowerCase();
	if(pos=='west'||pos=='east'){
		this.divElement.style.width=this.paneModel.size+'px';	
	}
	if(pos=='north'||pos=='south'){
		this.divElement.style.height=this.paneModel.size+'px';	
		this.divElement.style.width='100%';
	}
	
	try{
		this.contentDiv.style.height=(this.divElement.clientHeight-this.tabDiv.offsetHeight-this.headerDiv.offsetHeight)+'px';
	}catch(e){
	}
	
	if(!recursive){
		window.obj=this;
		setTimeout('window.obj.__setSize(true)',100);
	}
	
	}	
	
// }}}
	,
	
// {{{ __setTopPosition()
	/**
	*	Set new top position for the pane
	*
	*	@param Integer newTop
	*
	*	@private
	*/	
	__setTopPosition:function(newTop)
	{
	this.divElement.style.top=newTop+'px';
	}
	
// }}}
	,
	
// {{{ __setLeftPosition()
	/**
	*	Set new left position for the pane
	*
	*	@param Integer newLeft
	*
	*	@private
	*/	
	__setLeftPosition:function(newLeft)
	{
	this.divElement.style.left=newLeft+'px';
	}
	
// }}}
	,
	
// {{{ __setWidth()
	/**
	*	Set width for the pane
	*
	*	@param Integer newWidth
	*
	*	@private
	*/	
	__setWidth:function(newWidth)
	{
	if(this.paneModel.getPosition()=='west'||this.paneModel.getPosition()=='east')this.paneModel.setSize(newWidth);
	newWidth=newWidth+'';
	if(newWidth.indexOf('%')==-1)newWidth=Math.max(1,newWidth)+'px';
	this.divElement.style.width=newWidth;	
	}
	
// }}}
	,
	
// {{{ __setHeight()
	/**
	*	Set height for the pane
	*
	*	@param Integer newHeight
	*
	*	@private
	*/	
	__setHeight:function(newHeight)
	{
	if(this.paneModel.getPosition()=='north'||this.paneModel.getPosition()=='south')this.paneModel.setSize(newHeight);
	this.divElement.style.height=Math.max(1,newHeight)+'px';	
	this.__setSize();	
// Set size of inner elements.	
	}
	,
	
// {{{ __showTransparentDivForResize()
    /**
     *	Show transparent div used to cover iframes during resize 
     *
     *
    *@private	
     */		
	__showTransparentDivForResize:function()
	{
	this.divTransparentForResize.style.display='block';
	var ref=this.divTransparentForResize;
	ref.style.height=this.contentDiv.clientHeight+'px';
	ref.style.width=this.contentDiv.clientWidth+'px';	
	
	}
	
// }}}
	,
	
// {{{ __hideTransparentDivForResize()
    /**
     *	Hide transparent div used to cover iframes during resize  
     *
     *
    *@private	
     */	
	__hideTransparentDivForResize:function()
	{
	this.divTransparentForResize.style.display='none';
	}
	
// }}}	
}


/************************************************************************************************************
*	DHTML pane splitter
*
*	Created:			November, 28th, 2006
*	@class Purpose of class:	Creates a pane splitter
*		
*	Css files used by this script:	pane-splitter.css
*
*	Demos of this class:		demo-pane-splitter.html
*
* 	Update log:
*
************************************************************************************************************/


/**
* @constructor
* @class Purpose of class:	Creates a pane splitter. (<a href="../../demos/demo-pane-splitter.html" target="_blank">Demo</a>)
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

DHTMLSuite.paneSplitter=function(){
	var dataModel;		
// An object of class DHTMLSuite.paneSplitterModel
	var panes;			
// An array of DHTMLSuite.paneSplitterPane objects.
	var panesAssociative;	
// An associative array of panes. used to get a quick access to the panes
	var paneContent;		
// An array of DHTMLSuite.paneSplitterPaneView objects.
	var layoutCSS;		
// Name/Path of css file
	
	var horizontalSplitterSize;	
// Height of horizontal splitter
	var horizontalSplitterBorderSize;	
// Height of horizontal splitter
	
	var verticalSplitterSize;	
// 

	var paneSplitterHandles;		
// Associative array of pane splitter handles
	var paneSplitterHandleOnResize;
	
	var resizeInProgress;			
// Variable indicating if resize is in progress
	
	var resizeCounter;			
// Internal variable used while resizing (-1=no resize, 0=waiting for resize)
	var currentResize;			
// Which pane is currently being resized ( string, "west", "east", "north" or "south"
	var currentResize_min;
	var currentResize_max;
	
	var paneSizeCollapsed;			
// Size of pane when it's collapsed ( the bar )
	var paneBorderLeftPlusRight;		
// Sum of border left and right for panes ( needed in a calculation)
	
	var slideSpeed;				
// Slide of pane slide	
	var waitMessage;			
// Ajax wait message
	var collapseExpandButtons;		
// Reference to collapse and expand buttons
	var paneZIndexCounter;
	
	this.collapseExpandButtons=new Object();
	this.resizeCounter=-1;
	this.horizontalSplitterSize=6;
	this.verticalSplitterSize=6;
	this.paneBorderLeftPlusRight=2;	
// 1 pixel border at the right of panes, 1 pixel to the left
	this.slideSpeed=10;
	
	this.horizontalSplitterBorderSize=1;
	this.resizeInProgress=false;
	this.paneSplitterHandleOnResize=false;
	this.paneSizeCollapsed=18;
	
	this.paneSplitterHandles=new Object();
	
	this.dataModel=false;	
// Initial value
	this.layoutCSS='pane-splitter.css';
	this.waitMessage='Loading content-please wait';
	this.panes=new Array();
	this.panesAssociative=new Object();
	
	this.paneZIndexCounter=1;
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	var objectIndex;		
// Index of this object in the variableStorage array
	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
}

DHTMLSuite.paneSplitter.prototype=
{
	
// {{{ addModel()
	/**
	*	Add datasource for the pane splitter
	*
	*	@param Object newModel-Data source, object of class DHTMLSuite.paneSplitterModel
	*
	*	@public
	*/	
	addModel:function(newModel)
	{
	this.dataModel=newModel;	
	}
	
// }}}
	,
	
// {{{ setLayoutCss()
	/**
	*	Specify name/path to a css file(default is 'pane-splitter.css')
	*
	*	@param String layoutCSS=Name(or relative path)of new css path
	*	@public
	*/	
	setLayoutCss:function(layoutCSS)
	{
	this.layoutCSS=layoutCSS;
	}
	
// }}}
	,
	
// {{{ setAjaxWaitMessage()
	/**
	*	Specify ajax wait message-message displayed in the pane when content is being loaded from the server.
	*
	*	@param String newWaitMessage=Wait message-plain text or HTML.
	*
	*	@public
	*/		
	setAjaxWaitMessage:function(newWaitMessage)
	{
	this.waitMessage=newWaitMessage;	
	
	}	
	
// }}}
	,
	
// {{{ setSizeOfPane()
	/**
	*	Set new size of pane
	*
	*	@param String panePosition=Position of pane(east,west,south or north)
	*	@param Integer newSize=New size of pane in pixels.
	*
	*	@public
	*/	
	setSizeOfPane:function(panePosition,newSize)
	{
	if(!this.panesAssociative[panePosition.toLowerCase()])return;
	if(panePosition=='east'||panePosition=='west'){
		this.panesAssociative[panePosition.toLowerCase()].__setWidth(newSize);
	}
	if(panePosition=='north'||panePosition=='south'){
		this.panesAssociative[panePosition.toLowerCase()].__setHeight(newSize);
	}
	this.__positionPanes();
	
	}
	
// }}}
	,
	
// {{{ setSlideSpeed()
	/**
	*	Set speed of slide animation.
	*
	*	@param Integer slideSpeed=new slide speed ( higher=faster )- default=10
	*
	*	@public
	*/	
	setSlideSpeed:function(slideSpeed)
	{
	this.slideSpeed=slideSpeed;
	}
	,
	
// {{{ init()
	/**
	*	Initializes the script
	*
	*
	*	@public
	*/	
	init:function()
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);	
// Load css.		
	if(this.dataModel.collapseButtonsInTitleBars)this.paneSizeCollapsed=25;	
	this.__createPanes();	
// Create the panes	
	this.__positionPanes();	
// Position panes
	this.__createResizeHandles();
	this.__addEvents();
	this.__initCollapsePanes();	
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+this.objectIndex+"].__positionPanes();",100);
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+this.objectIndex+"].__positionPanes();",500);
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+this.objectIndex+"].__positionPanes();",1500);
	}
	
// }}}
	,

	
// {{{ isUrlLoadedInPane()
    /**
     *	This method returns true if content with a specific url exists inside a specific content container.
     *
     *	@param String id 	- id of content object
     *	@param String url	- Url of file (Url to check on)
     *
    *@public	
     */	
    	
	isUrlLoadedInPane:function(id,url)
	{	
	var ref=this.__getPaneReferenceFromContentId(id);	
// Get a reference to the pane where the content is.
	if(ref){	
// Pane found
		return ref.isUrlLoadedInPane(id,url);
	}else return false;
	}
	
// }}}
	,
	
// {{{ loadContent()
    /**
     *	This method loads content from server and inserts it into the pane with the given id 
     *	If you want the content to be displayed directly, remember to call the showContent method too.
     *
     *	@param String id-id of content object where the element should be inserted
     *	@param String url	- Url of file (the content of this file will be inserted into the define pane)
	 *	@param Integer refreshAfterSeconds	- Reload url after number of seconds. 0=no refresh ( also default)
     *	@param String onCompleteJsCode-Js code to evaluate when content has been successfully loaded(Callback)- example: "myFunction()". This string will be avaluated.
     *
    *@public	
     */	
    	
	loadContent:function(id,url,refreshAfterSeconds,onCompleteJsCode)
	{	
	var ref=this.__getPaneReferenceFromContentId(id);	
// Get a reference to the pane where the content is.
	if(ref){	
// Pane found
		ref.loadContent(id,url,refreshAfterSeconds,false,onCompleteJsCode);	
// Call the loadContent method of this object. 
	}
	}
	
// }}}
	,
	
// {{{ reloadContent()
    /**
     *	Reloads ajax content
     *
     *	@param String id-id of content object to reload.
     *
    *@public	
     */	
	reloadContent:function(id)
	{
	var ref=this.__getPaneReferenceFromContentId(id);	
// Get a reference to the pane where the content is.
	if(ref){	
// Pane found
		ref.reloadContent(id);	
// Call the loadContent method of this object. 
	}	
	}
	
// }}}
	,
	
// {{{ setRefreshAfterSeconds()
    /**
     *	Specify a new value for when content should be reloaded. 
     *
     *	@param String idOfContentObject-id of content to add the value to
     *	@param Integer refreshAfterSeconds-Refresh rate of content (0=no refresh)
     *
    *@public	
     */	
	setRefreshAfterSeconds:function(idOfContentObject,refreshAfterSeconds)
	{
	var ref=this.__getPaneReferenceFromContentId(idOfContentObject);	
// Get a reference to the pane where the content is.
	if(ref){	
// Pane found
		ref.setRefreshAfterSeconds(idOfContentObject,refreshAfterSeconds);	
// Call the loadContent method of this object. 
	}	
	
	}	
	
// }}}
	,
	
// {{{ setContentTabTitle()
    /**
     *	New title of tab-i.e. the text inside the clickable tab.
     *
     *	@param String idOfContentObject-id of content object
     *	@param String newTitle-New title of tab	
     *
    *@public	
     */	
	setContentTabTitle:function(idOfContentObject,newTitle)
	{
	var ref=this.__getPaneReferenceFromContentId(idOfContentObject);	
// Get a reference to the pane where the content is.
	if(ref)ref.setContentTabTitle(idOfContentObject,newTitle);
	
	}
	
// }}}
	,
	
// {{{ setContentTitle()
    /**
     *	New title of content-i.e. the heading
     *
     *	@param String idOfContentObject-id of content object
     *	@param String newTitle-New title of tab	
     *
    *@public	
     */	
	setContentTitle:function(idOfContentObject,newTitle)
	{
	var ref=this.__getPaneReferenceFromContentId(idOfContentObject);	
// Get a reference to the pane where the content is.
	if(ref)ref.setContentTitle(idOfContentObject,newTitle);
	
	}
	
// }}}
	,
	
// {{{ showContent()
    /**
     *	Makes content with a specific id visible 
     *
     *	@param String id-id of content to make visible(remember to have unique id's on each of your content objects)
     *
    *@public	
     */	
	showContent:function(id)
	{
	var ref=this.__getPaneReferenceFromContentId(id);
	if(ref)ref.showContent(id);
	}	
	
// }}}
	,
	
// {{{ closeAllClosableTabs()
	/**
	*	Close all closable tabs, i.e. tabs where the closable attribute is set to true.
	*
	*	@param String panePosition
	*
	*	@public
	*/	
	closeAllClosableTabs:function(panePosition)
	{
	if(this.panesAssociative[panePosition.toLowerCase()])return this.panesAssociative[panePosition.toLowerCase()].__closeAllClosableTabs(); else return false;	
	}
	
// }}}
	,
	
// {{{ addContent()
	/**
	*	Add content to a pane
	*
	*	@param String panePosition-Position of pane(west,north,center,east or south)
	*	@param Object contentModel-Object of type DHTMLSuite.paneSplitterContentModel
	*	@param String onCompleteJsCode-Js code to execute when content is successfully loaded.
	*	@return Boolean Success-true if content were added successfully, false otherwise-false means that the pane don't exists or that content with this id allready has been added.
	*	@public
	*/	
	addContent:function(panePosition,contentModel,onCompleteJsCode)
	{
	if(this.panesAssociative[panePosition.toLowerCase()])return this.panesAssociative[panePosition.toLowerCase()].addContent(contentModel,onCompleteJsCode); else return false;
	
	}	
	
// }}}
	,
	
// {{{ getState()
	/**
	*	Get state of pane
	*
	*	@param String panePosition-Position of pane(west,north,center,east or south)
	*	@return String state of pane-"collapsed" or "expanded".
	*	@public
	*/	
	getState:function(panePosition)
	{
	if(this.panesAssociative[panePosition.toLowerCase()])return this.panesAssociative[panePosition.toLowerCase()].paneModel.__getState();
	
	}	
	
// }}}
	,
	
// {{{ deleteContentById()
	/**
	*	Delete content from a pane by index
	*
	*	@param String id-Id of content to delete.
	*
	*	@public
	*/	
	deleteContentById:function(id)
	{
	var ref=this.__getPaneReferenceFromContentId(id);
	if(ref)ref.__deleteContentById(id);
	}
	
// }}}
	,
	
// {{{ deleteContentByIndex()
	/**
	*	Delete content from a pane by index
	*
	*	@param String panePosition-Position of pane(west,north,center,east or south)
	*	@param Integer	contentIndex
	*
	*	@public
	*/	
	deleteContentByIndex: function(panePosition,contentIndex)
	{
	if(this.panesAssociative[panePosition]){
//Pane exists
		this.panesAssociative[panePosition].__deleteContentByIndex(contentIndex);	
	}	
	}	
	
// }}}
	,
	
// {{{ hidePane()
	/**
	*	Hide a pane
	*
	*	@param String panePosition-Position of pane(west,north,center,east or south)
	*
	*	@public
	*/	
	hidePane:function(panePosition)
	{
	if(this.panesAssociative[panePosition]&&panePosition!='center'){
		this.panesAssociative[panePosition].hidePane();		 
// Call method in paneSplitterPane class
		if(this.paneSplitterHandles[panePosition])this.paneSplitterHandles[panePosition].style.display='none'; 
// Hide resize handle
		this.__positionPanes();					 
// Reposition panes 	
	}else return false;
	
	}	
	,
	
// {{{ showPane()
	/**
	*	Show a previously hidden pane
	*
	*	@param String panePosition-Position of pane(west,north,center,east or south)
	*
	*	@public
	*/	
	showPane:function(panePosition)
	{
	if(this.panesAssociative[panePosition]&&panePosition!='center'){
		this.panesAssociative[panePosition].showPane();			
// Call method in paneSplitterPane class
		if(this.paneSplitterHandles[panePosition])this.paneSplitterHandles[panePosition].style.display='block';	
// Show resize handle
		this.__positionPanes();						
// Reposition panes
	}else return false;		
	}	
	
// }}}
	,
	
// {{{ getReferenceToMainDivElOfPane()
	/**
	*	Get reference to main div element of a pane. This can for example be useful if you're using the imageSelection class and want
	*	To restrict the area for a selection. Maybe you only want your users to start selection within the center pane, not the other panes.
	*
	*	@param String panePosition-Position of pane(west,north,center,east or south)
	*
	*	@public
	*/	
	getReferenceToMainDivElOfPane:function(panePosition)
	{
	if(this.panesAssociative[panePosition])return this.panesAssociative[panePosition].__getReferenceTomainDivEl();
	return false;	
	}
	
// }}}
	,
	
// {{{ getIdOfCurrentlyDisplayedContent()
	/**
	* 	Returns id of the content currently being displayed-active tab.
	*
	*	@param String position-which pane. ("west","east","center","north","south")
	*	@return String id of currently displayed content (active tab).
	*
	*	@public
	*/	
	getIdOfCurrentlyDisplayedContent:function(panePosition)
	{
	if(this.panesAssociative[panePosition])return this.panesAssociative[panePosition].getIdOfCurrentlyDisplayedContent();
	return false;	
	}
	
// }}}
	,
	
// {{{ getHtmlElIdOfCurrentlyDisplayedContent()
	/**
	* 	Returns html element id of the content currently being displayed-active tab.
	*
	*	@param String position-which pane. ("west","east","center","north","south")
	*	@return String id of currently displayed content(the HTML element)(active tab).
	*
	*	@public
	*/	
	getHtmlElIdOfCurrentlyDisplayedContent:function(panePosition)
	{
	if(this.panesAssociative[panePosition])return this.panesAssociative[panePosition].getHtmlElIdOfCurrentlyDisplayedContent();
	return false;	
	}
	
// }}}
	,
	
// {{{ getSizeOfPaneInPixels()
	/**
	* 	Returns id of the content currently being displayed-active tab.
	*
	*	@param String position-which pane. ("west","east","center","north","south")
	*	@return Array-Assocative array representing width and height of the pane(keys in array: "width" and "height").
	*
	*	@public
	*/	
	getSizeOfPaneInPixels:function(panePosition)
	{
	if(this.panesAssociative[panePosition])return this.panesAssociative[panePosition].__getSizeOfPaneInPixels();
	return false;		
	
	}
	
// }}}
	,
	
// {{{ expandPane()
    /**
     *	Use this method when you manually want to expand a pane
     *
     *	@param String panePosition-Position of pane, west,east,north,south
     *
    *@public	
     */	
	expandPane:function(panePosition)
	{	
	if(panePosition=='center')return;	
	if(this.panesAssociative[panePosition])this.panesAssociative[panePosition].__expand();
	if(!this.dataModel.collapseButtonsInTitleBars)this.__toggleCollapseExpandButton(panePosition,'expand');
	}
	
// }}}
	,
	
// {{{ collapsePane()
    /**
     *	Use this method when you manually want to collapse a pane
     *
     *	@param String panePosition-Position of pane, west,east,north,south
     *
    *@public	
     */	
	collapsePane:function(panePosition)
	{
	if(panePosition=='center')return;	
	if(this.panesAssociative[panePosition])this.panesAssociative[panePosition].__collapse();
	if(!this.dataModel.collapseButtonsInTitleBars)this.__toggleCollapseExpandButton(panePosition,'collapse');
	}
	
// }}}
	,
	
// {{{ __setPaneSizeCollapsed()
	/**
	*	Automatically set size of collapsed pane ( called by a pane-the size is the offsetWidth or offsetHeight of the pane in collapsed state)
	*
	*
	*	@private
	*/	
	__setPaneSizeCollapsed:function(newSize)
	{	
	return;
	if(newSize>this.paneSizeCollapsed){
		this.paneSizeCollapsed=newSize;
	}
	}
	
// }}}
	
// }}}
	,
	
// {{{ __createPanes()
	/**
	*	Creates the panes
	*
	*
	*	@private
	*/		
	__createPanes:function()
	{
	var dataObjects=this.dataModel.getItems();	
// An array of data source objects, i.e. panes.
	for(var no=0;no<dataObjects.length;no++){
		var index=this.panes.length;
		this.panes[index]=new DHTMLSuite.paneSplitterPane(this);
		this.panes[index].addDataSource(dataObjects[no]);
		this.panes[index].__createPane();	
		this.panesAssociative[dataObjects[no].position.toLowerCase()]=this.panes[index];	
// Save this pane in the associative array		
	}	
	}	
	
// }}}
	,
	
// {{{ __collapseAPane()
    /**
     *	Collapse a pane from button
     *
     *	@param Event e-Reference to event object, used to get a reference to the clicked butotn.
     *	@param String panePosition-Position of pane, west,east,north,south
     *
    *@private	
     */	
	__collapseAPane:function(e,panePosition)
	{
	var ind=this.objectIndex;
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	src.className=src.className.replace(' DHTMLSuite_collapseExpandOver','');
	this.__toggleCollapseExpandButton(panePosition,'collapse');
	if(this.panesAssociative[panePosition])this.panesAssociative[panePosition].__collapse();
	src.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__expandAPane(e,panePosition); } ;	

	}
	
// }}}
	,
	
// {{{ __toggleCollapseExpandButton()
    /**
     *	Toggle collapse/expand buttons
     *
     *	@param String panePosition-Position of pane, west,east,north,south
     *	@param String state	- expand or collapse
     *
    *@private	
     */	
	__toggleCollapseExpandButton:function(panePosition,state)
	{
	var src=this.collapseExpandButtons[panePosition];
	var ind=this.objectIndex;
	if(state=='expand'){
		
		switch(panePosition){
		case "east":
			src.className=src.className.replace('Left','Right');
			src.parentNode.className=src.parentNode.className.replace(' DHTMLSuite_paneSplitter_vertical_noresize','');
			break;
		case "west":
			src.className=src.className.replace('Right','Left');
			src.parentNode.className=src.parentNode.className.replace(' DHTMLSuite_paneSplitter_vertical_noresize','');
			break;
		case "south":
			src.className=src.className.replace('Up','Down');
			src.parentNode.className=src.parentNode.className.replace(' DHTMLSuite_paneSplitter_horizontal_noresize','');
			break;
		case "north":
			src.className=src.className.replace('Down','Up');
			src.parentNode.className=src.parentNode.className.replace(' DHTMLSuite_paneSplitter_horizontal_noresize','');
			break;
		}		
		src.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,panePosition); } ;	
	}	
	if(state=='collapse'){
		
		switch(panePosition){
		case "west":
			src.className=src.className.replace('Left','Right');
			src.parentNode.className=src.parentNode.className+' DHTMLSuite_paneSplitter_vertical_noresize';
			break;
		case "east":
			src.className=src.className.replace('Right','Left');
			src.parentNode.className=src.parentNode.className+' DHTMLSuite_paneSplitter_vertical_noresize';
			break;
		case "north":
			src.className=src.className.replace('Up','Down');
			src.parentNode.className=src.parentNode.className+' DHTMLSuite_paneSplitter_horizontal_noresize';
			break;
		case "south":
			src.className=src.className.replace('Down','Up');
			src.parentNode.className=src.parentNode.className+' DHTMLSuite_paneSplitter_horizontal_noresize';
			break;
		}		
		src.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__expandAPane(e,panePosition); } ;	
		
	}
	
	
	}
	
// }}}
	,
	
// {{{ __expandAPane()
    /**
     *	Expand a pane by clicking on a button
     *
     *	@param Event e-Event object-used to find reference to clicked button
     *	@param String panePosition-Position of pane, west,east,north,south
     *
    *@private	
     */	
	__expandAPane:function(e,panePosition)
	{
	var ind=this.objectIndex;
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	src.className=src.className.replace(' DHTMLSuite_collapseExpandOver','');
	this.__toggleCollapseExpandButton(panePosition,'expand');
	if(this.panesAssociative[panePosition])this.panesAssociative[panePosition].__expand();
	src.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,panePosition); } ;	
		
	}	
	
// }}}
	,
	
// {{{ __createResizeHandles()
    /**
     *	Positions the resize handles correctly
     *
     *
    *@private	
     */		
	__createResizeHandles:function()
	{
	var ind=this.objectIndex;
	
// Create splitter for the north pane
	if(this.panesAssociative['north']&&(this.panesAssociative['north'].paneModel.resizable||(this.panesAssociative['north'].paneModel.collapsable&&!this.dataModel.collapseButtonsInTitleBars))){
		this.paneSplitterHandles['north']=document.createElement('DIV');
		var obj=this.paneSplitterHandles['north'];
		obj.className='DHTMLSuite_paneSplitter_horizontal';
		obj.innerHTML='<span></span>';
		obj.style.position='absolute';
		obj.style.height=this.horizontalSplitterSize+'px';
		obj.style.width='100%';
		obj.style.zIndex=10000;
		obj.setAttribute('resizeHandle','1');
		DHTMLSuite.commonObj.addEvent(obj,'mousedown',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,'north'); });	
		document.body.appendChild(obj);	
		
		if(!this.dataModel.collapseButtonsInTitleBars){
		
		var subElement=document.createElement('DIV');
		subElement.className='DHTMLSuite_resizeButtonUp';
		subElement.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,'north'); } ;
		subElement.onmouseover=this.__mouseoverCollapseButton;
		subElement.onmouseout=this.__mouseoutCollapseButton;
		subElement.innerHTML='<span></span>';	
		DHTMLSuite.commonObj.__addEventEl(subElement);		
		obj.appendChild(subElement);
		this.collapseExpandButtons['north']=subElement;
		
		if(this.panesAssociative['north'].paneModel.state=='collapsed')this.__toggleCollapseExpandButton('north','collapse');
		
		if(!this.panesAssociative['north'].paneModel.collapsable){
			subElement.style.display='none';
			obj.className=obj.className+' DHTMLSuite_paneSplitter_horizontal_expInTitle';
		}
		}else{
		obj.className=obj.className+' DHTMLSuite_paneSplitter_horizontal_expInTitle';
		}
		if(!this.panesAssociative['north'].paneModel.resizable)obj.className=obj.className+' DHTMLSuite_paneSplitter_horizontal_noresize';	
	}
	
// Create splitter for the west pane
	if(this.panesAssociative['west']){
		this.paneSplitterHandles['west']=document.createElement('DIV');
		var obj=this.paneSplitterHandles['west'];
		obj.innerHTML='<span></span>';
		obj.className='DHTMLSuite_paneSplitter_vertical';
		obj.style.position='absolute';
		obj.style.width=this.verticalSplitterSize+'px';
		obj.style.zIndex=11000;
		obj.setAttribute('resizeHandle','1');
		DHTMLSuite.commonObj.addEvent(obj,'mousedown',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,'west'); });	
		document.body.appendChild(obj);		
		
		if(!this.dataModel.collapseButtonsInTitleBars){
		var subElement=document.createElement('DIV');
		subElement.className='DHTMLSuite_resizeButtonLeft';		
		subElement.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,'west'); } ;
		DHTMLSuite.commonObj.__addEventEl(subElement);	
		subElement.onmouseover=this.__mouseoverCollapseButton;
		subElement.onmouseout=this.__mouseoutCollapseButton;	
		subElement.innerHTML='<span></span>';		
		obj.appendChild(subElement);
		this.collapseExpandButtons['west']=subElement;
		if(this.panesAssociative['west'].paneModel.state=='collapsed')this.__toggleCollapseExpandButton('west','collapse');
		if(!this.panesAssociative['west'].paneModel.collapsable){
			subElement.style.display='none';
			obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_expInTitle';		
		}
		}else{
		obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_expInTitle';
		}
		
		if(!this.panesAssociative['west'].paneModel.resizable){
		obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_noresize';
		}
	}
	
	
// Create splitter for the east pane
	if(this.panesAssociative['east']){
		this.paneSplitterHandles['east']=document.createElement('DIV');
		var obj=this.paneSplitterHandles['east'];
		obj.innerHTML='<span></span>';
		obj.className='DHTMLSuite_paneSplitter_vertical';
		obj.style.position='absolute';
		obj.style.width=this.verticalSplitterSize+'px';
		obj.style.zIndex=11000;	
		obj.setAttribute('resizeHandle','1');
		DHTMLSuite.commonObj.addEvent(obj,'mousedown',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,'east'); });		
		document.body.appendChild(obj);	
		
		if(!this.dataModel.collapseButtonsInTitleBars){
		var subElement=document.createElement('DIV');
		subElement.className='DHTMLSuite_resizeButtonRight';
		subElement.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,'east'); } ;
		subElement.onmouseover=this.__mouseoverCollapseButton;
		subElement.onmouseout=this.__mouseoutCollapseButton;
		subElement.innerHTML='<span></span>';	
		DHTMLSuite.commonObj.__addEventEl(subElement);		
		obj.appendChild(subElement);
		this.collapseExpandButtons['east']=subElement;
		if(this.panesAssociative['east'].paneModel.state=='collapsed')this.__toggleCollapseExpandButton('east','collapse');
		if(!this.panesAssociative['east'].paneModel.collapsable){
			subElement.style.display='none';
			obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_expInTitle';
		}
		}else{
		obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_expInTitle';
		}
		if(!this.panesAssociative['east'].paneModel.resizable)obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_noresize';			
	}
	
	
	
// Create splitter for the south pane
	if(this.panesAssociative['south']&&(this.panesAssociative['south'].paneModel.resizable||(this.panesAssociative['south'].paneModel.collapsable&&!this.dataModel.collapseButtonsInTitleBars))){
		this.paneSplitterHandles['south']=document.createElement('DIV');
		var obj=this.paneSplitterHandles['south'];
		obj.innerHTML='<span></span>';
		obj.className='DHTMLSuite_paneSplitter_horizontal';
		obj.style.position='absolute';
		obj.style.height=this.horizontalSplitterSize+'px';
		obj.style.width='100%';
		obj.setAttribute('resizeHandle','1');
		obj.style.zIndex=10000;
		DHTMLSuite.commonObj.addEvent(obj,'mousedown',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,'south'); });	
		document.body.appendChild(obj);	
		
		if(!this.dataModel.collapseButtonsInTitleBars){
		var subElement=document.createElement('DIV');
		subElement.style.position='absolute';
		subElement.className='DHTMLSuite_resizeButtonDown';
		subElement.onclick=function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,'south'); } ;
		subElement.onmouseover=this.__mouseoverCollapseButton;
		subElement.onmouseout=this.__mouseoutCollapseButton;
		subElement.innerHTML='<span></span>';	
		DHTMLSuite.commonObj.__addEventEl(subElement);		
		obj.appendChild(subElement);
		this.collapseExpandButtons['south']=subElement;
		if(this.panesAssociative['south'].paneModel.state=='collapsed')this.__toggleCollapseExpandButton('south','collapse');
		if(!this.panesAssociative['south'].paneModel.collapsable){
			subElement.style.display='none';
			obj.className=obj.className+' DHTMLSuite_paneSplitter_horizontal_expInTitle';
		}
		}else{
		obj.className=obj.className+' DHTMLSuite_paneSplitter_horizontal_expInTitle';
		}
		if(!this.panesAssociative['south'].paneModel.resizable)obj.className=obj.className+' DHTMLSuite_paneSplitter_vertical_noresize';	
	}	
	
	
// Create onresize handle
	this.paneSplitterHandleOnResize=document.createElement('DIV');	
	var obj=this.paneSplitterHandleOnResize;
	obj.innerHTML='<span></span>';
	obj.className='DHTMLSuite_paneSplitter_onResize';	
	obj.style.position='absolute';
	obj.style.zIndex=955000;
	obj.style.display='none';
	document.body.appendChild(obj);
	
	}	
	
// }}}
	,
	
// {{{ __mouseoverCollapseButton()
    /**
     *	Mouse over-collapse button
     *	
     *
    *@private	
     */	
	__mouseoverCollapseButton:function()
	{
	this.className=this.className+' DHTMLSuite_collapseExpandOver';
	}
	
// }}}
	,
	
// {{{ __mouseoutCollapseButton()
    /**
     *	Mouse out-collapse butotn
     *	
     *
    *@private	
     */	
	__mouseoutCollapseButton:function()
	{
	this.className=this.className.replace(' DHTMLSuite_collapseExpandOver','');
	}
	
// }}}
	,
	
// {{{ __getPaneReferenceFromContentId()
    /**
     *	Returns a reference to a pane from content id
     *	
     *	@param String id-id of content
     *
    *@private	
     */	
	__getPaneReferenceFromContentId:function(id)
	{
	for(var no=0;no<this.panes.length;no++){
		var contents=this.panes[no].paneModel.getContents();
		for(var no2=0;no2<contents.length;no2++){
		if(contents[no2].id==id)return this.panes[no];
		}
	}
	return false;
	
	}
	
// }}}
	,
	
// {{{ __initCollapsePanes()
    /**
     *	Initially collapse panes
     *	
     *
    *@private	
     */		
	__initCollapsePanes:function()
	{
	for(var no=0;no<this.panes.length;no++){	/* Loop through panes */		
		if(this.panes[no].paneModel.state=='collapsed'){	
// State set to collapsed ?
		this.panes[no].__collapse();			
		}	
	}
	}	
	
// }}}
	,
	
// {{{ __getMinimumPos()
    /**
     *	Returns mininum pos in pixels
     *	
     *	@param String pos ("west","north","east","south")
     *
    *@private	
     */	
	__getMinimumPos:function(pos)
	{
	var browserWidth=DHTMLSuite.clientInfoObj.getBrowserWidth();
	var browserHeight=DHTMLSuite.clientInfoObj.getBrowserHeight();
		
	if(pos=='west'||pos=='north'){
		return 	this.panesAssociative[pos].paneModel.minSize;
	}else{
		if(pos=='east')return 	browserWidth-this.panesAssociative[pos].paneModel.maxSize;
		if(pos=='south')return 	browserHeight-this.panesAssociative[pos].paneModel.maxSize;
	}
	}
	
// }}}
	,	
	
// {{{ __getMaximumPos()
    /**
     *	Returns maximum pos in pixels
     *	
     *	@param String pos ("west","north","east","south")
     *
    *@private	
     */		
	__getMaximumPos:function(pos)
	{
	var browserWidth=DHTMLSuite.clientInfoObj.getBrowserWidth();
	var browserHeight=DHTMLSuite.clientInfoObj.getBrowserHeight();
		
	if(pos=='west'||pos=='north'){
		return 	this.panesAssociative[pos].paneModel.maxSize;
	}else{
		if(pos=='east')return 	browserWidth-this.panesAssociative[pos].paneModel.minSize;
		if(pos=='south')return 	browserHeight-this.panesAssociative[pos].paneModel.minSize;
	}
	}
	
// }}}	
	,
	
// {{{ __initResizePane()
    /**
     *	Mouse down on resize handle.
     *	
     *	@param String pos ("west","north","east","south")
     *
    *@private	
     */	
	__initResizePane:function(e,pos)
	{
	if(document.all)e=event;
	var obj=DHTMLSuite.commonObj.getSrcElement(e);	
// Reference to element triggering the event.
	var attr=obj.getAttribute('resizeHandle');
	if(!attr)attr=obj.resizeHandle;
	if(!attr)return;
	if(obj.className.indexOf('noresize')>=0)return;
	this.currentResize=pos;
	this.currentResize_min=this.__getMinimumPos(pos);
	this.currentResize_max=this.__getMaximumPos(pos);
	
	
	this.paneSplitterHandleOnResize.style.left=this.paneSplitterHandles[pos].style.left; 
	this.paneSplitterHandleOnResize.style.top=this.paneSplitterHandles[pos].style.top; 
	this.paneSplitterHandleOnResize.style.width=this.paneSplitterHandles[pos].offsetWidth+'px'; 
	this.paneSplitterHandleOnResize.style.height=this.paneSplitterHandles[pos].offsetHeight+'px'; 
	this.paneSplitterHandleOnResize.style.display='block';
	this.resizeCounter=0;
	DHTMLSuite.commonObj.__setTextSelOk(false);
	this.__timerResizePane(pos);
	
	}
	
// }}}	
	,
	
// {{{ __timerResizePane()
    /**
     *	A small delay between mouse down and resize start
     *	
     *	@param String pos-which pane to resize.
     *
    *@private	
     */	
	__timerResizePane:function(pos)
	{
	if(this.resizeCounter>=0&&this.resizeCounter<5){
		this.resizeCounter++;
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+this.objectIndex+'].__timerResizePane()',2);
		return;
	}	
	if(this.resizeCounter==5){
		this.__showTransparentDivForResize('show');
	}	
	}
	
// }}}
	,
	
// {{{ __showTransparentDivForResize()
    /**
     *	Show transparent divs used to cover iframes during resize
     *
     *	This is a solution to the problem where you're unable to drag the resize handle over iframes.
     *
    *@private	
     */	
	__showTransparentDivForResize:function()
	{
	if(DHTMLSuite.clientInfoObj.isOpera)return;	
// Opera doesn't support transparent div the same way as FF and IE.
	if(this.panesAssociative['west'])this.panesAssociative['west'].__showTransparentDivForResize();
	if(this.panesAssociative['south'])this.panesAssociative['south'].__showTransparentDivForResize();
	if(this.panesAssociative['east'])this.panesAssociative['east'].__showTransparentDivForResize();
	if(this.panesAssociative['north'])this.panesAssociative['north'].__showTransparentDivForResize();
	if(this.panesAssociative['center'])this.panesAssociative['center'].__showTransparentDivForResize();
	
	}
	
// }}}
	,
	
// {{{ __hideTransparentDivForResize()
    /**
     *	Hide transparent divs used to cover iframes during resize
     *
     *
    *@private	
     */	
	__hideTransparentDivForResize:function()
	{
	if(this.panesAssociative['west'])this.panesAssociative['west'].__hideTransparentDivForResize();
	if(this.panesAssociative['south'])this.panesAssociative['south'].__hideTransparentDivForResize();
	if(this.panesAssociative['east'])this.panesAssociative['east'].__hideTransparentDivForResize();
	if(this.panesAssociative['north'])this.panesAssociative['north'].__hideTransparentDivForResize();
	if(this.panesAssociative['center'])this.panesAssociative['center'].__hideTransparentDivForResize();
	
	}
	
// }}}
	,
	
// {{{ __resizePane()
    /**
     *	Position the resize handle 
     *
     *
    *@private	
     */	
	__resizePane:function(e)
	{
	if(document.all)e=event;	
// Get reference to event object.

	if(DHTMLSuite.clientInfoObj.isMSIE&&e.button!=1)this.__endResize();
	
	if(this.resizeCounter==5){	/* Resize in progress */
		if(this.currentResize=='west'||this.currentResize=='east'){
		var leftPos=e.clientX;
		if(leftPos<this.currentResize_min)leftPos=this.currentResize_min;
		if(leftPos>this.currentResize_max)leftPos=this.currentResize_max;
		this.paneSplitterHandleOnResize.style.left=leftPos+'px';
		}else{
		var topPos=e.clientY;
		if(topPos<this.currentResize_min)topPos=this.currentResize_min;
		if(topPos>this.currentResize_max)topPos=this.currentResize_max;		
		this.paneSplitterHandleOnResize.style.top=topPos+'px';
		}	
	}	
	}
	
// }}}
	,	
	
// {{{ __endResize()
    /**
     *	End resizing	(mouse up event )
     *
     *
    *@private	
     */	
	__endResize:function()
	{
	
	if(this.resizeCounter==5){	
// Resize completed 
		this.__hideTransparentDivForResize();
		var browserWidth=DHTMLSuite.clientInfoObj.getBrowserWidth();
		var browserHeight=DHTMLSuite.clientInfoObj.getBrowserHeight();	
		var obj=this.panesAssociative[this.currentResize];
		switch(this.currentResize){
		case "west": 
			obj.__setWidth(this.paneSplitterHandleOnResize.style.left.replace('px','')/1-2);			
			break;	
		case "north":			
			obj.__setHeight(this.paneSplitterHandleOnResize.style.top.replace('px','')/1);
			break;
		case "east":
			obj.__setWidth(browserWidth-this.paneSplitterHandleOnResize.style.left.replace('px','')/1-8);
			break;
		case "south":
			obj.__setHeight(browserHeight-this.paneSplitterHandleOnResize.style.top.replace('px','')/1-7);
			break;		
		}			
		this.__positionPanes();
		obj.__executeResizeCallBack();

		this.paneSplitterHandleOnResize.style.display='none';
		this.resizeCounter=-1;
		DHTMLSuite.commonObj.__setTextSelOk(true);
			
	}	
	

	}
	
// }}}	
	,
	
// {{{ __hideResizeHandle()
    /**
     *	Hide resize handle.
     *
     *
    *@private	
     */		
	__hideResizeHandle:function(pos){
	if(!this.paneSplitterHandles[pos])return;
	switch(pos){
		case "east":
		case "west":
		this.paneSplitterHandles[pos].className=this.paneSplitterHandles[pos].className+' DHTMLSuite_paneSplitter_vertical_noresize';
		break;
		case "north":
		case "south":
		this.paneSplitterHandles[pos].className=this.paneSplitterHandles[pos].className+' DHTMLSuite_paneSplitter_horizontal_noresize';
	}	
	}
	
// }}}
	,
	
// {{{ __showResizeHandle()
    /**
     *	Make resize handle visible
     *
     *
    *@private	
     */	
	__showResizeHandle:function(pos){
	if(!this.paneSplitterHandles[pos])return;
	switch(pos){
		case "east":
		case "west":
		this.paneSplitterHandles[pos].className=this.paneSplitterHandles[pos].className.replace(' DHTMLSuite_paneSplitter_vertical_noresize','');
		break;
		case "north":
		case "south":
		this.paneSplitterHandles[pos].className=this.paneSplitterHandles[pos].className.replace(' DHTMLSuite_paneSplitter_horizontal_noresize','');
	}	
		
	}
	
// }}}
	,
	
// {{{ __positionResizeHandles()
    /**
     *	Positions the resize handles correctly
     *	This method is called by the __positionPanes method. 
     *
     *
    *@private	
     */	
	__positionResizeHandles:function()
	{
	if(this.paneSplitterHandles['north']){	
// Position north splitter handle
		if(this.panesAssociative['north'].paneModel.state=='expanded'){
		this.paneSplitterHandles['north'].style.top=this.panesAssociative['north'].divElement.style.height.replace('px','')+'px';	
		}else{
		this.paneSplitterHandles['north'].style.top=this.paneSizeCollapsed +'px';	
		}
	}
	var heightHandler=this.panesAssociative['center'].divElement.offsetHeight+1;	
// Initial height
	var topPos=0;
	if(this.panesAssociative['center'])topPos +=this.panesAssociative['center'].divElement.style.top.replace('px','')/1;
	
	if(this.paneSplitterHandles['west']){
		if(this.paneSplitterHandles['east'])heightHandler+=this.horizontalSplitterBorderSize/2;		
		if(this.panesAssociative['west'].paneModel.state=='expanded'){		
		this.paneSplitterHandles['west'].style.left=this.panesAssociative['west'].divElement.offsetWidth+'px';	
		}else{
		this.paneSplitterHandles['west'].style.left=this.paneSizeCollapsed+'px';	
		}
		this.paneSplitterHandles['west'].style.height=heightHandler+'px';
		this.paneSplitterHandles['west'].style.top=topPos+'px';
	}
	if(this.paneSplitterHandles['east']){
		var leftPos=this.panesAssociative['center'].divElement.style.left.replace('px','')/1+this.panesAssociative['center'].divElement.offsetWidth;
		this.paneSplitterHandles['east'].style.left=leftPos+'px';	
		this.paneSplitterHandles['east'].style.height=heightHandler+'px';
		this.paneSplitterHandles['east'].style.top=topPos+'px';
	}
	if(this.paneSplitterHandles['south']){		
		var topPos=this.panesAssociative['south'].divElement.style.top.replace('px','')/1;
		topPos=topPos-this.horizontalSplitterSize-this.horizontalSplitterBorderSize;
		this.paneSplitterHandles['south'].style.top=topPos+'px';	
	}
	this.resizeInProgress=false;	
	
	}
	
// }}}
	,
	
// {{{ __positionPanes()
    /**
     *	Positions the panes correctly
     *
     *
    *@private	
     */	
	__positionPanes:function()
	{
	if(this.resizeInProgress)return;
	var ind=this.objectIndex;
	this.resizeInProgress=true;
	var browserWidth=DHTMLSuite.clientInfoObj.getBrowserWidth();
	var browserHeight=DHTMLSuite.clientInfoObj.getBrowserHeight();
	
	
// Position north pane
	var posTopMiddlePanes=0;
	if(this.panesAssociative['north']&&this.panesAssociative['north'].paneModel.visible){
		if(this.panesAssociative['north'].paneModel.state=='expanded'){
		posTopMiddlePanes=this.panesAssociative['north'].divElement.offsetHeight;
		
		this.panesAssociative['north'].__setHeight(this.panesAssociative['north'].divElement.offsetHeight);
		}else{
		posTopMiddlePanes+=this.paneSizeCollapsed;
		}	
		if(this.paneSplitterHandles['north'])posTopMiddlePanes+=(this.horizontalSplitterSize+this.horizontalSplitterBorderSize);
	}
	
	
// Set top position of center,west and east pa
	if(this.panesAssociative['center'])this.panesAssociative['center'].__setTopPosition(posTopMiddlePanes);
	if(this.panesAssociative['west'])this.panesAssociative['west'].__setTopPosition(posTopMiddlePanes);
	if(this.panesAssociative['east'])this.panesAssociative['east'].__setTopPosition(posTopMiddlePanes);
	
	if(this.panesAssociative['west'])this.panesAssociative['west'].divElCollapsed.style.top=posTopMiddlePanes+'px';
	if(this.panesAssociative['east'])this.panesAssociative['east'].divElCollapsed.style.top=posTopMiddlePanes+'px';
	
	
// Position center pane
	var posLeftCenterPane=0;
	if(this.panesAssociative['west']){
		if(this.panesAssociative['west'].paneModel.state=='expanded'){	
// West panel is expanded.
		posLeftCenterPane=this.panesAssociative['west'].divElement.offsetWidth;	
		this.panesAssociative['west'].__setLeftPosition(0);	
			
		}else{	
// West panel is not expanded.
		posLeftCenterPane+=this.paneSizeCollapsed  ;
		}	
		posLeftCenterPane+=(this.verticalSplitterSize);	
	}

	this.panesAssociative['center'].__setLeftPosition(posLeftCenterPane);

	
// Set size of center pane	
	var sizeCenterPane=browserWidth;
	if(this.panesAssociative['west']&&this.panesAssociative['west'].paneModel.visible){	
// Center pane exists and is visible-decrement width of center pane
		if(this.panesAssociative['west'].paneModel.state=='expanded')
		sizeCenterPane -= this.panesAssociative['west'].divElement.offsetWidth;
		else
		sizeCenterPane -= this.paneSizeCollapsed;
	}
	
	if(this.panesAssociative['east']&&this.panesAssociative['east'].paneModel.visible){	
// East pane exists and is visible-decrement width of center pane
		 if(this.panesAssociative['east'].paneModel.state=='expanded')
		 	sizeCenterPane -= this.panesAssociative['east'].divElement.offsetWidth;
		 else{
		 	sizeCenterPane -= this.paneSizeCollapsed;	
		 	if(DHTMLSuite.clientInfoObj.isOldMSIE)sizeCenterPane-=4;
		 } 	
	}
	sizeCenterPane-=this.paneBorderLeftPlusRight;
	if(this.paneSplitterHandles['west'])sizeCenterPane-=(this.verticalSplitterSize);
	if(this.paneSplitterHandles['east'])sizeCenterPane-=(this.verticalSplitterSize);
	
	this.panesAssociative['center'].__setWidth(sizeCenterPane);
	
	
	
// Position east pane
	var posEastPane=posLeftCenterPane+this.panesAssociative['center'].divElement.offsetWidth;
	if(this.paneSplitterHandles['east'])posEastPane+=(this.verticalSplitterSize);
	if(this.panesAssociative['east']){
		if(this.panesAssociative['east'].paneModel.state=='expanded')this.panesAssociative['east'].__setLeftPosition(posEastPane);
		this.panesAssociative['east'].divElCollapsed.style.left='';
		this.panesAssociative['east'].divElCollapsed.style.right='0px';
	}
	
// Set height of middle panes
	var heightMiddleFrames=browserHeight;
	if(this.panesAssociative['north']&&this.panesAssociative['north'].paneModel.visible){
		if(this.panesAssociative['north'].paneModel.state=='expanded'){
		heightMiddleFrames-= this.panesAssociative['north'].divElement.offsetHeight;	
		
		}else
		heightMiddleFrames-= this.paneSizeCollapsed;
		if(this.paneSplitterHandles['north'])heightMiddleFrames-=(this.horizontalSplitterSize+this.horizontalSplitterBorderSize);
		
	}
	if(this.panesAssociative['south']&&this.panesAssociative['south'].paneModel.visible){
		if(this.panesAssociative['south'].paneModel.state=='expanded'){
		heightMiddleFrames-=this.panesAssociative['south'].divElement.offsetHeight;		
		}else
		heightMiddleFrames-=this.paneSizeCollapsed;
		if(this.paneSplitterHandles['south'])heightMiddleFrames-=(this.horizontalSplitterSize+this.horizontalSplitterBorderSize);
	}
	
	if(this.panesAssociative['center'])this.panesAssociative['center'].__setHeight(heightMiddleFrames);
	if(this.panesAssociative['west'])this.panesAssociative['west'].__setHeight(heightMiddleFrames);
	if(this.panesAssociative['east'])this.panesAssociative['east'].__setHeight(heightMiddleFrames);	
	
	
// Position south pane
	var posSouth=0;
	if(this.panesAssociative['north']){	/* Step 1-get height of north pane */
		if(this.panesAssociative['north'].paneModel.state=='expanded'){
		posSouth=this.panesAssociative['north'].divElement.offsetHeight;	
		}else
		posSouth=this.paneSizeCollapsed;
	}
		
	posSouth += heightMiddleFrames;		

	if(this.paneSplitterHandles['south']){
		posSouth+=(this.horizontalSplitterSize+this.horizontalSplitterBorderSize);
	}
	if(this.paneSplitterHandles['north']){
		posSouth+=(this.horizontalSplitterSize+this.horizontalSplitterBorderSize);
	}	
	
	if(this.panesAssociative['south']){
		this.panesAssociative['south'].__setTopPosition(posSouth);
		this.panesAssociative['south'].divElCollapsed.style.top=posSouth+'px';
		this.panesAssociative['south'].__setWidth('100%');
	}
	try{
		if(this.panesAssociative['west']){
		this.panesAssociative['west'].divElCollapsed.style.height=(heightMiddleFrames)+'px';
		this.panesAssociative['west'].divElCollapsedInner.style.height=(heightMiddleFrames -1)+'px';
		}
	}catch(e){
	
	}
	if(this.panesAssociative['east']){
		try{
		this.panesAssociative['east'].divElCollapsed.style.height=heightMiddleFrames+'px';
		this.panesAssociative['east'].divElCollapsedInner.style.height=(heightMiddleFrames-1)+'px';
		}catch(e){
		}
	}
	if(this.panesAssociative['south']){
		this.panesAssociative['south'].divElCollapsed.style.width=browserWidth+'px';
		
		if(this.panesAssociative['south'].paneModel.state=='collapsed'&&this.panesAssociative['south'].divElCollapsed.offsetHeight){	
// Increasing the size of the southern pane
		
		var rest=browserHeight- this.panesAssociative['south'].divElCollapsed.style.top.replace('px','')/1-this.panesAssociative['south'].divElCollapsed.offsetHeight;

		if(rest>0)this.panesAssociative['south'].divElCollapsed.style.height=(this.panesAssociative['south'].divElCollapsed.offsetHeight+rest)+'px';
		}
		
	}
	
	if(this.panesAssociative['north']){
		this.panesAssociative['north'].divElCollapsed.style.width=browserWidth+'px';
	}
	
	
	
	
	this.__positionResizeHandles();
	setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__positionResizeHandles()',50);	
// To get the tabs positioned correctly.
	}
	
// }}}
	,
	
// {{{ __autoSlideInPanes()
    /**
     *	Automatically slide in panes .
     *
     *
    *@private	
     */	
	__autoSlideInPanes:function(e)
	{
	if(document.all)e=event;
	if(this.panesAssociative['south'])this.panesAssociative['south'].__autoSlideInPane(e);	
	if(this.panesAssociative['west'])this.panesAssociative['west'].__autoSlideInPane(e);	
	if(this.panesAssociative['north'])this.panesAssociative['north'].__autoSlideInPane(e);	
	if(this.panesAssociative['east'])this.panesAssociative['east'].__autoSlideInPane(e);	
	
	}
	
// }}}
	,	
	
// {{{ __addEvents()
    /**
     *	Add basic events for the paneSplitter widget
     *
     *
    *@private	
     */	
	__addEvents:function()
	{
	var ind=this.objectIndex;
	DHTMLSuite.commonObj.addEvent(window,'resize',function(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__positionPanes(); });
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mouseup',function(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__endResize(); });
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mousemove',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__resizePane(e); });	
	DHTMLSuite.commonObj.addEvent(document.documentElement,'click',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__autoSlideInPanes(e); });	
	document.documentElement.onselectstart=function(){ return DHTMLSuite.commonObj.__isTextSelOk(); };
	DHTMLSuite.commonObj.__addEventEl(window);
	}
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	Data model for a pane splitter
*
*	Created:			November, 28th, 2006
*	@class Purpose of class:	Data source for the pane splitter
*		
*	Css files used by this script:	
*
*	@param Array arrayOfProperties-pane splitter properties-associative array. possible keys:
*		collapseButtonsInTitleBars-true if you want collapse/expand buttons in the title bar instead of at the middle of the resize handle
*
*	Demos of this class:		
*
* 	Update log:
*
************************************************************************************************************/

/**
* @constructor
* @class Purpose of class:	Store metadata about a pane splitter widget
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/
DHTMLSuite.paneSplitterModel=function(arrayOfProperties)
{
	
	var panes;	
// Array of paneSplitterPaneModel objects
	var collapseButtonsInTitleBars;	
// Place collapse button inside title bars ?
	this.collapseButtonsInTitleBars=false;
	
	this.panes=new Array();	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	this.__setInitProps(arrayOfProperties);
}

DHTMLSuite.paneSplitterModel.prototype=
{
	
// {{{ addPane()
	/**
	*	Add a pane to the paneSplitterModel
	*
	*	@param paneModelRef paneModelRefect of class DHTMLSuite.paneSplitterPaneModel
	*
	*	@public
	*/	
	addPane:function(paneModelRef)
	{
	this.panes[this.panes.length]=paneModelRef;	
	}
	
// }}}
	,
	
// {{{ getItems()
	/**
	*	Add a pane to the paneSplitterModel
	*
	*	@return Array of DHTMLSuite.paneSplitterPaneModel objects
	*
	*	@public
	*/	
	getItems:function()
	{
	return this.panes;	
	}
	
// }}}
	,
	
// {{{ __setInitProps()
	/**
	*	Save initial properties
	*
	*	@param Array associative array of properties
	*
	*	@private
	*/	
	__setInitProps:function(propArray)
	{
	if(!propArray)return;
	if(propArray.collapseButtonsInTitleBars||propArray.collapseButtonsInTitleBars===false)this.collapseButtonsInTitleBars=propArray.collapseButtonsInTitleBars;	
	}
}


/**
* @constructor
* @class Purpose of class:	Store metadata about a pane
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

/************************************************************************************************************
*	Data model for a pane 
*
*	Created:			November, 28th, 2006
*	@class Purpose of class:	Data source for the pane splitter
*		
*	Css files used by this script:	
*
*	Demos of this class:		
*
* 	Update log:
*
************************************************************************************************************/
DHTMLSuite.paneSplitterPaneModel=function(inputArray)
{
	var id;			
// Unique id of pane, in case you want to perform operations on this particular pane.
	var position;		
// Position, possible values: "West","East","North","South" and "Center"
	var size;		
// Current size of pane(for west and east, the size is equal to width, for south and north, size is equal to height)
	var minSize;		
// Minimum size(height or width)of the pane
	var maxSize;		
// Maximum size(height or width)of the pane.
	var resizable;		
// Boolean-true or false, is the pane resizable
	var visible;		
// Boolean-true or false, is the pane visible?
	var scrollbars;		
// Boolean-true or false, visibility of scrollbars when content size is bigger than visible area(default=true)
	var contents;		
// Array of paneSplitterContentModel objects
	var collapsable;	
// Boolean-true or false, is this pane collapsable
	var state;		
// State of a pane, possible values, "expanded","collapsed"; (default=expanded)
	var callbackOnCollapse;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnHide;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnShow;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnExpand;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnSlideOut;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnSlideIn;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnCloseContent;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnBeforeCloseContent;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnTabSwitch;	
// Call back function-if ony function name is give, a reference to this model will be passed to the function with that name
	var callbackOnResize;	
// Call back function-called whenever a tab has been resized manually by dragging the "handle".
	
	this.contents=new Array();
	this.scrollbars=true;
	this.resizable=true;
	this.collapsable=true;
	this.state='expanded';
	this.visible=true;
	if(inputArray)this.setData(inputArray);
	
}

DHTMLSuite.paneSplitterPaneModel.prototype=
{
	
// {{{ setData()
	/**
	*	One method which makes it possible to set all properties
	*
	*	@param Array inputArray associative array of properties
	*		properties: id,position,title,tabTitle,closable,resizable,size,minSize,maxSize,htmlElementId,contentUrl,collapsable,state(expanded or collapsed),visible
	*			callbackOnCollapse,callbackOnHide,callbackOnShow,callbackOnExpand,callbackOnSlideIn,
	*			callbackOnSlideOut,callbackOnCloseContent,callbackOnBeforeCloseContent,callbackOnTabSwitch,callbackOnResize
	*
	*	@public
	*/	
	setData:function(inputArray)
	{
	if(inputArray["collapsable"])inputArray["collapsable"]=eval(inputArray["collapsable"]);
	if(inputArray["id"])this.id=inputArray["id"];
	if(inputArray["position"])this.position=inputArray["position"];
	if(inputArray["resizable"]===false||inputArray["resizable"]===true)this.resizable=inputArray["resizable"];
	if(inputArray["size"])this.size=inputArray["size"];
	if(inputArray["minSize"])this.minSize=inputArray["minSize"];
	if(inputArray["maxSize"])this.maxSize=inputArray["maxSize"];
	if(inputArray["visible"]===false||inputArray["visible"]===true)this.visible=inputArray["visible"];	
	if(inputArray["collapsable"]===false||inputArray["collapsable"]===true)this.collapsable=inputArray["collapsable"];	
	if(inputArray["scrollbars"]===false||inputArray["scrollbars"]===true)this.scrollbars=inputArray["scrollbars"];	
	if(inputArray["state"])this.state=inputArray["state"];
	if(inputArray["callbackOnCollapse"])this.callbackOnCollapse=inputArray["callbackOnCollapse"];
	if(inputArray["callbackOnHide"])this.callbackOnHide=inputArray["callbackOnHide"];
	if(inputArray["callbackOnShow"])this.callbackOnShow=inputArray["callbackOnShow"];
	if(inputArray["callbackOnExpand"])this.callbackOnExpand=inputArray["callbackOnExpand"];	
	if(inputArray["callbackOnSlideIn"])this.callbackOnSlideIn=inputArray["callbackOnSlideIn"];	
	if(inputArray["callbackOnSlideOut"])this.callbackOnSlideOut=inputArray["callbackOnSlideOut"];	
	if(inputArray["callbackOnCloseContent"])this.callbackOnCloseContent=inputArray["callbackOnCloseContent"];	
	if(inputArray["callbackOnBeforeCloseContent"])this.callbackOnBeforeCloseContent=inputArray["callbackOnBeforeCloseContent"];	
	if(inputArray["callbackOnTabSwitch"])this.callbackOnTabSwitch=inputArray["callbackOnTabSwitch"];	
	if(inputArray["callbackOnResize"])this.callbackOnResize=inputArray["callbackOnResize"];	

	}
	
// }}}
	,
	
// {{{ setSize()
	/**
	*	Set size of pane
	*
	*	@param Integer newSizeInPixels=Size of new pane ( for "west" and "east", it would be width, for "north" and "south", it's height.
	*
	*	@public
	*/	
	setSize:function(newSizeInPixels)
	{
	this.size=newSizeInPixels;
	}
	
// }}}
	,
	
// {{{ addContent()
	/**
	*	Add content to a pane.
	*	This method should only be called before the paneSplitter has been initialized, i.e. before it has been displayed on the screen
	*	After it has been displayed, use the addContent method of the DHTMLSuite.paneSplitter class to add content to panes.
	*
	*	@param Object paneSplitterContentObj=An object of class DHTMLSuite.paneSplitterContentModel
	*	@return Boolean Success=true if content were added, false otherwise, i.e. if conten allready exists
	*	@private
	*/	
	addContent:function(paneSplitterContentObj)
	{
	
// Check if content with this id allready exists. if it does, escape from the function.
	for(var no=0;no<this.contents.length;no++){
		if(this.contents[no].id==paneSplitterContentObj.id)return false;	
	}
	this.contents[this.contents.length]=paneSplitterContentObj;	
// Add content to the array of content objects.
	return true;
	}
	
// }}}
	,
	
// {{{ getContents()
	/**
	*	Return an array of content objects
	*
	*	@return Array of DHTMLSuite.paneSplitterContentModel objects
	*
	*	@public
	*/	
	getContents:function()
	{
	return this.contents;
	}
	
// }}}
	,
	
// {{{ getCountContent()
	/**
	*	Return number of content objects inside this paneModel
	*
	*	@return Integer Number of DHTMLSuite.paneSplitterContentModel objects
	*
	*	@public
	*/	
	getCountContent:function()
	{
	return this.contents.length;
	}
	
// }}}
	,
	
// {{{ getPosition()
	/**
	*	Return position of this pane
	*
	*	@return String Position of pane ( lowercase, "north","west","east","south" or "center" )
	*
	*	@public
	*/	
	getPosition:function()
	{
	return this.position.toLowerCase();
	}
	
	,
	
// {{{ __setState()
	/**
	*	Update the state attribute
	*
	*	@param String state=state of pane ( "expanded" or "collapsed" )
	*
	*	@private
	*/	
	__setState:function(state)
	{
	this.state=state;
	}
	
// }}
	,
	
// {{{ __getState()
	/**
	*	Update the state attribute
	*
	*	@return String state-state of pane
	*	@private
	*/	
	__getState:function(state)
	{
	return this.state;
	}
	,
	
// {{{ __deleteContent()
	/**
	*	Delete content from a pane.
	*
	*	@param Integer indexOfContentObjectToDelete-Content index
	*	@return Integer-Index of new active pane.
	*	@private
	*/	
	__deleteContent:function(indexOfContentObjectToDelete)
	{
	try{
		this.contents.splice(indexOfContentObjectToDelete,1);
	}catch(e)
	{
	}
	
		
	var retVal=indexOfContentObjectToDelete;
	if(this.contents.length>(indexOfContentObjectToDelete-1))retVal--;
	if(retVal<0&&this.contents.length==0)return false;
	if(retVal<0)retVal=0;	
	return retVal;
	}
	
// }}}
	,
	
// {{{ __getIndexById()
	/**
	*	Return index of content with a specific content id
	*
	*	@param String id-id of content
	*	@return Integer index-Index of content
	*	@private
	*/	
	__getIndexById:function(id)
	{
	for(var no=0;no<this.contents.length;no++){
		if(this.contents[no].id==id)return no;
	}
	return false;
	
	}
	
// }}}
	,
	
// {{{ __setVisible()
	/**
	*	Set pane visibility
	*
	*	@param Boolean visible-true=visible, false=hidden
	*	
	*	@private
	*/	
	__setVisible:function(visible)
	{
	this.visible=visible;
	}
}

/**
* @constructor
* @class Purpose of class:	Store metadata about the content of a pane
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

/************************************************************************************************************
*	Data source for the content of a pane splitter pane
*
*	Created:			November, 28th, 2006
*	@class Purpose of class:	Data source for the pane splitter pane
*		
*	Css files used by this script:	
*
*	Demos of this class:		
*
* 	Update log:
*
************************************************************************************************************/




DHTMLSuite.paneSplitterContentModel=function(inputArray)
{
	var id;			
// Unique id of pane, in case you want to perform operations on this particular pane.
	var htmlElementId;	
// Id of element on the page-if present, the content of this pane will be set to the content of this element
	var title;		
// Title of pane
	var tabTitle;		
// If more than one pane is present at this position, what's the tab title of this one.	
	var closable;		
// Boolean-true or false, should it be possible to close this pane
	var contentUrl;		
// Url to content-used in case you want the script to fetch content from the server. the path is relative to your html page.
	this.closable=true;	
// Default value
	var refreshAfterSeconds;
	var displayRefreshButton;
	
	this.displayRefreshButton=false;
	this.refreshAfterSeconds=0;
	
	if(inputArray)this.setData(inputArray);	
// Input array present, call the setData method.
}

DHTMLSuite.paneSplitterContentModel.prototype=
{
	
// {{{ setData()
	/**
	*	One method which makes it possible to set all properties
	*
	*	@param Array associative array of properties
	*		properties: id,position,title,tabTitle,closable,htmlElementId,contentUrl,refreshAfterSeconds
	*
	*	@public
	*/	
	setData:function(inputArray)
	{
	if(inputArray["id"])this.id=inputArray["id"]; else this.id=inputArray['htmlElementId'];
	if(inputArray["closable"]===false||inputArray["closable"]===true)this.closable=inputArray["closable"];
	if(inputArray["displayRefreshButton"]===false||inputArray["displayRefreshButton"])this.displayRefreshButton=inputArray["displayRefreshButton"];
	if(inputArray["title"])this.title=inputArray["title"];
	if(inputArray["tabTitle"])this.tabTitle=inputArray["tabTitle"];
	if(inputArray["contentUrl"])this.contentUrl=inputArray["contentUrl"];
	if(inputArray["htmlElementId"])this.htmlElementId=inputArray["htmlElementId"];	
	if(inputArray["refreshAfterSeconds"])this.refreshAfterSeconds=inputArray["refreshAfterSeconds"];	
	
	}
	
// }}}
	,
	
// {{{ __setTitle()
	/**
	* 	 Set new title
	*
	*	@param String newTitle-New tab title
	*
	*	@private
	*/	
	__setTitle:function(newTitle)
	{
	this.title=newTitle;
	}
	
// }}}
	,
	
// {{{ __setTabTitle()
	/**
	* 	 Set new tab title
	*
	*	@param String newTabTitle-New tab title
	*
	*	@private
	*/	
	__setTabTitle:function(newTabTitle)
	{
	this.tabTitle=newTabTitle;
	}
	
// }}}
	,
	
// {{{ __setIdOfContentElement()
	/**
	* 	 Specify contentId
	*
	*	@param String htmlElementId-Id of content ( HTML Element on the page )
	*
	*	@private
	*/	
	__setIdOfContentElement:function(htmlElementId)
	{
	this.htmlElementId=htmlElementId;
	}
	
// }}}
	,
	
// {{{ __setRefreshAfterSeconds()
	/**
	* 	 Set reload content value ( seconds )
	*
	*	@param Integer refreshAfterSeconds-Refresh rate in seconds
	*
	*	@private
	*/	
	__setRefreshAfterSeconds:function(refreshAfterSeconds)
	{
	this.refreshAfterSeconds=refreshAfterSeconds;
	}
	
// }}}
	,
	
// {{{ __setContentUrl()
	/**
	* 	 Specifies external url for content
	*
	*	@param String contentUrl-Url of content
	*
	*	@private
	*/	
	__setContentUrl:function(contentUrl)
	{
	this.contentUrl=contentUrl;
	}
	
/// }}}
	,
	
// {{{ __getClosable()
	/**
	*	Return the closable attribute
	*	@private
	*/	
	__getClosable:function()
	{
	return this.closable;
	}
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	Ajax dynamic content script
*
*	Created:			August, 23rd, 2006
*
*		
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class The purpose of this class is to load content of external files into HTML elements on your page(<a href="../../demos/demo-dynamic-content-1.html" target="_blank">demo</a>).<br>
*	 The pane splitter, window widget and the ajax tooltip script are also using this class to put external content into HTML elements.
* @version		1.0
* @version 1.0
* 
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/

DHTMLSuite.dynamicContent=function(){
	var enableCache;	
// Cache enabled.
	var jsCache;
	var ajaxObjects;
	var waitMessage;
	
	this.enableCache=true;
	this.jsCache=new Object();
	this.ajaxObjects=new Array();
	this.waitMessage='Loading content-please wait...';
	this.waitImage='dynamic-content/ajax-loader-darkblue.gif';
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	var objectIndex;
	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
	
}

DHTMLSuite.dynamicContent.prototype={

	
// {{{ loadContent()
    /**
    *Load content from external files into an element on your web page.
     *
    *@param String divId=Id of HTML element
    *@param String url=Path to content on the server(Local content only)
    *@param String functionToCallOnLoaded=Function to call when ajax is finished. This string will be evaulated, example of string: "fixContent()" (with the quotes).
    *
    *@public
     */	
	loadContent:function(divId,url,functionToCallOnLoaded)
	{
	
	var ind=this.objectIndex;
	if(this.enableCache&&this.jsCache[url]){
		document.getElementById(divId).innerHTML=this.jsCache[url];
		DHTMLSuite.commonObj.__evaluateJs(divId);
		DHTMLSuite.commonObj.__evaluateCss(divId);	
		if(functionToCallOnLoaded)eval(functionToCallOnLoaded);	
		return;
	}
	var ajaxIndex=0;
	
	/* Generating please wait message */
	var waitMessageToShow='';
	if(this.waitImage){	
// Wait image exists ?
		waitMessageToShow=waitMessageToShow+'<div style="text-align:center;padding:10px"><img src="'+DHTMLSuite.configObj.imagePath+this.waitImage+'" border="0" alt=""></div>';
	}
	if(this.waitMessage){	
// Wait message exists ?
		waitMessageToShow=waitMessageToShow+'<div style="text-align:center">'+this.waitMessage+'</div>';
	}	
	try{
		document.getElementById(divId).innerHTML=waitMessageToShow ;
	}catch(e){		
	}	
	waitMessageToShow=false;
	var ajaxIndex=this.ajaxObjects.length;	
	
	try{
		this.ajaxObjects[ajaxIndex]=new sack();
	}catch(e){
		alert('Could not create ajax object. Please make sure that ajax.js is included');
	}
	
	
	
	if(url.indexOf('?')>=0){	
// Get variables in the url
		this.ajaxObjects[ajaxIndex].method='GET';	
// Change method to get
		var string=url.substring(url.indexOf('?'));	
// Extract get variables
		url=url.replace(string,'');
		string=string.replace('?','');
		var items=string.split(/&/g);
		for(var no=0;no<items.length;no++){
		var tokens=items[no].split('=');
		if(tokens.length==2){
			this.ajaxObjects[ajaxIndex].setVar(tokens[0],tokens[1]);
		}	
		}	
		url=url.replace(string,'');
	}	

	
	
		
	this.ajaxObjects[ajaxIndex].requestFile=url;	
// Specifying which file to get
	this.ajaxObjects[ajaxIndex].onCompletion=function(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__ajax_showContent(divId,ajaxIndex,url,functionToCallOnLoaded); };	
// Specify function that will be executed after file has been found
	this.ajaxObjects[ajaxIndex].onError=function(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__ajax_displayError(divId,ajaxIndex,url,functionToCallOnLoaded); };	
// Specify function that will be executed after file has been found
	this.ajaxObjects[ajaxIndex].runAJAX();	
// Execute AJAX function	
	}
	
// }}}	
	,
	
// {{{ setWaitMessage()
    /**
    *Specify which message to show when Ajax is busy.
     *
    *@param String newWaitMessage=New wait message (Default="Loading content-please wait")- use false if you don't want any wait message
    *
    *@public
     */	
	setWaitMessage:function(newWaitMessage)
	{
	this.waitMessage=newWaitMessage;	
	}
	
// }}}
	,
	
// {{{ setWaitImage()
    /**
    *Specify an image to show when Ajax is busy working.
     *
    *@param String newWaitImage=New wait image ( default=ajax-loader-blue.gif-it is by default located inside the image_dhtmlsuite folder.-If you like a new image, try to generate one at http:
//www.ajaxload.info/
    *
    *@public
     */	
	setWaitImage:function(newWaitImage)
	{
	this.waitImage=newWaitImage;
	}
	
// }}}
	,
	
// {{{ setCache()
    /**
    *Cancel selection when drag is in process
     *
    *@param Boolean enableCache=true if you want to enable cache, false otherwise(default is true). You can also send HTMl code in here, example an &lt;img> tag.
    *
    *@public
     */	
	setCache:function(enableCache)
	{
	this.enableCache=enableCache;	
	}
	
// }}}
	,
	
// {{{ __ajax_showContent()
    /**
    *Evaluate Javascript in the inserted content
     *
    *@private
     */	
	__ajax_showContent :function(divId,ajaxIndex,url,functionToCallOnLoaded)
	{
	document.getElementById(divId).innerHTML='';
	document.getElementById(divId).innerHTML=this.ajaxObjects[ajaxIndex].response;
	if(this.enableCache){	
// Cache is enabled
		this.jsCache[url]=document.getElementById(divId).innerHTML+'';	
// Put content into cache
	}	
	DHTMLSuite.commonObj.__evaluateJs(divId);	
// Call private method which evaluates JS content
	DHTMLSuite.commonObj.__evaluateCss(divId);	
// Call private method which evaluates JS content
	if(functionToCallOnLoaded)eval(functionToCallOnLoaded);
	this.ajaxObjects[ajaxIndex]=null;	
// Clear sack object
	return false;
	}
	
// }}}
	,
	
// {{{ __ajax_displayError()
    /**
    *Display error message when the request failed.
     *
    *@private
     */	
	__ajax_displayError:function(divId,ajaxIndex,url,functionToCallOnLoaded)
	{
	document.getElementById(divId).innerHTML='<h2>Message from DHTMLSuite.dynamicContent</h2><p>The ajax request for '+url+' failed</p>';	
	}
	
// }}}	
}
</script><script type="text/javascript">/* Simple AJAX Code-Kit (SACK) v1.6.1 */
/* ?2005 Gregory Wild-Smith */
/* www.twilightuniverse.com */
/* Software licenced under a modified X11 licence,
   see documentation or authors website for more details */

function sack(file) {
	this.xmlhttp = null;

	this.resetData = function() {
		this.method = "POST";
  		this.queryStringSeparator = "?";
		this.argumentSeparator = "&";
		this.URLString = "";
		this.encodeURIString = true;
  		this.execute = false;
  		this.element = null;
		this.elementObj = null;
		this.requestFile = file;
		this.vars = new Object();
		this.responseStatus = new Array(2);
  	};

	this.resetFunctions = function() {
  		this.onLoading = function() { };
  		this.onLoaded = function() { };
  		this.onInteractive = function() { };
  		this.onCompletion = function() { };
  		this.onError = function() { };
		this.onFail = function() { };
	};

	this.reset = function() {
		this.resetFunctions();
		this.resetData();
	};

	this.createAJAX = function() {
		try {
			this.xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
		} catch (e1) {
			try {
				this.xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			} catch (e2) {
				this.xmlhttp = null;
			}
		}

		if (! this.xmlhttp) {
			if (typeof XMLHttpRequest != "undefined") {
				this.xmlhttp = new XMLHttpRequest();
			} else {
				this.failed = true;
			}
		}
	};

	this.setVar = function(name, value){
		this.vars[name] = Array(value, false);
	};

	this.encVar = function(name, value, returnvars) {
		if (true == returnvars) {
			return Array(encodeURIComponent(name), encodeURIComponent(value));
		} else {
			this.vars[encodeURIComponent(name)] = Array(encodeURIComponent(value), true);
		}
	}

	this.processURLString = function(string, encode) {
		encoded = encodeURIComponent(this.argumentSeparator);
		regexp = new RegExp(this.argumentSeparator + "|" + encoded);
		varArray = string.split(regexp);
		for (i = 0; i < varArray.length; i++){
			urlVars = varArray[i].split("=");
			if (true == encode){
				this.encVar(urlVars[0], urlVars[1]);
			} else {
				this.setVar(urlVars[0], urlVars[1]);
			}
		}
	}

	this.createURLString = function(urlstring) {
		if (this.encodeURIString && this.URLString.length) {
			this.processURLString(this.URLString, true);
		}

		if (urlstring) {
			if (this.URLString.length) {
				this.URLString += this.argumentSeparator + urlstring;
			} else {
				this.URLString = urlstring;
			}
		}

		// prevents caching of URLString
		this.setVar("rndval", new Date().getTime());

		urlstringtemp = new Array();
		for (key in this.vars) {
			if (false == this.vars[key][1] && true == this.encodeURIString) {
				encoded = this.encVar(key, this.vars[key][0], true);
				delete this.vars[key];
				this.vars[encoded[0]] = Array(encoded[1], true);
				key = encoded[0];
			}

			urlstringtemp[urlstringtemp.length] = key + "=" + this.vars[key][0];
		}
		if (urlstring){
			this.URLString += this.argumentSeparator + urlstringtemp.join(this.argumentSeparator);
		} else {
			this.URLString += urlstringtemp.join(this.argumentSeparator);
		}
	}

	this.runResponse = function() {
		eval(this.response);
	}

	this.runAJAX = function(urlstring) {
		if (this.failed) {
			this.onFail();
		} else {
			this.createURLString(urlstring);
			if (this.element) {
				this.elementObj = document.getElementById(this.element);
			}
			if (this.xmlhttp) {
				var self = this;
				if (this.method == "GET") {
					totalurlstring = this.requestFile + this.queryStringSeparator + this.URLString;
					this.xmlhttp.open(this.method, totalurlstring, true);
				} else {
					this.xmlhttp.open(this.method, this.requestFile, true);
					try {
						this.xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
					} catch (e) { }
				}

				this.xmlhttp.onreadystatechange = function() {
					switch (self.xmlhttp.readyState) {
						case 1:
							self.onLoading();
							break;
						case 2:
							self.onLoaded();
							break;
						case 3:
							self.onInteractive();
							break;
						case 4:
							self.response = self.xmlhttp.responseText;
							self.responseXML = self.xmlhttp.responseXML;
							self.responseStatus[0] = self.xmlhttp.status;
							self.responseStatus[1] = self.xmlhttp.statusText;

							if (self.execute) {
								self.runResponse();
							}

							if (self.elementObj) {
								elemNodeName = self.elementObj.nodeName;
								elemNodeName = elemNodeName.toLowerCase();
								if (elemNodeName == "input"
								|| elemNodeName == "select"
								|| elemNodeName == "option"
								|| elemNodeName == "textarea") {
									self.elementObj.value = self.response;
								} else {
									self.elementObj.innerHTML = self.response;
								}
							}
							if (self.responseStatus[0] == "200") {
								self.onCompletion();
							} else {
								self.onError();
							}
							/* These lines were added by Alf Magne Kalleland ref. info on the sack home page. It prevents memory leakage in IE */
							self.URLString = "";
							delete self.xmlhttp['onreadystatechange'];
							self.xmlhttp=null;
							self.responseStatus=null;
							self.response=null;
							self.responseXML=null;
							
							break;
					}
				};

				this.xmlhttp.send(this.URLString);
			}
		}
	};

	this.reset();
	this.createAJAX();
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML window scripts
*
*	Created:			November, 26th, 2006
*	@class Purpose of class:	Store metadata about a window
*		
*	Css files used by this script:	window.css
*
*	Public methods of this class should NEVER be called after the window widget has been initalized. 
*
*	Demos of this class:		demo-window.html
*
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class Purpose of class:	Save metadata about a window. (<a href="../../demos/demo-window.html" target="_blank">Demo</a>)
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

DHTMLSuite.windowModel=function(arrayOfProperties)
{
	var id;				
// Id of window.
	var title;			
// Title of window
	var icon;			
// Icon of window
	var isDragable;			
// Window is dragable?(default=true)
	var isResizable;		
// Window is resizable ?
	var isMinimizable;		
// Window is minimizable ?
	var isClosable;			
// Window is closable
	var xPos;			
// Current x position of window
	var yPos;			
// Current y position of window
	var width;			
// Current width of window
	var height;			
// Current height of window	
	var cookieName;			
// Name of cookie to store x,y,width,height,state,activeTab and zIndex
	var state;			
// State of current window(minimized,closed etc.)
	var activeTabId;		
// id of active tab
	var tabsVisible;		
// Tabs are visible? If not, we will only show a simple window with content and no tabs.
	var zIndex;			
// Current z-index of window.
	var minWidth;			
// Minimum width of window
	var maxWidth;			
// Maximum width of window
	var minHeight;			
// Minimum height of window
	var maxHeight;			
// Maximum height of window.
	var isVisible;			
// Is window visible
	
	var callbackOnClose;		
// Callback to execute on close
	var windowsTheme;		
	var windowContents;		
// Array of DHTMLSuite.windowTabModel objects.	
	this.windowContents=new Array();
	this.isDragable=true;
	this.isMinimizable=true;
	this.isResizable=true;
	this.isClosable=true;
	this.windowsTheme=false;
	this.isVisible=true;
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file\n'+ e.message);
	}
	
	if(arrayOfProperties)this.__setInitialWindowProperties(arrayOfProperties);
	
}

DHTMLSuite.windowModel.prototype={

	
// {{{ createWindowModelFromMarkUp()
    /**
     *	Create window from HTML markup on your page.
     *
     *	@param Object-reference to HTML element on page. (id or a direct reference)
     *
     *	Example of markup:
	&lt;div id="myWindow2" windowProperties="windowsTheme:true,title:This is my window,resizable:true,closable:true,maxWidth:900,dragable:true,cookieName:myWindowCookie2,xPos:300,yPos:400,minWidth:405,minHeight:150,activeTabId:OtherWindow1"><BR>
	&lt;div id="OtherWindow1" class="DHTMLSuite_windowContent" tabProperties="tabTitle:Welcome"><BR>
		This is my first window.	<BR>
	&lt;/div><BR>
	&lt;div id="OtherWindow2" class="DHTMLSuite_windowContent" tabProperties="contentUrl:includes/pane-splitter-calendar-1.php,tabTitle:Calendar,active=1"><BR>
	&lt;/div><BR>
	&lt;div id="OtherWindow3" class="DHTMLSuite_windowContent" tabProperties="contentUrl:includes/pane-splitter-paypal.inc,tabTitle:Support us"><BR>
	&lt;/div><BR>
	&lt;div id="OtherWindow4" class="DHTMLSuite_windowContent" tabProperties="contentUrl:includes/pane-splitter-classes.inc,tabTitle:DHTMLSuite classes"><BR>
	&lt;/div><BR>
	&lt;/div>
     *
     *	Note that each tab got class name "DHTMLSuite_windowContent". Also notice that the ids are separated from the property list. Properties are set by a comma separated list of
     *	key:value
     *	
    *@public	
     */		
	createWindowModelFromMarkUp:function(referenceToHTMLElement)
	{
	referenceToHTMLElement=DHTMLSuite.commonObj.getEl(referenceToHTMLElement);	
	if(!referenceToHTMLElement){
		alert('Error in windowModel class-Could not get a reference to element '+referenceToHTMLElement);
		return;
	}		
	this.id=referenceToHTMLElement.id;
	var properties=referenceToHTMLElement.getAttribute('windowProperties');
	if(!properties)properties=referenceToHTMLElement.windowProperties;
	this.__setInitialWindowProperties(DHTMLSuite.commonObj.getAssociativeArrayFromString(properties));		
	/* Parse properties of main div */		
	var subDivs=referenceToHTMLElement.getElementsByTagName('DIV');
	for(var no=0;no<subDivs.length;no++){
		if(subDivs[no].className.toLowerCase()=='dhtmlsuite_windowcontent'){	/* Window found */
		var index=this.windowContents.length;
		this.windowContents[index]=new DHTMLSuite.windowTabModel();
		this.windowContents[index].__createContentModelFromHTMLElement(subDivs[no]);		
		}		
	}	
	}
	
// }}}
	,	
	
// {{{ __setInitialWindowProperties()
    /**
     *Save initial window properties sent to the constructor
     *	
     *	@param Array arrayOfProperties-Array of window properties
     *				 
    *@private	
     */	
	__setInitialWindowProperties:function(props)
	{
	if(props.isClosable)props.isClosable=eval(props.isClosable);
	if(props.isDragable)props.isDragable=eval(props.isDragable);
	if(props.isResizable)props.isResizable=eval(props.isResizable);
	if(props.isMinimizable)props.isMinimizable=eval(props.isMinimizable);
	if(props.isVisible)props.isVisible=eval(props.isVisible);
	
	if(props.cookieName)this.cookieName=props.cookieName;
	if(props.title)this.title=props.title;
	if(props.icon)this.icon=props.icon;
	if(props.width)this.width=props.width;
	if(props.height)this.height=props.height;
	
	if(props.isMinimizable||props.isMinimizable===false||props.isMinimizable===0)this.isMinimizable=props.isMinimizable;
	if(props.isClosable||props.isClosable==false)this.isClosable=props.isClosable;
	if(props.state)this.state=props.state;
	if(props.xPos)this.xPos=props.xPos;
	if(props.yPos)this.yPos=props.yPos;
	if(props.activeTabId)this.activeTabId=props.activeTabId;
	if(props.minWidth)this.minWidth=props.minWidth;
	if(props.maxWidth)this.maxWidth=props.maxWidth;
	if(props.minHeight)this.minHeight=props.minHeight;
	if(props.maxHeight)this.maxHeight=props.maxHeight;
	if(props.windowsTheme)this.windowsTheme=props.windowsTheme;
	if(props.callbackOnClose)this.callbackOnClose=props.callbackOnClose;

	if(props.isResizable||props.isResizable==false)this.isResizable=props.isResizable;
	if(props.isDragable||props.isDragable==false)this.isDragable=props.isDragable;
	if(props.isVisible||props.isVisible==false)this.isVisible=props.isVisible;

	
	}
	
// }}}
	,
	
// {{{ __getTitle()
    /**
    *Return title of window
     *				 
    *@private	
     */	
	__getTitle:function()
	{
	return this.title;
	}
	
// }}}
	,
	
// {{{ __getContentObjects()
    /**
    *Return an array of window content objects.
     *				 
    *@private	
     */	
	__getContentObjects:function()
	{
	return this.windowContents;
	}
	
// }}}
	,
	
// {{{ __setActiveTabIdAutomatically()
    /**
    *Automatically set active tab id.
     *				 
    *@private	
     */	
	__setActiveTabIdAutomatically:function()
	{
	for(var no=0;no<this.windowContents.length;no++){
		if(!this.windowContents[no].isDeleted){
		this.activeTabId=this.windowContents[no].id;
		return;
		}	
	}	
	}
	
// }}}
	,
	
// {{{ __setContentUrl()
    /**
    *Set new url of content
     *				 
    *@private	
     */	
	__setContentUrl:function(contentId,url)
	{
	for(var no=0;no<this.windowContents.length;no++){
		if(this.windowContents[no].id==contentId){
		this.windowContents[no].__setContentUrl(url);
		return true;
		}
	}
	return false;	
	}
	
// }}}
	,
	
// {{{ __getContentObjectById()
    /**
    *Return content object from id.
     *				 
    *@private	
     */	
	__getContentObjectById:function(contentId)
	{
	for(var no=0;no<this.windowContents.length;no++){
		if(this.windowContents[no].id==contentId)return this.windowContents[no];
	}
	return false;		
	}
	
// }}}
	,
	
// {{{ __setWidth()
    /**
    *Set new width of window
     *	@param Integer width.
     *				 
    *@private	
     */	
	__setWidth:function(newWidth)
	{
	if(this.minWidth&&newWidth/1<this.minWidth/1)newWidth=this.minWidth;
	if(this.maxWidth&&newWidth/1>this.maxWidth/1)newWidth=this.maxWidth;
	this.width=newWidth;
	}
	
// }}}
	,
	
// {{{ __setHeight()
    /**
    *Set new height of window
     *	@param Integer height.
     *				 
    *@private	
     */	
	__setHeight:function(newHeight)
	{
	if(this.minHeight&&newHeight/1<this.minHeight/1)newHeight=this.minHeight;
	if(this.maxHeight&&newHeight/1>this.maxHeight/1)newHeight=this.maxHeight;
	this.height=newHeight;
	}
	
// }}}
	,
	
// {{{ __setXPos()
    /**
    *Set new x position of window
     *	@param Integer xPos in pixels.
     *				 
    *@private	
     */	
	__setXPos:function(newXPos)
	{
	if(newXPos>DHTMLSuite.clientInfoObj.getBrowserWidth()){
		newXPos=DHTMLSuite.clientInfoObj.getBrowserWidth()-30;	
	}	
	this.xPos=newXPos;
	}
	
// }}}
	,
	
// {{{ __setYPos()
    /**
    *Set new y position of window
     *	@param Integer yPos in pixels.
     *				 
    *@private	
     */	
	__setYPos:function(newYPos)
	{
	if(newYPos>DHTMLSuite.clientInfoObj.getBrowserHeight()){
		newYPos=DHTMLSuite.clientInfoObj.getBrowserHeight()-30;	
	}		
	this.yPos=newYPos;
	}
	
// }}}
	,
	
// {{{ __setActiveTabId()
    /**
    *Set new active tab id.
     *	@param String newActiveTabId
     *				 
    *@private	
     */		
	__setActiveTabId:function(newActiveTabId)
	{
	var index=this.__getIndexOfTabById(newActiveTabId);
	if(index!==false&&!this.__getIsDeleted(newActiveTabId)){		
		this.activeTabId=newActiveTabId;
		return;
	}
	this.__setActiveTabIdAutomatically();	
	}
	
// }}}
	,
	
// {{{ __setZIndex()
    /**
    *Set new z-index of window
     *	@param Integer zIndex
     *				 
    *@private	
     */	
	__setZIndex:function(zIndex)
	{
	this.zIndex=zIndex;
	}
	
// }}}
	,
	
// {{{ __setState()
    /**
    *Set new state of window
     *	@param String state
     *				 
    *@private	
     */	
	__setState:function(state)
	{
	this.state=state;
	}
	
// }}}
	,
	
// {{{ __getWidth()
    /**
    *Return width of window
     *				 
    *@private	
     */	
	__getWidth:function()
	{
	return this.width;
	}
	
// }}}
	,
	
// {{{ __getWidth()
    /**
    *Return width of window
     *				 
    *@private	
     */	
	__getHeight:function()
	{
	return this.height;
	}
	
// }}}
	,
	
// {{{ __getXPos()
    /**
    *Return xPos of window
     *				 
    *@private	
     */	
	__getXPos:function()
	{
	if(this.xPos>DHTMLSuite.clientInfoObj.getBrowserWidth()){
		xPos=DHTMLSuite.clientInfoObj.getBrowserWidth()-30;	
	}
	return this.xPos;
	}
	
// }}}
	,
	
// {{{ __getYPos()
    /**
    *Return yPos of window
     *				 
    *@private	
     */	
	__getYPos:function()
	{
	return this.yPos;
	}
	
// }}}
	,
	
// {{{ __getActiveTabId()
    /**
    *Return active tab id
     *				 
    *@private	
     */	
	__getActiveTabId:function()
	{
	return this.activeTabId;
	}
	
// }}}
	,
	
// {{{ __getZIndex()
    /**
    *Return z-index of window
     *				 
    *@private	
     */	
	__getZIndex:function()
	{
	if(!this.zIndex)return 0;
	return this.zIndex;
	}
	
// }}}
	,
	
// {{{ __getState()
    /**
    *Return state of window
     *				 
    *@private	
     */	
	__getState:function()
	{
	return this.state;
	}
	
// }}}
	,
	
// {{{ __deleteTab()
    /**
    *delete a tab
     *	@param String id of tab to delete
     *				 
    *@private	
     */	
	__deleteTab:function(idOfTab)
	{
	var index=this.__getIndexOfTabById(idOfTab);
	if(index!==false){
		this.windowContents[index].__setDeleted(true);
		return true;
	}
	return false;	
	}
	
// }}}
	,
	
// {{{ __restoreTab()
    /**
    *Restore a deleted tab
     *	@param String id of tab to restore.
     *				 
    *@private	
     */	
	__restoreTab:function(idOfTab)
	{
	var index=this.__getIndexOfTabById(idOfTab);
	if(index!==false){
		this.windowContents[index].__setDeleted(false);
		return true;
	}
	return false;	
	}
	
// }}}
	,
	
// {{{ __getIndexOfTabById()
    /**
    *Return index of tab by id
     *	@param String idOfTab
     *				 
    *@private	
     */	
	__getIndexOfTabById:function(idOfTab)
	{
	for(var no=0;no<this.windowContents.length;no++){
		if(this.windowContents[no].id==idOfTab)return no;
	}	
	return false;
	}
	
// }}}
	,
	
// {{{ __getIsDeleted()
    /**
    *Return true if tab is flagged as deleted
     *				 
    *@private	
     */	
	__getIsDeleted:function(idOfTab)
	{
	var index=this.__getIndexOfTabById(idOfTab);
	if(index!==false){
		return this.windowContents[index].isDeleted;
	}
	}
	
// }}}
	,
	
// {{{ addTab()
    /**
    *Add a new tab to the model
     *
     *	@return A reference to the model or false if a tab with the specified id already exists.
     *				 
    *@public	
     */	
	addTab:function(properties)
	{
	for(var no=0;no<this.windowContents.length;no++){	
// Check if the window already exists.
		if(this.windowContents[no].id==properties.id)return false;		
	}
	var newIndex=this.windowContents.length;
	this.windowContents[newIndex]=new DHTMLSuite.windowTabModel(properties);
	return this.windowContents[newIndex];
	}
}

/************************************************************************************************************
*	DHTML window scripts
*
*	Created:			November, 26th, 2006
*	@class Purpose of class:	Store metadata about the content of a window or only a tab of a window.
*					
*		
*	Css files used by this script:	
*
*	Demos of this class:		demo-window.html
*
* 	Update log:
*
************************************************************************************************************/

DHTMLSuite.windowTabModel=function(tabProperties)
{
	var tabTitle;
	var textContent;
	var id;	
	var htmlElementId;
	var contentUrl;
	var isDeleted;
	var overflow;
	
	this.overflow='auto';
	if(tabProperties)this.__setInitProps(tabProperties);
}

DHTMLSuite.windowTabModel.prototype=
{
	
// {{{ __createContentModelFromHTMLElement()
    /**
    *Parse HTML element and get attributes from it.
     *				 
    *@private	
     */		
	__createContentModelFromHTMLElement:function(elementReference)
	{
	elementReference=DHTMLSuite.commonObj.getEl(elementReference);		
	this.textContent=elementReference.innerHTML;
	var properties=elementReference.getAttribute('tabProperties');
	if(!properties)properties=referenceToHTMLElement.tabProperties;	
	this.id=elementReference.id;
	this.htmlElementId=elementReference.id;
	this.__setInitProps(DHTMLSuite.commonObj.getAssociativeArrayFromString(properties));	
	
	}	
	
// }}}
	,
	
// {{{ __setInitProps()
    /**
    *Set initial tab properties
     *				 
    *@private	
     */	
	__setInitProps:function(arrayOfProperties)
	{	
	if(arrayOfProperties.tabTitle)this.tabTitle=arrayOfProperties.tabTitle;	
	if(arrayOfProperties.contentUrl)this.contentUrl=arrayOfProperties.contentUrl;	
	if(arrayOfProperties.id)this.id=arrayOfProperties.id;
	if(arrayOfProperties.textContent)this.textContent=arrayOfProperties.textContent;
	if(arrayOfProperties.htmlElementId)this.htmlElementId=arrayOfProperties.htmlElementId;
	if(arrayOfProperties.isDeleted)this.htmlElementId=arrayOfProperties.isDeleted;
	if(arrayOfProperties.overflow)this.overflow=arrayOfProperties.overflow;	
	if(this.id&&!this.htmlElementId)this.htmlElementId=this.id;	
		
	}
	
// }}}
	,
	
// {{{ __setContentUrl()
    /**
    *Set url of tab
     *	@param String url
     *				 
    *@private	
     */	
	__setContentUrl:function(url)
	{
	this.contentUrl=url;
	}
	
// }}}
	,
	
// {{{ __setDeleted()
    /**
    *Specify if tab is deleted or not
     *	@param Boolean isDeleted
     *				 
    *@private	
     */	
	__setDeleted:function(isDeleted)
	{
	this.isDeleted=isDeleted;
	}
	
}

/**
* @constructor
* @class Create a window widget.
*		
* @param Object windowModel-object of class DHTMLSuite.windowModel
* @version		1.0
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/

DHTMLSuite.windowWidget=function(windowModel)
{
	var windowModel;	
	var layoutCSS;
	var objectIndex;
	
	var divElement;			
// parent element of divElInner and eventual iframe(old MSIE)
	var divElInner;		
// Div element for all the content of an iframe
	var divTitleBar;		
// Div element for the title bar.
	var divElContent;		
// Div for the content 
	var divCloseButton;		
// Close button
	var divMinimizeButton;		
// Minimize button
	var divStatusBarTxt;		
// Text element in status bar
	var divTitleIcon;		
// Icon div
	var divResizeHandle;		
// Div element for the resize handle
	var iframeEl;		
// Iframe element used to cover select boxes in IE.
	var divElementTitle_txt;
	var referenceToDragDropObject;	
// Reference to object of class dragDropSimple.
	var contentDivs;		
// Array of div elements for the content
	var resizeObj;			
// Reference to object of class DHTMLSuite.resize
	var slideSpeed;			
// Slide speed when window is "sliding" into position by a windowCollection call.
	var layoutOffsetHeightForTheStatusBar;
	
	var scrollPositions;
	this.scrollPositions=new Object();	
	
	this.layoutOffsetHeightForTheStatusBar=8;
	this.layoutCSS='window.css';
	this.contentDivs=new Object();	
	this.slideSpeed=25;
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}	
	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;

	if(windowModel)this.addWindowModel(windowModel);	
}

DHTMLSuite.windowWidget.prototype={
	
// {{{ show()
	/**
	*	Displays the window
	*
	*	@public
	*/
	show:function()
	{
	this.windowModel.isVisible=true;
	this.divElement.style.visibility='visible';
	this.divElement.style.display='block';
	if(this.iframeEl)this.iframeEl.style.visibility='visible';	
	}
	
// }}}
	,	
	
// {{{ addWindowModel()
    /**
    *Connect window widget with a DHTMLSuite.windowModel
     *	@param Object windowModel-Object of class DHTMLSuite.windowModel.
     *				 
    *@public	
     */	
	addWindowModel:function(windowModel)
	{
	this.windowModel=windowModel;
	if(windowModel.windowsTheme)this.setLayoutThemeWindows();
	}
	
// }}}
	,
	
// {{{ setLayoutThemeWindows()
    /**
    *Windows style theme.
    *@public	
     */		
	setLayoutThemeWindows:function()
	{
	this.setLayoutCss('window-theme-windows.css');
	this.layoutOffsetHeightForTheStatusBar=1;
	}
	
// }}}
	,
	
// {{{ appendContent()
    /**
    *Append content to the window
    *@public	
     */	
    appendContent:function(idOfTab,contentReference)
	{
	contentReference=DHTMLSuite.commonObj.getEl(contentReference);
	try{
		document.getElementById(idOfTab).appendChild(contentReference);
	}catch(e){
	
	}	
	}
	
// }}}
	,
	
// {{{ setLayoutCss()
    /**
    *Specify new css file for the window. default is window/window.css ( located inside the css_dhtmlsuite folder)
    *@public	
     */	
	setLayoutCss:function(cssFileName)
	{
	this.layoutCSS=cssFileName;
	if(cssFileName=='window-theme-windows.css')this.layoutOffsetHeightForTheStatusBar=1;
	}
	
// }}}
	,
	
// {{{ setStatusBarText()
    /**
    *Specify a text in the status bar
     *	@param String statusbar text
    *@public	
     */	
	setStatusBarText:function(text)
	{
	this.divStatusBarTxt.innerHTML=text;
	}
	
// }}}
	,
	
// {{{ setSlideSpeed()
    /**
    *Specify a text in the status bar
     *	@param Integer-slidespeed ( default=25 )- This property is only used when a windowCollection is cascading or tiling windows.
    *@public	
     */	
	setSlideSpeed:function(slideSpeed)
	{
	this.slideSpeed=slideSpeed;
	}
	
// }}}
	,
	
// {{{ init()
    /**
    *Initializes the widget.
	 *
    *@public	
     */		
	init:function()
	{
	var ind=this.objectIndex;
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);
	this.__getWindowPropertiesFromCookie();
	if(!this.windowModel.activeTabId)this.windowModel.__setActiveTabIdAutomatically();
	this.__createPrimaryDivElements();
	this.__createiframeEl();
	this.__createTitleBar();
	this.__createTabRow();
	this.__createContentArea();
	this.__createStatusBar();	
	this.__initiallyPopulateContentArea();
	this.__displayActiveContent();	
	this.__populateTabRow();	
	this.__populateTitleBar();	
	this.__showHideButtonElements();
	this.__makeWindowDragable();
	this.__makeWindowResizable();
	this.__initiallySetPositionAndSizeOfWindow();	
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects[" +ind+"].__setSizeOfDivElements()",200);
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects[" +ind+"].__setSizeOfDivElements()",500);
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects[" +ind+"].__setSizeOfDivElements()",1000);
	setTimeout("DHTMLSuite.variableStorage.arrayDSObjects[" +ind+"].__setSizeOfDivElements()",2000);
	}
	
// }}}
	,
	
// {{{ loadContent()
    /**
    *The purpose of this method is to load content into a tab	 
     *
	 *	@param String-id of content object/tab
	 *	@param url-Url to load into the tab.
    *@public	 
     */		
	loadContent:function(idOfWindowContentObject,url)
	{
	this.windowModel.__setContentUrl(idOfWindowContentObject,url);
	try{
		var dynContent=new DHTMLSuite.dynamicContent();
	}catch(e){
		alert('You need to include dhtmlSuite-dynamicContent.js');
	}
	var ref=this.windowModel.__getContentObjectById(idOfWindowContentObject);	
	if(ref)dynContent.loadContent(ref.htmlElementId,url);
	}
	
// }}}
	,
	/* Activate a different tab */
	
// {{{ activateTab()
    /**
    *Make a specific tab active
     *
	 *	@param String-id of content object/tab
    *@public	
     */	
	activateTab:function(idOfContent)
	{
	var c=this.__getActiveContentElement();

	this.scrollPositions[this.windowModel.activeTabId]=c.parentNode.scrollTop;
	this.windowModel.__setActiveTabId(idOfContent);
	this.__setLayoutOfTabs();
	this.__displayActiveContent();
	this.__saveCookie();	
	}	
	
// }}}
	,
	
// {{{ setLayoutOffsetHeightForTheStatusBar()
    /**
    *This method is only needed in case you use a non-default css file
     *	It controls a tuning parameter used to set the correct height of the window(default value is 8)
     *
	 *	@param String-id of content object/tab
    *@public	
     */	
	setLayoutOffsetHeightForTheStatusBar:function(layoutOffsetHeightForTheStatusBar)
	{
	this.layoutOffsetHeightForTheStatusBar=layoutOffsetHeightForTheStatusBar;
	}
	
// }}}
	,
	
// {{{ deleteTab()
    /**
    *Delete a tab (ps! The tab can be restored by the restoreTab()method
     *
	 *	@param String-id of content object/tab
    *@public	
     */	
	deleteTab:function(idOfTab)
	{
	this.windowModel.__deleteTab(idOfTab);	
	if(this.windowModel.__getActiveTabId()==idOfTab)this.windowModel.__setActiveTabIdAutomatically();	
	this.__populateTabRow();
	this.__setLayoutOfTabs();
	this.__displayActiveContent();	
	}
	
// }}}
	,
	
// {{{ restoreTab()
    /**
    *Restore a deleted tab 
     *
	 *	@param String idOfTab-id of content object/tab
    *@public	
     */	
	restoreTab:function(idOfTab)
	{
	this.windowModel.__restoreTab(idOfTab);	
	this.__populateTabRow();
	this.__setLayoutOfTabs();
	this.__displayActiveContent();			
	}
	
// }}}
	,
	
// {{{ addTab()
    /**
    *Adds a new tab to the window
     *
	 *	@param Array tabProperties-Properties for the new tab(associative array with the keys: id,tabTitle,contentUrl(optional),textContent(optional),htmlElementId(optional)and isDeleted(optional)
    *@public	
     */	
	addTab:function(tabProperties)
	{
	var contentObj=this.windowModel.addTab(tabProperties);
	if(contentObj){
		this.__createContentForATab(contentObj);
		this.__populateTabRow();
		this.__setLayoutOfTabs();
		this.__displayActiveContent();	
	}	
	}
	
// }}}
	,
	
// {{{ setWidthOfWindow()
    /**
    *Set new width of window
     *
	 *	@param Integer width-New width of window. NB! Not larger than eventual set maxWidth
    *@public	
     */	
	setWidthOfWindow:function(newWidth)
	{
	this.windowModel.__setWidth(newWidth);
	this.divElement.style.width=this.windowModel.__getWidth()+'px';
	this.__updateWindowModel();		
	}
	
// }}}
	,
	
// {{{ setHeightOfWindow()
    /**
    *Set new height of window
     *
	 *	@param Integer height-New height of window. NB! Not larger than eventual set maxHeight
    *@public	
     */	
	setHeightOfWindow:function(newHeight)
	{
	this.windowModel.__setHeight(newHeight);
	this.divElement.style.height=this.windowModel.__getHeight()+'px';
	this.__setSizeOfDivElements();
	this.__updateWindowModel();	
	}
	
// }}}
	,	
	
// {{{ __createPrimaryDivElements()
    /**
    *Create main div elements for the widget
     *
    *@private	
     */	
	__createPrimaryDivElements:function()
	{	
	this.divElement=document.createElement('DIV');	
	this.divElement.className='DHTMLSuite_window';
	document.body.appendChild(this.divElement);	
	if(!this.windowModel.isVisible)this.divElement.style.visibility='hidden';
	this.divElInner=document.createElement('DIV');
	this.divElInner.className='DHTMLSuite_windowInnerDiv';
	this.divElInner.style.position='relative';
	this.divElInner.style.left='0px';
	this.divElInner.style.top='0px';
	this.divElInner.style.zIndex=5;
	this.divElement.appendChild(this.divElInner);
	}
	
// }}}
	,
	
// {{{ __createiframeEl()
    /**
    *Create iframe element for the widget-used to cover select boxes in IE.
     *
    *@private	
     */	
	__createiframeEl:function()
	{
	if(DHTMLSuite.clientInfoObj.isMSIE){
		this.iframeEl=document.createElement('<IFRAME src="about:blank" frameborder=0>');
		this.iframeEl.style.position='absolute';
		this.iframeEl.style.top='0px';
		this.iframeEl.style.left='0px';
		this.iframeEl.style.width='105%';
		this.iframeEl.style.height='105%';
		this.iframeEl.style.zIndex=1;
		this.iframeEl.style.visibility='visible';	
		if(!this.windowModel.isVisible)this.iframeEl.style.visibility='hidden';	
		this.divElement.appendChild(this.iframeEl);
	}	
	}
	
// }}}
	,
	
// {{{ __createTitleBar()
    /**
    *Create title bar element
     *
    *@private	
     */	
	__createTitleBar:function()
	{
	var ind=this.objectIndex;
	
	this.divTitleBar=document.createElement('DIV');	
// Creating title bar div
	this.divTitleBar.className='DHTMLSuite_windowTitleBar';
	this.divElInner.appendChild(this.divTitleBar);
	
	var buttonDiv=document.createElement('DIV');	
// Creating parent div for buttons
	buttonDiv.className='DHTMLSuite_windowButtonDiv';
	this.divTitleBar.appendChild(buttonDiv);
	
	if(this.windowModel.icon){
		var iconDiv=document.createElement('DIV');
		iconDiv.style.position='absolute';
		iconDiv.className='DHTMLSuite_windowIcon';
		iconDiv.style.backgroundImage='url("'+this.windowModel.icon+'")';
		iconDiv.style.backgroundPosition='left center';
		iconDiv.style.backgroundRepeat='no-repeat';
		iconDiv.style.left='0px';
		iconDiv.style.top='0px';
		var img=document.createElement('IMG');
		img.style.visibility='hidden';
		img.src=this.windowModel.icon;
		iconDiv.appendChild(img);
		this.divTitleIcon=iconDiv;
		this.divTitleBar.appendChild(iconDiv);
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__repositionTitleText()',50);
	}	
	
	this.divCloseButton=document.createElement('DIV');	
// Creating close button
	this.divCloseButton.onmouseover=this.__mouseoverCloseButton;
	this.divCloseButton.onmouseout=this.__mouseoutCloseButton;
	this.divCloseButton.className='DHTMLSuite_windowCloseButton';
	this.divCloseButton.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].close(); }
	this.divCloseButton.innerHTML='<span></span>';
	buttonDiv.appendChild(this.divCloseButton);
	DHTMLSuite.commonObj.__addEventEl(this.divCloseButton);	

	if(this.windowModel.isMinimizable){
		this.divMinimizeButton=document.createElement('DIV');	
// Creating minimize button
		this.divMinimizeButton.onmouseover=this.__mouseoverMinimizeButton;
		this.divMinimizeButton.onmouseout=this.__mouseoutMinimizeButton;
		this.divMinimizeButton.className='DHTMLSuite_windowMinimizeButton';
		this.divMinimizeButton.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].minimizeWindow(); }
		this.divMinimizeButton.innerHTML='<span></span>';
		buttonDiv.appendChild(this.divMinimizeButton);
		DHTMLSuite.commonObj.__addEventEl(this.divMinimizeButton);	
	
		this.divMaximizeButton=document.createElement('DIV');	
// Creating maximize button
		this.divMaximizeButton.onmouseover=this.__mouseoverMaximizeButton;
		this.divMaximizeButton.onmouseout=this.__mouseoutMaximizeButton;
		this.divMaximizeButton.className='DHTMLSuite_windowMaximizeButton';
		this.divMaximizeButton.onclick=function(){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].maximizeWindow(); }
		this.divMaximizeButton.innerHTML='<span></span>';
	
		buttonDiv.appendChild(this.divMaximizeButton);
		this.divMaximizeButton.style.display='none';
		DHTMLSuite.commonObj.__addEventEl(this.divMaximizeButton);	
	}	
	this.divElementTitle_txt=document.createElement('DIV');	
// Creating div element holding the title text
	this.divElementTitle_txt.className='DHTMLSuite_windowTitleInTitleBar';
	this.divTitleBar.onselectstart=function(){ return false; };
	this.divTitleBar.appendChild(this.divElementTitle_txt);	
	DHTMLSuite.commonObj.__addEventEl(this.divTitleBar);	
	}
	
// }}}
	,
	
// {{{ __repositionTitleText()
    /**
    *Reposition title text to fit the icon
     *
    *@private	
     */	
	__repositionTitleText:function()
	{
	this.divElementTitle_txt.style.marginLeft=(this.divTitleIcon.clientWidth)+'px';
	
	}
	
// }}}
	,
	
// {{{ __createTabRow()
    /**
    *Create tab row
     *
    *@private	
     */	
	__createTabRow:function()
	{
	this.divElementTabRow=document.createElement('DIV');
	this.divElementTabRow.className='DHTMLSuite_windowTabRow';
	this.divElInner.appendChild(this.divElementTabRow);
	
	}
	
// }}}
	,
	
// {{{ __createContentArea()
    /**
    *Create content area
     *
    *@private	
     */	
	__createContentArea:function()
	{
	this.divElContent=document.createElement('DIV');
	this.divElContent.className='DHTMLSuite_windowContent';
	this.divElContent.style.overflow='auto';
	this.divElInner.appendChild(this.divElContent);	
	}
	
// }}}
	,
	
// {{{ __createStatusBar()
    /**
    *Create status bar div
     *
    *@private	
     */	
	__createStatusBar:function()
	{
	this.divStatusBar=document.createElement('DIV');
	this.divStatusBar.className='DHTMLSuite_windowStatusBar';
	this.divElInner.appendChild(this.divStatusBar);	
	
	this.divResizeHandle=document.createElement('DIV');
	this.divResizeHandle.className='DHTMLSuite_windowResizeHandle';
	this.divResizeHandle.innerHTML='<span></span>';
	this.divStatusBar.appendChild(this.divResizeHandle);
	
	this.divStatusBarTxt=document.createElement('DIV');
	this.divStatusBarTxt.className='DHTMLSuite_windowStatusBarText';
	this.divStatusBar.appendChild(this.divStatusBarTxt);	
	
	}
	
// }}}
	,
	
// {{{ __populateTitleBar()
    /**
    *Populate title bar
     *
    *@private	
     */	
	__populateTitleBar:function()
	{
	this.divElementTitle_txt.innerHTML=this.windowModel.__getTitle();	
	}
	
// }}}
	,
	
// {{{ __populateTitleBar()
    /**
    *The purpose of this method is to initally populate content area with tab contents
     *
    *@private	
     */	
	__initiallyPopulateContentArea:function()
	{
	var contentObjects=this.windowModel.__getContentObjects();	
// Get an array of content objects
	for(var no=0;no<contentObjects.length;no++){
		this.__createContentForATab(contentObjects[no]);
	}	
	}
	
// }}}
	,
	
// {{{ __createContentForATab()
    /**
    *Create or move div for a new tab.
     *
     *	@param Object contentObj-object of class windowTabModel
     *
    *@private	
     */	
	__createContentForATab:function(contentObj)
	{
	if(contentObj.htmlElementId){
		if(document.getElementById(contentObj.htmlElementId)){
		this.contentDivs[contentObj.id]=document.getElementById(contentObj.htmlElementId);					
		}else{
		this.contentDivs[contentObj.id]=document.createElement('DIV');
		this.contentDivs[contentObj.id].id=contentObj.htmlElementId;
		}	
		this.divElContent.appendChild(this.contentDivs[contentObj.id]);		
	}	
	if(contentObj.contentUrl){
		this.loadContent(contentObj.id,contentObj.contentUrl);
	}	
	if(contentObj.textContent){
		this.contentDivs[contentObj.id].innerHTML=contentObj.textContent;
	}	
	this.contentDivs[contentObj.id].className='DHTMLSuite_windowContentInner';
	this.contentDivs[contentObj.id].style.display='none';	
	
	}
	
// }}}
	,
	
// {{{ __getActiveContentElement()
    /**
    *Returns a reference to active content element
     *
    *@private	
     */	
	__getActiveContentElement:function()
	{
	var contentObjects=this.windowModel.__getContentObjects();	
// Get an array of content objects
	for(var no=0;no<contentObjects.length;no++){
		if(contentObjects[no].id==this.windowModel.activeTabId){
		return this.contentDivs[contentObjects[no].id];
		}	
	}	
	}
	
// }}}
	,
	
// {{{ __populateTitleBar()
    /**
    *The purpose of this method is to display active content div
     *
    *@private	
     */	
	__displayActiveContent:function()
	{
	var contentObjects=this.windowModel.__getContentObjects();	
// Get an array of content objects
	for(var no=0;no<contentObjects.length;no++){
		if(contentObjects[no].id==this.windowModel.activeTabId){
		this.contentDivs[contentObjects[no].id].style.display='block';
		if(this.scrollPositions[contentObjects[no].id]){
			this.contentDivs[contentObjects[no].id].parentNode.scrollTop=this.scrollPositions[contentObjects[no].id];			
		}
		try{
			this.divElContent.style.overflow=contentObjects[no].overflow;
		}catch(e){
		}
		}else{
		this.contentDivs[contentObjects[no].id].style.display='none';	
		}	
	}		
	}
	
// }}}
	,
	
// {{{ __populateTabRow()
    /**
    *The purpose of this method is to create the clickable tabs in the tab row. Finally, it calls the __setLayoutOfTabs which takes care of the styling based on active and inactive tabs
     *
    *@private	
     */	
	__populateTabRow:function()
	{
	var ind=this.objectIndex;
	
	this.divElementTabRow.innerHTML='';	
// Clear existing content from the tab row	
	var contentObjects=this.windowModel.__getContentObjects();	
// Get an array of content objects
	
	if(DHTMLSuite.clientInfoObj.isMSIE){
		var table=document.createElement('<TABLE cellpadding="0" cellspacing="0" border="0">');
	}else{
		var table=document.createElement('TABLE');
		table.setAttribute('cellpadding',0);
		table.setAttribute('cellspacing',0);
		table.setAttribute('border',0);
	}
	
	this.divElementTabRow.appendChild(table);
	var tbody=document.createElement('TBODY');
	table.appendChild(tbody);
	var row=tbody.insertRow(0);
	for(var no=0;no<contentObjects.length;no++){
		if(!this.windowModel.__getIsDeleted(contentObjects[no].id)){
		var cell=row.insertCell(-1);
		cell.className='DHTMLSuite_windowATab';
		cell.id='windowTab_'+contentObjects[no].id;
		cell.setAttribute('contentId',contentObjects[no].id);
		cell.onclick=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__activateTabByClick(e); };
		DHTMLSuite.commonObj.__addEventEl(cell);	
		var innerDiv=document.createElement('DIV');
		innerDiv.className='DHTMLSuite_windowATabInnerDiv';
		innerDiv.innerHTML=contentObjects[no].tabTitle;
		cell.appendChild(innerDiv);
		}
	}
	
	this.__setLayoutOfTabs();
	}	
	
// }}}
	,
	
// {{{ __clearActiveAndInactiveStylingFromTabs()
    /**
    *The purpose of this method is to clear added css classes from active and inactive tabs.
     *
    *@private	
     */	
	__clearActiveAndInactiveStylingFromTabs:function()
	{
	var cells=this.divElementTabRow.getElementsByTagName('TD');	
// Get an array of <td> elements.
	var divs=this.divElementTabRow.getElementsByTagName('DIV');	
// Get an array of <td> elements.
	for(var no=0;no<cells.length;no++){
		cells[no].className=cells[no].className.replace('DHTMLSuite_windowActiveTabCell','');
		cells[no].className=cells[no].className.replace('DHTMLSuite_windowInactiveTabCell','');	
		cells[no].style.left='0px';	
	}	
	for(var no=0;no<divs.length;no++){
		divs[no].className=divs[no].className.replace(' DHTMLSuite_windowActiveTabCellContent','');
		divs[no].className=divs[no].className.replace(' DHTMLSuite_windowInactiveTabCellContent','');		
	}	
	
	}
	
// }}}
	,
	
// {{{ __clearActiveAndInactiveStylingFromTabs()
    /**
    *The purpose of this method is to set layout of active and inactive tabs in the tab row and also adjust the left position of each tab so that they overlap each other nicely
     *
    *@private	
     */	
	__setLayoutOfTabs:function()
	{
	this.__clearActiveAndInactiveStylingFromTabs();	
// Clear layout of tab
	
	var cells=this.divElementTabRow.getElementsByTagName('TD');	
// Get an array of <td> elements.
	var contentObjects=this.windowModel.__getContentObjects();	
// Get an array of content objects
	
	var activeTabIndex=0;
	
	for(var no=0;no<cells.length;no++){
		if(cells[no].id=='windowTab_'+this.windowModel.activeTabId){
		activeTabIndex=no;
		break;
		}		
	}	
	var leftPadding=0;
	if(activeTabIndex>0){
		leftPadding=-7;	
	}
	cells[0].style.zIndex=1;
	for(var no=1;no<activeTabIndex;no++){
		cells[no].style.left=leftPadding +'px';
		cells[no].style.zIndex=no+1;
		leftPadding-=7;		
	
	}

	
	for(var no=activeTabIndex;no<cells.length;no++){
		cells[no].style.left=leftPadding +'px';
		cells[no].style.zIndex=100-no;
		leftPadding-=7;
	}
	
	cells[activeTabIndex].style.zIndex=200;

	
	for(var no=0;no<cells.length;no++){
		var div=cells[no].getElementsByTagName('DIV')[0];
		if(no==activeTabIndex){
		cells[no].className=cells[no].className+' DHTMLSuite_windowActiveTabCell';
		div.className=div.className+' DHTMLSuite_windowActiveTabCellContent';
		}else{
		cells[no].className=cells[no].className+' DHTMLSuite_windowInactiveTabCell';	
		div.className=div.className+' DHTMLSuite_windowInactiveTabCellContent';
		}
	}	
	}
	
// }}}
	,
	
// {{{ __setSizeOfDivElements()
    /**
    *Set size of content area relative to window size.
     *
    *@private	
     */	
	__setSizeOfDivElements:function()
	{
	try{
		this.divElContent.style.height=(this.divElement.clientHeight-(this.divTitleBar.offsetHeight+this.divStatusBar.offsetHeight+this.divElementTabRow.offsetHeight+this.layoutOffsetHeightForTheStatusBar))+'px';
		if(DHTMLSuite.clientInfoObj.isMSIE&&DHTMLSuite.clientInfoObj.navigatorVersion<7){
		this.divElContent.style.width=this.divStatusBar.clientWidth+'px';
		}
	}catch(e){
		this.divElContent.style.height='1px';
	}
	
	try{
		if(this.windowModel.__getState()=='minimized')this.divElement.style.height=(this.divTitleBar.offsetHeight+this.divElementTabRow.offsetHeight+this.divStatusBar.offsetHeight)+'px';
	}catch(e)
	{
	}
	}
	
// }}}
	,
	
// {{{ __activateTabByClick()
    /**
    *Click on tab
     *
    *@private	
     */	
	__activateTabByClick:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);	
	if(src.tagName.toLowerCase()=='div')src=src.parentNode;
	var idOfContent=src.getAttribute('contentId');
	this.activateTab(idOfContent);
	
	}
	
// }}}
	,
	
// {{{ __updateWindowModel()
    /**
    *Update window model after resize, drag etc.
     *
    *@private	
     */	
	__updateWindowModel:function()
	{
	this.windowModel.__setWidth(this.divElement.style.width.replace('px','')/1);
	if(this.windowModel.__getState()!='minimized')this.windowModel.__setHeight(this.divElement.style.height.replace('px','')/1);
	this.windowModel.__setXPos(this.divElement.style.left.replace('px','')/1);
	this.windowModel.__setYPos(this.divElement.style.top.replace('px','')/1);	
	this.windowModel.__setZIndex(this.divElement.style.zIndex);	
	this.__saveCookie();
	}
	
// }}}
	,	
	
// {{{ __saveCookie()
    /**
    *The purpose of this function is to save cookies 
     *
    *@private	
     */	
	__saveCookie:function()
	{
	if(!this.windowModel.cookieName)return;
	var cookieValue='width:'+this.windowModel.__getWidth();
	cookieValue+=',height:'+this.windowModel.__getHeight();
	
	cookieValue+=',xPos:'+this.windowModel.__getXPos();
	cookieValue+=',yPos:'+this.windowModel.__getYPos();
	cookieValue+=',zIndex:'+this.divElement.style.zIndex;
	cookieValue+=',activeTabId:'+this.windowModel.__getActiveTabId();
	cookieValue+=',state:'+this.windowModel.__getState();
	DHTMLSuite.commonObj.setCookie(this.windowModel.cookieName,cookieValue,500);	
	}
	
// }}}
	,
	
// {{{ __getWindowPropertiesFromCookie()
    /**
    *Get window properties from cookie
     *
    *@private	
     */	
	__getWindowPropertiesFromCookie:function()
	{
	if(!this.windowModel.cookieName)return;	
	var cookieValue=DHTMLSuite.commonObj.getCookie(this.windowModel.cookieName);
	var propertyArray=DHTMLSuite.commonObj.getAssociativeArrayFromString(cookieValue);
	if(!propertyArray)return;
	if(propertyArray.width)this.windowModel.__setWidth(propertyArray.width);
	if(propertyArray.height)this.windowModel.__setHeight(propertyArray.height);
	if(propertyArray.xPos)this.windowModel.__setXPos(propertyArray.xPos);
	if(propertyArray.yPos)this.windowModel.__setYPos(propertyArray.yPos);
	if(propertyArray.zIndex)this.windowModel.__setZIndex(propertyArray.zIndex);
	if(propertyArray.state)this.windowModel.__setState(propertyArray.state);
	if(propertyArray.activeTabId)this.windowModel.__setActiveTabId(propertyArray.activeTabId);
	}
	
// }}}
	,
	
// {{{ __initiallySetPositionAndSizeOfWindow()
    /**
    *Set initial size and position of window.
     *
    *@private	
     */	
	__initiallySetPositionAndSizeOfWindow:function()
	{
	this.divElement.style.position='absolute';
		
	var width=this.windowModel.__getWidth();
	var height=this.windowModel.__getHeight();
	var xPos=this.windowModel.__getXPos();
	var yPos=this.windowModel.__getYPos();
	var zIndex=this.windowModel.__getZIndex();
	var state=this.windowModel.__getState();
	if(width&&width!='0')this.divElement.style.width=width+'px';
	if(height&&height!='0')this.divElement.style.height=height+'px';
	if(xPos)this.divElement.style.left=xPos+'px';
	if(yPos)this.divElement.style.top=yPos+'px';
	if(zIndex)this.divElement.style.zIndex=zIndex;
	if(state&&state=='minimized')this.minimizeWindow();
	
	}
	
// }}}
	,
	
// {{{ __initiallySetPositionAndSizeOfWindow()
    /**
    *The purpose of this method is to figure out which tab was clicked an call the deleteTab method with the id of that tab as only argument
     *
    *@private	
     */	
	__deleteTabByClick:function()
	{	
	
// NOT YET IMPLEMENTED
	}	
	
// }}}
	,
	
// {{{ __makeWindowResizable()
    /**
    *The purpose of this method is to make the window resizable
     *
    *@private	
     */	
	__makeWindowResizable:function()
	{
	if(!this.windowModel.isResizable){
		this.divResizeHandle.style.visibility='hidden';
		return;
	}
	var ind=this.objectIndex;
	try{
		this.resizeObj=new DHTMLSuite.resize({ minWidth:this.windowModel.minWidth,minHeight:this.windowModel.minHeight,maxWidth:this.windowModel.maxWidth,maxHeight:this.windowModel.maxHeight } );
	}catch(e){
		alert('You need to include dhtmlSuite-resize.js');
	}
	this.resizeObj.setElementRoResize(this.divElement);
	this.resizeObj.addResizeHandle(this.divResizeHandle,'southeast');
	this.resizeObj.setCallbackOnBeforeResize('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__isOkToResize');
	this.resizeObj.setCallbackOnAfterResize('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__updateWindowModel');
	this.resizeObj.setCallbackOnDuringResize('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__setSizeOfDivElements');
	this.resizeObj.init();	
	
	this.divStatusBarTxt.onselectstart=function(){ return false; };
	this.divStatusBar.onselectstart=function(){ return false; };
	
	DHTMLSuite.commonObj.__addEventEl(this.divStatusBarTxt);
	DHTMLSuite.commonObj.__addEventEl(this.divStatusBar);
	
	}
	
// }}}
	,
	
// {{{ __isOkToResize()
    /**
    *The purpose of this method is to return true or false if it's ok to resize the window(true if it's maximized, false if it's minimized)
     *
    *@private	
     */	
	__isOkToResize:function()
	{
	if(this.windowModel.__getState()=='minimized')return false;
	return true;
	}
	
// }}}
	,
	
// {{{ __makeWindowDragable()
    /**
    *Make window dragable if that option is true
     *
    *@private	
     */		
	__makeWindowDragable:function()
	{
	var ind=this.objectIndex;
	if(this.windowModel.isDragable){	
// Add drag and drop features to the window.
		try{
		this.referenceToDragDropObject=new DHTMLSuite.dragDropSimple({ elementReference: this.divElement,cloneNode:false });	
		}catch(e){
		alert('You need to include dhtmlSuite-dragDropSimple.js');
		}
		this.referenceToDragDropObject.setCallbackOnAfterDrag('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__updateWindowModel');		
		this.referenceToDragDropObject.setCallbackOnBeforeDrag('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__updateWindowModel');		
		this.referenceToDragDropObject.addDragHandle(this.divTitleBar);
		this.divTitleBar.style.cursor='move';
		this.referenceToDragDropObject.__setNewCurrentZIndex(this.windowModel.__getZIndex());			
	}			
	}
	
// }}}	
	,
	
// {{{ deleteWindow()
    /**
    *Delete window, i.e. hide it
     *	@deprecated-use the close()method insetad
     *
    *@private	
     */	
	deleteWindow:function()
	{
	this.close();
	}
	
// }}}
	,
	
// {{{ close()
    /**
    *Closes window, i.e. hide it
     *
    *@public	
     */	
	close:function()
	{
	this.windowModel.isVisible=true;
	this.divElement.style.visibility='hidden';
	this.divElement.style.display='none';
	if(this.iframeEl)this.iframeEl.style.visibility='hidden';	
	this.__handleCallback('onClose');		
	}
	
// }}}
	,
	
// {{{ purge()
    /**
    *Removes the HTML for the windows from the DOM, i.e. the view.
     *
    *@public	
     */	
	purge:function()
	{
	DHTMLSuite.discardElement(this.divElement);
	}
	
// }}}
	,
	
// {{{ getDivElement()
    /**
    *Return main div element for this widget.
     *
    *@public	
     */	
	getDivElement:function()
	{
	return this.divElement;
	}
	
// }}}
	,
	
// {{{ restoreWindow()
    /**
    *Restore a deleted window, i.e. show it.
     *
     *	@deprecated-use show()instead.
     *
    *@public	
     */	
	restoreWindow:function()
	{
	this.show();
	}
	
// }}}
	,
	
// {{{ __handleCallback()
    /**
    *Execute callback action
     *
     *	@param String action-Callback action
     *
    *@private	
     */	
	__handleCallback:function(action)
	{
	var callbackString='';
	switch(action){
		case "onClose":
		callbackString=this.windowModel.callbackOnClose;
		break;		
	}
	if(callbackString){
		var ind=this.objectIndex;
		callbackString=callbackString+'(DHTMLSuite.variableStorage.arrayDSObjects['+ind+'])';
		return eval(callbackString);		
	}	
	}
	
// }}}
	,
	
// {{{ minimizeWindow()
    /**
    *Minimize a window
     *
    *@public	
     */	
	minimizeWindow:function()
	{
	this.windowModel.__setState('minimized');
	
	this.divElContent.style.display='none';
	this.divStatusBar.style.display='none';
	this.divElementTabRow.style.display='none';
	
	this.divMinimizeButton.style.display='none';
	this.divMaximizeButton.style.display='block';
	this.__setSizeOfDivElements();
	this.__saveCookie();
	}
	
// }}}
	,
	
// {{{ maximizeWindow()
    /**
    *maximize a window
     *
    *@public	
     */	
	maximizeWindow:function()
	{
	this.windowModel.__setState('maximized');
	this.divElContent.style.display='block';
	this.divStatusBar.style.display='block';
	this.divElementTabRow.style.display='block';	
	this.divMinimizeButton.style.display='block';
	this.divMaximizeButton.style.display='none';
	this.divElement.style.height=this.windowModel.__getHeight()+'px';
	this.__setSizeOfDivElements();
	this.__saveCookie();
	}
	
// }}}
	,
	
// {{{ slideWindowToXAndY()
    /**
    *Slide a window to a specific coordinate
     *
     *	Int toX-Slide to (x-coordinate in pixels)
     *	Int toY-Slide to (y-coordinate in pixels)
     *
    *@public	
     */		
	slideWindowToXAndY:function(toX,toY)
	{
	var slideFactors=this.__getSlideFactors(toX,toY);
	var slideDirections=this.__getSlideDirections(toX,toY);
	var slideTo=new Object();
	slideTo.x=toX;
	slideTo.y=toY;
	var currentPos=new Object();
	currentPos.x=this.windowModel.__getXPos();
	currentPos.y=this.windowModel.__getYPos();
	if(currentPos.x==slideTo.x&&currentPos.y==slideTo.y)return;
	this.__performSlide(slideTo,currentPos,slideFactors,slideDirections);		
	}
	
// }}}
	,
	
// {{{ __performSlide()
    /**
    *Execute slide process
     *
    *@private	
     */	
	__performSlide:function(slideTo,currentPos,slideFactors,slideDirections)
	{
	var ind=this.objectIndex;
	currentPos.x=currentPos.x/1+(this.slideSpeed*slideFactors.y*slideDirections.x);
	currentPos.y=currentPos.y/1+(this.slideSpeed*slideFactors.x*slideDirections.y);
	
	repeatSlide=false;
	
	if(slideDirections.x<0){
		if(currentPos.x<=slideTo.x){
		currentPos.x=slideTo.x;
		}else{
		repeatSlide=true;
		}
	}else{
		if(currentPos.x>=slideTo.x){
		currentPos.x=slideTo.x;
		}else{
		repeatSlide=true;
		}
	}
	if(slideDirections.y<0){
		if(currentPos.y<=slideTo.y){
		currentPos.y=slideTo.y;
		}else{
		repeatSlide=true;
		}
	}else{
		if(currentPos.y>=slideTo.y){
		currentPos.y=slideTo.y;
		}else{
		repeatSlide=true;
		}
	}
	
	this.divElement.style.left=Math.round(currentPos.x)+'px';
	this.divElement.style.top=Math.round(currentPos.y)+'px';

	
//alert('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__performSlide({x:'+slideTo.x+',y:'+slideTo.y+'},{x:'+currentPos.x+',y:'+currentPos.y+'},{x:'+slideFactors+',y:'+slideFactors.y+'},{ x:'+slideDirections.x+',y:'+slideDirections.y+'})');
	if(repeatSlide){
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__performSlide({x:'+slideTo.x+',y:'+slideTo.y+'},{x:'+currentPos.x+',y:'+currentPos.y+'},{x:'+slideFactors.x+',y:'+slideFactors.y+'},{ x:'+slideDirections.x+',y:'+slideDirections.y+'})',10); 
	}else{
		this.__updateWindowModel();	
	}
	}
	
// }}}
	,
	
// {{{ __getSlideFactors()
    /**
    *Return slide factor (x relative to y)
     *
    *@private	
     */	
	__getSlideFactors:function(toX,toY)
	{
	var retArray=new Object();
	
	var currentX=this.windowModel.__getXPos();
	var currentY=this.windowModel.__getYPos();
	
	var distance_x=Math.abs(toX-currentX);
	var distance_y=Math.abs(toY-currentY);
	
	if(distance_x<distance_y){
		retArray.x=distance_y/distance_x;
		retArray.y=1;		
	}else{
		retArray.y=distance_x/distance_y;
		retArray.x=1;			
	}
	return retArray;	
	}
	
// }}}
	,
	
// {{{ __getSlideDirections()
    /**
    *Return slide directions for the x and y axis( returns an associative array for x and y. value will be -1 or 1)
     *
    *@private	
     */	
	__getSlideDirections:function(toX,toY)
	{
	var retArray=new Object();
	if(toX<this.windowModel.__getXPos())retArray.x=-1; else retArray.x=1;
	if(toY<this.windowModel.__getYPos())retArray.y=-1; else retArray.y=1;
	return retArray;
	}
	
// }}}
	,
	
// {{{ __showHideButtonElements()
    /**
    *Show or hide button elements
     *
    *@private	
     */	
	__showHideButtonElements:function()
	{
	if(this.windowModel.isClosable)this.divCloseButton.style.display='block'; else this.divCloseButton.style.display='none';	
	
	}	
	
// }}}
	,
	
// {{{ __mouseoverButton()
    /**
    *Mouse over effect-buttons
     *
    *@private	
     */		
	__mouseoverCloseButton:function()
	{
	this.className=this.className+' DHTMLSuite_windowCloseButtonOver';	
	}
	
// }}}
	,
	
// {{{ __mouseoutButton()
    /**
    *Mouse out effect-buttons
     *
    *@private	
     */	
	__mouseoutCloseButton:function()
	{
	this.className=this.className.replace(' DHTMLSuite_windowCloseButtonOver','');	
	}
	,
	
// {{{ __mouseoverButton()
    /**
    *Mouse over effect-buttons
     *
    *@private	
     */		
	__mouseoverMinimizeButton:function()
	{
	this.className=this.className+' DHTMLSuite_windowMinimizeButtonOver';	
	}
	
// }}}
	,
	
// {{{ __mouseoutButton()
    /**
    *Mouse out effect-buttons
     *
    *@private	
     */	
	__mouseoutMinimizeButton:function()
	{
	this.className=this.className.replace(' DHTMLSuite_windowMinimizeButtonOver','');	
	}
	,
	
// {{{ __mouseoverButton()
    /**
    *Mouse over effect-buttons
     *
    *@private	
     */		
	__mouseoverMaximizeButton:function()
	{
	this.className=this.className+' DHTMLSuite_windowMaximizeButtonOver';	
	}
	
// }}}
	,
	
// {{{ __mouseoutButton()
    /**
    *Mouse out effect-buttons
     *
    *@private	
     */	
	__mouseoutMaximizeButton:function()
	{
	this.className=this.className.replace(' DHTMLSuite_windowMaximizeButtonOver','');	
	}
	
}

DHTMLSuite.windowCollection=function(){
	var windowWidgets;	
	var spaceBetweenEachWindowWhenCascaded;
	var numberOfColumnsWhenTiled;
	var divWindowsArea;				
// Eventual div where the windows should be positioned
	this.windowWidgets=new Array();
	this.spaceBetweenEachWindowWhenCascaded=20;
	this.numberOfColumnsWhenTiled=2;
	
}

DHTMLSuite.windowCollection.prototype=
{
	
// {{{ addWindow()
    /**
    *Add a window to a window collection
     *	@param Object wnidowWidgetReference-object of class DHTMLSuite.windowWidget
     *
    *@public	
     */		
	addWindow:function(windowWidgetReference)	
	{
	this.windowWidgets[this.windowWidgets.length]=windowWidgetReference;
	
	}
	
// }}}
	,
	
// {{{ tile()
    /**
    *Tile all windows in collection.
     *
    *@public	
     */	
	tile:function()
	{
	this.windowWidgets=this.windowWidgets.sort(this.__sortItems);
	var browserWidth=DHTMLSuite.clientInfoObj.getBrowserWidth()-20;
	var browserHeight=DHTMLSuite.clientInfoObj.getBrowserHeight()-20;
	
	var offsetX=10;
	var offsetY=10;
	
	if(this.divWindowsArea){
		browserWidth=this.divWindowsArea.clientWidth;
		browserHeight=this.divWindowsArea .clientHeight;
		offsetX=DHTMLSuite.commonObj.getLeftPos(this.divWindowsArea);
		offsetY=DHTMLSuite.commonObj.getTopPos(this.divWindowsArea);
	}
		
	var windowWidth=Math.floor(browserWidth/this.numberOfColumnsWhenTiled);
	var windowHeight=Math.floor(browserHeight / Math.ceil(this.windowWidgets.length / this.numberOfColumnsWhenTiled));
	

	for(var no=0;no<this.windowWidgets.length;no++){
		this.windowWidgets[no].setWidthOfWindow(windowWidth);
		this.windowWidgets[no].setHeightOfWindow(windowHeight-5);
		var xPos=offsetX+(windowWidth*(no % this.numberOfColumnsWhenTiled));
		var yPos=offsetY+(windowHeight*Math.floor((no)/ this.numberOfColumnsWhenTiled));
		this.windowWidgets[no].slideWindowToXAndY(xPos,yPos);
		
	}		
	}
	
// }}}
	,
	
// {{{ cascade()
    /**
    *Cascade all windows in collection.
     *
    *@public	
     */	
	cascade:function()
	{
	this.windowWidgets=this.windowWidgets.sort(this.__sortItems);
	var browserWidth=DHTMLSuite.clientInfoObj.getBrowserWidth()- 50;
	var browserHeight=DHTMLSuite.clientInfoObj.getBrowserHeight()- 50;
	
	var offsetX=10;
	var offsetY=10;	
	if(this.divWindowsArea){
		browserWidth=this.divWindowsArea.clientWidth;
		browserHeight=this.divWindowsArea .clientHeight;
		offsetX=DHTMLSuite.commonObj.getLeftPos(this.divWindowsArea);
		offsetY=DHTMLSuite.commonObj.getTopPos(this.divWindowsArea);
	}
	
	var windowWidth=browserWidth-((this.windowWidgets.length-1)* this.spaceBetweenEachWindowWhenCascaded);
	var windowHeight=browserHeight-((this.windowWidgets.length-1)* this.spaceBetweenEachWindowWhenCascaded);
	
	
	for(var no=0;no<this.windowWidgets.length;no++){
		this.windowWidgets[no].setWidthOfWindow(windowWidth);
		this.windowWidgets[no].setHeightOfWindow(windowHeight);
		this.windowWidgets[no].slideWindowToXAndY(offsetX+this.spaceBetweenEachWindowWhenCascaded*(no),offsetY+this.spaceBetweenEachWindowWhenCascaded*(no));
	}	
	}
	
// }}}
	,
	
// {{{ minimize()
    /**
    *Minimize all windows in the collection
     *
    *@public	
     */	
	minimize:function()
	{
	for(var no=0;no<this.windowWidgets.length;no++){
		this.windowWidgets[no].minimizeWindow();
	}	
	}
	
// }}}
	,
	
// {{{ maximize()
    /**
    *maximize all windows in the collection
     *
    *@public	
     */	
	maximize:function()
	{
	for(var no=0;no<this.windowWidgets.length;no++){
		this.windowWidgets[no].maximizeWindow();
	}	
	}
	
// }}}
	,
	
// {{{ setNumberOfColumnsWhenTiled()
    /**
    *Number of columns in "tile" mode
     *	@param Integer-number of columns ( default=1 )
     *
    *@public	
     */	
	setNumberOfColumnsWhenTiled:function(numberOfColumnsWhenTiled)
	{
	this.numberOfColumnsWhenTiled=numberOfColumnsWhenTiled;
	}
	
// }}}
	,
	
// {{{ setDivWindowsArea()
    /**
    *Specify a HTML element where windows will be tiled or cascaded on, i.e. The windows will not go outside the boundaries of these elements when they are being cascaded or tiled.
     *	@param Object divWindowsArea-Id or direct reference to HTML element on your page.
     *
    *@public	
     */	
	setDivWindowsArea:function(divWindowsArea)
	{
	divWindowsArea=DHTMLSuite.commonObj.getEl(divWindowsArea);
	this.divWindowsArea=divWindowsArea;
	}
	
// }}}
	,
	
// {{{ __sortItems()
    /**
     *	Private sort method used to sort window widgets.
     *	
    *@private	
     */	
	__sortItems:function(a,b)
	{
	return a.windowModel.__getZIndex()/1-b.windowModel.__getZIndex()/1;
	}	
	
	
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML window scripts
*
*	Created:			January, 27th, 2006
*	@class Purpose of class:	Resize element widget
*		
*	Css files used by this script:	
*
*	Demos of this class:		demo-resize-1.html
*
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class Resize widget
*	
* @param Array-Associative array of resize properties(possible keys: minWidth,maxWidth,minHeight,maxHeight,preserveRatio,callbackOnBeforeResize,callbackOnAfterResize,callbackOnDuringResize,resizeInWhichDirections)
* @version		1.0
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/
DHTMLSuite.resize=function(propertyArray)
{
	var resizeWhichElement;
	var resizeHandles;

	this.resizeHandles=new Array();
	var preserveRatio;
	var minWidth;
	var maxWidth;
	var minHeight;
	var maxHeight;
	var callbackOnBeforeResize;
	var callbackOnAfterResize;
	var callbackOnDuringResize;
	var resizeTimer;
	var resizeInWhichDirections;
	var resizeHandleelativePath;
	var objectIndex;
	
	var mouseStartPos;			
// Position of mouse pointer when the resize process starts
	var initElementSize;
	var currentResizeDirection;		
// In which direction are we currently resizing the element(example: "west","east","southeast")
	var classNameOfResizeHandles;	
// Class name of resize handles, in case they are created dynamically
	var layoutCSS;
	var resizeHandlerOffsetInPixels;
	var elementToResizeIsAbsolutePositioned;
	var sizeOfWidthRelativeToHeight;
	
	
	this.minWidth=0;
	this.minHeight=0;
	this.maxWidth=150000;
	this.maxHeight=150000;
	this.classNameOfResizeHandles='DHTMLSuite_resize_handle';
	this.layoutCSS='resize.css';
	this.resizeHandleelativePath='resize/small_square.gif';
	this.resizeTimer=-1;
	this.mouseStartPos=new Object();
	this.initElementSize=new Object();
	this.resizeHandlerOffsetInPixels=4;
	this.elementToResizeIsAbsolutePositioned=false;
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}	
	if(propertyArray)this.__setInitProps(propertyArray);
	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;	
}
DHTMLSuite.resize.prototype=
{
	
// {{{ setLayoutCss()
    /**
     *	Specify new css file for the resize widget, default=resize.css
     *	
    *@public	
     */	
	setLayoutCss:function(cssFileName)
	{
	this.layoutCSS=cssFileName;
	}
	
// }}}
	,
	
// {{{ setLayoutCss()
    /**
     *	Specify new css file for the resize widget, default=resize.css
     *	
    *@private	
     */	
	setCssClassNameForResizeHandles:function(classNameOfResizeHandles)
	{
	this.classNameOfResizeHandles=classNameOfResizeHandles;
	}
	
// }}}
	,	
	
// {{{ setElementRoResize()
    /**
     *	Specify which element you want to resize
     *	
     *	@param Object elementReference-id or direct reference to HTML element(this element should be either absolute or relative positioned)
     *	
    *@public	
     */	
	setElementRoResize:function(elementReference)
	{
	elementReference=DHTMLSuite.commonObj.getEl(elementReference);
	this.resizeWhichElement=elementReference;		
	}
	
// }}}
	,
	
// {{{ addResizeHandle()
    /**
     *	Specify a sub element of the reized element which acts as a resize handle
     *	
     *	@param Object resizeHandle-id or direct reference to HTML element
     *	@param String direction-Resize direction(possible values "all", "south","west","east","north","northwest","northheast","southwest","southeast")
     *	
    *@public	
     */		
	addResizeHandle:function(resizeHandle,direction)
	{
	resizeHandle=DHTMLSuite.commonObj.getEl(resizeHandle);
	var index=this.resizeHandles.length;
	this.resizeHandles[index]=new Object();
	this.resizeHandles[index].element=resizeHandle;
	this.resizeHandles[index].direction=direction;		
	}
	
// }}}
	,
	
// {{{ setMinWidthInPixels()
    /**
     *	Specify minimum width
     *	
     *	@param Integer pixels-Minimum width of resized element in pixels. i.e. restrict the resize widget from making it smaller.
     *	
    *@public	
     */	
	setMinWidthInPixels:function(pixels)
	{
	this.minWidth=pixels;
	
	}
	
// }}}
	,
	
// {{{ setMaxWidthInPixels()
    /**
     *	Specify maximum width
     *	
     *	@param Integer pixels-Maximum width of resized element in pixels. i.e. restrict the resize widget from making it larger.
     *	
    *@public	
     */	
	setMaxWidthInPixels:function(pixels)
	{
	this.maxWidth=pixels;
	}
	
// }}}
	,
	
// {{{ setMinHeightInPixels()
    /**
     *	Specify minimum width
     *	
     *	@param Integer pixels-minimum width of resized element in pixels. i.e. restrict the resize widget from making it smaller.
     *	
    *@public	
     */	
	setMinHeightInPixels:function(pixels)
	{
	this.minHeight=pixels;
	}
	
// }}}
	,
	
// {{{ setMaxHeightInPixels()
    /**
     *	Specify maximum height
     *	
     *	@param Integer pixels-maximum height of resized element in pixels. i.e. restrict the resize widget from making it smaller.
     *	
    *@public	
     */	
	setMaxHeightInPixels:function(pixels)
	{
	this.maxHeight=pixels;
	
	}
	
// }}}
	,
	
// {{{ setCallbackOnBeforeResize()
    /**
     *	Specify name of call back function which will be executed before restarts starts
     *	
     *	@param String functionName-Only the name of the function to execute, example. "myCallbackFunction", a reference to this resize object will be sent as only argument to this function.
     *	
    *@public	
     */	
	setCallbackOnBeforeResize:function(functionName)
	{
	this.callbackOnBeforeResize=functionName;
	}
	
// }}}
	,
	
// {{{ setCallbackOnAfterResize()
    /**
     *	Specify name of call back function which will be executed when restarts ends(i.e. mouse up)
     *	
     *	@param String functionName-Only the name of the function to execute, example. "myCallbackFunction", a reference to this resize object will be sent as only argument to this function.
     *	
    *@public	
     */	
	setCallbackOnAfterResize:function(functionName)
	{
	this.callbackOnAfterResize=functionName;
	}
	
// }}}
	,
	
// {{{ setCallbackOnDuringResize()
    /**
     *	Specify name of call back function which will be executed during resize
     *	
     *	@param String functionName-Only the name of the function to execute, example. "myCallbackFunction", a reference to this resize object will be sent as only argument to this function.
     *	
    *@public	
     */	
	setCallbackOnDuringResize:function(functionName)
	{
	this.callbackOnDuringResize=functionName;	
	}
	
// }}}
	,
	
// {{{ setResizeHandlerOffsetInPixels()
    /**
     *	Specify offset in pixels for automatically created resize handles. If you don't add a resize handle manually, automatic resize handles will be created for you. These will be placed along the edge of the resizable element. You can move these handles by specifying an offset value.
     *	
     *	@param Integer offsetInPx-Offset in pixels
     *	
    *@public	
     */	
	setResizeHandlerOffsetInPixels:function(offsetInPx)
	{
	this.resizeHandlerOffsetInPixels=offsetInPx;	
	}
	
// }}}
	,
	
// {{{ setIsResizeElementAbsolutePositioned()
    /**
     *	Specify if resized element is absolute positioned.
     *	
     *	@param Boolean absolutePositioned-Is the resizable element absolute positioned on your page ?
     *	
    *@public	
     */	
	setIsResizeElementAbsolutePositioned:function(absolutePositioned)
	{
	this.elementToResizeIsAbsolutePositioned=absolutePositioned;
	}
	
// }}}
	,
	
// {{{ getReferenceToResizedElement()
    /**
     *	Returns a reference to the resizable element
     *	
     *	
    *@public	
     */	
	getReferenceToResizedElement:function()
	{
	return this.resizeWhichElement;
	}
	
// }}}
	,
	
// {{{ init()
    /**
     *	Initializes the widget. Call this method after you are finished with your set-method calls.
     *	
     *	
    *@public	
     */	
	init:function()
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);
	this.__setAspectRatio();
	this.__createResizeHandlesAutomatically();
	this.__setCursorOfResizeHandles();
	this.__addEventsToResizeHandles();
	this.__addBasicEvents();
	}
	
// }}}
	,
	
// {{{ __setAspectRatio()
    /**
     *	Determine aspect ratio
     *	
    *@private	
     */	
	__setAspectRatio:function()
	{
	this.sizeOfWidthRelativeToHeight=this.resizeWhichElement.offsetWidth / this.resizeWhichElement.offsetHeight;	
	}
	
// }}}
	,
	
// {{{ __setInitProps()
    /**
     *	Save initial properties sent to the constructor
     *	@param Array-associative array of properties.
     *	
    *@private	
     */	
	__setInitProps:function(propertyArray)
	{
	if(propertyArray.minWidth)this.minWidth=propertyArray.minWidth;	
	if(propertyArray.maxWidth)this.maxWidth=propertyArray.maxWidth;	
	if(propertyArray.minHeight)this.minHeight=propertyArray.minHeight;	
	if(propertyArray.maxHeight)this.maxHeight=propertyArray.maxHeight;	
	if(propertyArray.preserveRatio)this.preserveRatio=propertyArray.preserveRatio;	
	if(propertyArray.callbackOnBeforeResize)this.callbackOnBeforeResize=propertyArray.callbackOnBeforeResize;	
	if(propertyArray.callbackOnAfterResize)this.callbackOnAfterResize=propertyArray.callbackOnAfterResize;	
	if(propertyArray.callbackOnDuringResize)this.callbackOnDuringResize=propertyArray.callbackOnDuringResize;	
	if(propertyArray.resizeInWhichDirections)this.resizeInWhichDirections=propertyArray.resizeInWhichDirections;	
	}
	
// }}}
	,
	
// {{{ __createResizeHandlesAutomatically()
    /**
     *	Create resize handles automatically.
     *	
    *@private	
     */	
	__createResizeHandlesAutomatically:function()
	{
	if(this.resizeHandles.length>0)return;
	if(!this.resizeInWhichDirections||this.resizeInWhichDirections=='all')this.resizeInWhichDirections='west,east,north,south,southeast,southwest,northwest,northeast';
	
	var directions=this.resizeInWhichDirections.split(/,/g);
	for(var no=0;no<directions.length;no++){
		this.resizeHandles[no]=new Object();
		this.resizeHandles[no].element=document.createElement('DIV');
		this.resizeHandles[no].element.className=this.classNameOfResizeHandles;
		this.resizeWhichElement.appendChild(this.resizeHandles[no].element);
		this.resizeHandles[no].direction=directions[no];
		var el=this.resizeHandles[no].element;
		el.style.position='absolute';
		el.style.top='50%';
		el.style.left='50%';
		if(directions[no].indexOf('west')>=0)el.style.left=(0-this.resizeHandlerOffsetInPixels)+'px';
		if(directions[no].indexOf('east')>=0){
		el.style.right=(0-this.resizeHandlerOffsetInPixels)+'px';
		el.style.left='';
		}
		if(directions[no].indexOf('north')>=0)el.style.top=(0-this.resizeHandlerOffsetInPixels)+'px';
		if(directions[no].indexOf('south')>=0){
		el.style.bottom=(0-this.resizeHandlerOffsetInPixels)+'px';
		el.style.top='';
		}
		
		if(el.style.top=='50%')el.style.marginTop='-'+Math.round(el.offsetHeight/2)+'px';	
		if(el.style.left=='50%')el.style.marginLeft='-'+Math.round(el.offsetWidth/2)+'px';	
		
	}		
	}	
	
// }}}
	,
	
// {{{ __setCursorOfResizeHandles()
    /**
     *	Set css cursor attributes for all the resize handles depending of how they resize the element
     *	
    *@private	
     */	
	__setCursorOfResizeHandles:function()
	{
	for(var no=0;no<this.resizeHandles.length;no++){
		
		switch(this.resizeHandles[no].direction){
		case "west":
		case "east":
			this.resizeHandles[no].element.style.cursor='e-resize';	
			break;
		case "north":
		case "south":
			this.resizeHandles[no].element.style.cursor='s-resize';
			break;
		case "northeast":
			this.resizeHandles[no].element.style.cursor='ne-resize';
			break;
		case "northwest":
			this.resizeHandles[no].element.style.cursor='nw-resize';
			break;
		case "southwest":
			this.resizeHandles[no].element.style.cursor='sw-resize';
			break;
		case "southeast":
			this.resizeHandles[no].element.style.cursor='se-resize';
			break;		
		}		
	}	
	}
	
// }}}
	,
	
// {{{ __addEventsToResizeHandles()
    /**
    *Add events to resize handles.
     *	
    *@private	
     */	
	__addEventsToResizeHandles:function()
	{
	var ind=this.objectIndex;
	for(var no=0;no<this.resizeHandles.length;no++){
		this.resizeHandles[no].element.onmousedown=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResize(e); }
		this.resizeHandles[no].element.onselectstart=function(){ return false; };	
		DHTMLSuite.commonObj.__addEventEl(this.resizeHandles[no].element);
		this.resizeHandles[no].element.setAttribute('resizeInDirection',this.resizeHandles[no].direction);	
		this.resizeHandles[no].element.resizeInDirection=this.resizeHandles[no].direction;		
	}	
	}
	
// }}}
	,
	
// {{{ __addBasicEvents()
    /**
    *Add basic events for the widget
     *	
    *@private	
     */	
	__addBasicEvents:function()
	{
	var ind=this.objectIndex;
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mousemove',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__processResize(e); },ind);
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mouseup',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__endResize(e); },ind);	
	if(!document.documentElement.onselectstart)document.documentElement.onselectstart=function(){ return DHTMLSuite.commonObj.__isTextSelOk(); };	
	
	}
	
// }}}
	,
	
// {{{ __initResize()
    /**
    *Resize process starts
     *	
    *@private	
     */	
	__initResize:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	if(this.callbackOnBeforeResize){
		var ok=this.__handleCallback('beforeResize');
		if(!ok)return;
	}
	DHTMLSuite.commonObj.__setTextSelOk(false);
	this.resizeTimer=0;
	this.mouseStartPos.x=e.clientX;
	this.mouseStartPos.y=e.clientY;
	this.initElementSize.width=this.resizeWhichElement.offsetWidth;
	this.initElementSize.height=this.resizeWhichElement.offsetHeight;
	this.initElementSize.top=this.resizeWhichElement.style.top.replace('px','')/1;
	if(this.elementToResizeIsAbsolutePositioned&&!this.initElementSize.top)this.initElementSize.top=DHTMLSuite.commonObj.getTopPos(this.resizeWhichElement);
	this.initElementSize.left=this.resizeWhichElement.style.left.replace('px','')/1;
	if(this.elementToResizeIsAbsolutePositioned&&!this.initElementSize.left)this.initElementSize.left=DHTMLSuite.commonObj.getLeftPos(this.resizeWhichElement);
	
	this.currentResizeDirection=src.getAttribute('resizeInDirection');
	this.__delayBeforeResize();
	return false;	
	}
	
// }}}
	,
	
// {{{ __delayBeforeResize()
    /**
    *A small delay from mouse is pressed down to the resize starts.
     *	
    *@private	
     */	
	__delayBeforeResize:function()
	{
	if(this.resizeTimer>=0&&this.resizeTimer<5){
		var ind=this.objectIndex;
		this.resizeTimer++;
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__delayBeforeResize()',20);
		return;
	}	
	}
	
// }}}
	,
	
// {{{ __processResize()
    /**
    *Process resize, i.e. mouse has been pressed down and the mouse pointer is moving.
     *	
    *@private	
     */	
	__processResize:function(e)
	{
	if(document.all)e=event;
	if(this.resizeTimer<5)return;
	if(DHTMLSuite.clientInfoObj.isMSIE&&e.button!=1)return this.__endResize();
	
	var newWidth=this.initElementSize.width;
	var newHeight=this.initElementSize.height;
	
	var newTop=this.initElementSize.top;
	var newLeft=this.initElementSize.left;
	
	switch(this.currentResizeDirection){
		case "east":
		case "northeast":
		case "southeast":
		newWidth=(this.initElementSize.width+e.clientX-this.mouseStartPos.x);		
		break;	
	}
	switch(this.currentResizeDirection){
		case "south":
		case "southeast":
		case "southwest":
		newHeight=(this.initElementSize.height+e.clientY-this.mouseStartPos.y)
		break;
		
	}
	
	if(this.currentResizeDirection.indexOf('north')>=0){
		newTop=this.initElementSize.top +e.clientY-this.mouseStartPos.y;
		newHeight=newHeight-(newTop-this.initElementSize.top);
		if(this.preserveRatio&&this.currentResizeDirection=='north')newWidth=Math.round(newHeight*this.sizeOfWidthRelativeToHeight);
		if(newHeight<this.minHeight){
		newTop-=(this.minHeight-newHeight);
		}		
	}
	if(this.currentResizeDirection.indexOf('west')>=0){
		newLeft=this.initElementSize.left +e.clientX-this.mouseStartPos.x;
		newWidth=newWidth-(newLeft-this.initElementSize.left);
		if(this.preserveRatio&&this.currentResizeDirection=='west')newHeight=Math.round(newWidth / this.sizeOfWidthRelativeToHeight);
		if(newWidth<this.minWidth){
		newLeft-=(this.minWidth-newWidth);
		}	
		if(newWidth>this.maxWidth){
		newLeft+=(newWidth-this.maxWidth);
		}	
	}
		
	if(newWidth<this.minWidth)newWidth=this.minWidth;
	if(newHeight<this.minHeight)newHeight=this.minHeight;
	if(this.maxWidth&&newWidth>this.maxWidth)newWidth=this.maxWidth;
	if(this.maxHeight&&newHeight>this.maxHeight)newHeight=this.maxHeight;

	if(this.currentResizeDirection.indexOf('east')>=0&&this.preserveRatio){
		newHeight=Math.round(newWidth / this.sizeOfWidthRelativeToHeight);
	}	
	if(this.currentResizeDirection.indexOf('south')>=0&&this.preserveRatio){
		newWidth=Math.round(newHeight*this.sizeOfWidthRelativeToHeight);
	}		
	if(this.currentResizeDirection=='northwest'&&this.preserveRatio){
		if(newWidth/newHeight > this.sizeOfWidthRelativeToHeight){
		newHeight=Math.round(newWidth / this.sizeOfWidthRelativeToHeight);
		}else{
		newWidth=Math.round(newHeight*this.sizeOfWidthRelativeToHeight);
		}	
	}
	
	this.resizeWhichElement.style.width=newWidth+'px';
	this.resizeWhichElement.style.height=newHeight+'px';
	this.resizeWhichElement.style.top=newTop+'px';
	this.resizeWhichElement.style.left=newLeft+'px';
	if(this.callbackOnDuringResize)this.__handleCallback('duringResize');
	
	}
	
// }}}
	,
	
// {{{ __endResize()
    /**
    *Resize process ends.
     *	
    *@private	
     */	
	__endResize:function(e)
	{
	DHTMLSuite.commonObj.__setTextSelOk(true);
	if(this.resizeTimer==5){
		this.__handleCallback('afterResize');
	}
	this.resizeTimer=-1;
	}
	
// }}}
	,
	
// {{{ __handleCallback()
    /**
    *Execute eventual callback functions.
     *	
    *@private	
     */	
	__handleCallback:function(action)
	{
	var ind=this.objectIndex;
	var callbackString='';
	switch(action){
		case "afterResize":
		callbackString=this.callbackOnAfterResize;
		break;
		case "duringResize":
		callbackString=this.callbackOnDuringResize;
		break;
		case "beforeResize":
		callbackString=this.callbackOnBeforeResize;
		break;
		
	}
	
	if(callbackString)callbackString=callbackString+'(DHTMLSuite.variableStorage.arrayDSObjects['+ind+'])';
	
	try{
		return eval(callbackString);
	}catch(e){
		alert('Could not execute call back string after resize');
	}	
	}
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	Drag and drop class-simple class-used by the DHTMLSuite.imageEnlarger script
*
*	Created:		January, 8th, 2007
*
*
* 	Update log:
*
************************************************************************************************************/
var DHTMLSuite_dragDropSimple_curZIndex=100000;
var DHTMLSuite_dragDropSimple_curObjIndex=false;
/**
* @constructor
* @class Purpose of class:	A very simple drag and drop script. It makes a single element dragable but doesn't offer other features.<br>
*	The constructor takes an associative array as only argument. Possible keys in this array:<br>
*	cloneNode-Clone the node, i.e. make the clone dragable<br>			
*	allowMoveX-Allow drag along the x-axis<br>			
*	allowMoveY-Allow drag along the y-axis<br>			
*	minX-Minimum x coordinate on screen<br>			
*	minY-Minimum y coordinate on screen<br>		
*	maxX-Maximum x coordinate on screen<br>			
*	maxY-Maximum y coordinate on screen<br>			
*	callbackOnBeforeDrag-Name of function to execute before drag starts-The event object will be sent to this function.<br>			
*	callbackOnAfterDrag-Name of function to execute after drag-The event object will be sent to this function.<br>			
*	callbackOnDuringDrag-Name of function to execute during drag-The event object will be sent to this function.<br>			
*	elementReference-<br>			
*	dragHandle-<br>			
*	<br>
*	<br>
*	Demos: (<a href="../../demos/demo-window.html" target="_blank">demo 1</a>, <a href="../../demos/demo-window.html" target="_blank">The window widget</a>),
* @version		1.0
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/
DHTMLSuite.dragDropSimple=function(propertyArray)
{	
	var divElement;
	var dragTimer;	
// -1 no drag, 0-4=initializing , 5=drag in process
	var cloneNode;
	this.cloneNode=true;

	var callbackOnAfterDrag;
	var callbackOnBeforeDrag;
	var callbackOnDuringDrag;
	
	var mouse_x;
	var mouse_y;
	var positionSet;
	var dragHandle;	
// If a specific element is specified to be a drag handle.
	
	var allowMoveX;
	var allowMoveY;
	var maxY;
	var minY;
	var minX;
	var maxX;
	
	var initialXPos;
	var initialYPos;
	
	this.positionSet=false;
	this.dragHandle=new Array();
	var initOffsetX;
	var initOffsetY;
	
	this.allowMoveX=true;
	this.allowMoveY=true;
	this.maxY=false;
	this.maxX=false;
	this.minX=false;
	this.minY=false;
	
	this.callbackOnAfterDrag=false;
	this.callbackOnBeforeDrag=false;
	
	this.dragStatus=-1;
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}	
	var objectIndex;
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
	this.__setInitProps(propertyArray);
	this.__init();	
}

DHTMLSuite.dragDropSimple.prototype={
	
// {{{ __init()
    /**
    *Initializes the script
    *
    *@private
     */	
    __setInitProps:function(props)
    {
	if(props.cloneNode===false||props.cloneNode)this.cloneNode=props.cloneNode;
	if(props.allowMoveX===false||props.allowMoveX)this.allowMoveX=props.allowMoveX;
	if(props.allowMoveY===false||props.allowMoveY)this.allowMoveY=props.allowMoveY;
	if(props.minY||props.minY===0)this.minY=props.minY;
	if(props.maxY||props.maxY===0)this.maxY=props.maxY;
	if(props.minX||props.minX===0)this.minX=props.minX;
	if(props.maxX||props.maxX===0)this.maxX=props.maxX;
	
	if(!props.initOffsetX)props.initOffsetX=0;
	if(!props.initOffsetY)props.initOffsetY=0;    	
	 	this.initOffsetX=props.initOffsetX;
	this.initOffsetY=props.initOffsetY;   	
    	if(props.callbackOnBeforeDrag)this.callbackOnBeforeDrag=props.callbackOnBeforeDrag; 	
    	if(props.callbackOnAfterDrag)this.callbackOnAfterDrag=props.callbackOnAfterDrag; 	
    	if(props.callbackOnDuringDrag)this.callbackOnDuringDrag=props.callbackOnDuringDrag; 	
    	props.elementReference=DHTMLSuite.commonObj.getEl(props.elementReference);
	this.divElement=props.elementReference;	
	this.initialXPos=DHTMLSuite.commonObj.getLeftPos(this.divElement);
	this.initialYPos=DHTMLSuite.commonObj.getTopPos(this.divElement);    
	if(props.dragHandle)this.dragHandle[this.dragHandle.length]=DHTMLSuite.commonObj.getEl(props.dragHandle)	
    }    
    
// }}}
    ,	
	
// {{{ __init()
    /**
    *Initializes the script
    *
    *@private
     */	
	__init:function()
	{
	var ind=this.objectIndex;		
	this.divElement.objectIndex=ind;
	this.divElement.setAttribute('objectIndex',ind);	
	this.divElement.style.padding='0px';
	if(this.allowMoveX){
		this.divElement.style.left=(DHTMLSuite.commonObj.getLeftPos(this.divElement)+this.initOffsetX)+'px';
	}
	if(this.allowMoveY){
		this.divElement.style.top=(DHTMLSuite.commonObj.getTopPos(this.divElement)+this.initOffsetY)+'px';
	}
	this.divElement.style.position='absolute';
	this.divElement.style.margin='0px';
		
	if(this.divElement.style.zIndex&&this.divElement.style.zIndex/1>DHTMLSuite_dragDropSimple_curZIndex)DHTMLSuite_dragDropSimple_curZIndex=this.divElement.style.zIndex/1;	
	DHTMLSuite_dragDropSimple_curZIndex=DHTMLSuite_dragDropSimple_curZIndex/1+1;
	this.divElement.style.zIndex=DHTMLSuite_dragDropSimple_curZIndex;	
		
	if(this.cloneNode){
		var copy=this.divElement.cloneNode(true);	
		this.divElement.parentNode.insertBefore(copy,this.divElement);
		copy.style.visibility='hidden';
		document.body.appendChild(this.divElement);
	}	
	DHTMLSuite.commonObj.addEvent(this.divElement,'mousedown',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initDragProcess(e); },ind);
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mousemove',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveDragableElement(e); },ind);
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mouseup',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__stopDragProcess(e); },ind);		
	if(!document.documentElement.onselectstart)document.documentElement.onselectstart=function(){ return DHTMLSuite.commonObj.__isTextSelOk(); };	
	}
	
// }}}
	,
	
// {{{ setCallbackOnAfterDrag()
    /**
    *Specify name of function to execute after drag is completed.
     *	
     *	@param String functionName-Name of function to execute
    *
    *@private
     */	
	setCallbackOnAfterDrag:function(functionName)
	{
	this.callbackOnAfterDrag=functionName;
	}
	
// }}}
	,
	
// {{{ setCallbackOnBeforeDrag()
    /**
    *Specify name of function to execute before drag is executed.
     *	
     *	@param String functionName-Name of function to execute
    *
    *@private
     */	
	setCallbackOnBeforeDrag:function(functionName)
	{
	this.callbackOnBeforeDrag=functionName;
	}
	
// }}}
	,
	
// {{{ addDragHandle()
    /**
    *Specify a drag handle
     *	
     *	@param Object HTML Element-element inside the dragable element specified to act as a drag handle.
    *
    *@private
     */	
	addDragHandle:function(dragHandle)
	{
	this.dragHandle[this.dragHandle.length]=dragHandle;
	}
	
// }}}
	,
	
// {{{ __initDragProcess()
    /**
    *Initializes drag process
    *
    *@private
     */	
	__initDragProcess:function(e)
	{
	if(document.all)e=event;	
	var ind=this.objectIndex;
	DHTMLSuite_dragDropSimple_curObjIndex=ind;		
	var thisObject=DHTMLSuite.variableStorage.arrayDSObjects[ind];
	if(!DHTMLSuite.commonObj.isObjectClicked(thisObject.divElement,e))return;	
	if(thisObject.divElement.style.zIndex&&thisObject.divElement.style.zIndex/1>DHTMLSuite_dragDropSimple_curZIndex)DHTMLSuite_dragDropSimple_curZIndex=thisObject.divElement.style.zIndex/1;	
	DHTMLSuite_dragDropSimple_curZIndex=DHTMLSuite_dragDropSimple_curZIndex/1 +1;
	thisObject.divElement.style.zIndex=DHTMLSuite_dragDropSimple_curZIndex;			
	if(thisObject.callbackOnBeforeDrag){
		thisObject.__handleCallback('beforeDrag',e);	
	}	
	if(thisObject.dragHandle.length>0){	
// Drag handle specified?	
		var objectFound;
		for(var no=0;no<thisObject.dragHandle.length;no++){
		if(!objectFound)objectFound=DHTMLSuite.commonObj.isObjectClicked(thisObject.dragHandle[no],e);
		}	
		if(!objectFound)return;
	}
	DHTMLSuite.commonObj.__setTextSelOk(false);	
	thisObject.mouse_x=e.clientX;
	thisObject.mouse_y=e.clientY;	
	thisObject.el_x=thisObject.divElement.style.left.replace('px','')/1;
	thisObject.el_y=thisObject.divElement.style.top.replace('px','')/1;
	thisObject.dragTimer=0;
	thisObject.__waitBeforeDragProcessStarts();
	return false;		
	}	
	
// }}}
	,
	
// {{{ __waitBeforeDragProcessStarts()
    /**
    *Small delay from mouse is pressed down till drag starts.
    *
    *@private
     */	
	__waitBeforeDragProcessStarts:function()
	{
	var ind=this.objectIndex;
	if(this.dragTimer>=0&&this.dragTimer<5){
		this.dragTimer++;		
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__waitBeforeDragProcessStarts()',5);
	}	
	}
	
// }}}
	,
	
// {{{ __moveDragableElement()
    /**
    *Move dragable element if drag is in process
     *
     *	@param Event e-Event object-since this method is triggered by an event
     *
    *@private
     */	
	__moveDragableElement:function(e)
	{	
	if(document.all)e=event;
	var ind=this.objectIndex;
	var thisObj=DHTMLSuite.variableStorage.arrayDSObjects[ind];	
	if(DHTMLSuite.clientInfoObj.isMSIE&&e.button!=1)return thisObj.__stopDragProcess();	
	if(thisObj.dragTimer==5){		
		if(thisObj.allowMoveX){
		var leftPos=(e.clientX-this.mouse_x+this.el_x);	
		if(this.maxX!==false){
			if(leftPos+document.documentElement.scrollLeft>this.initialXPos+this.maxX){
			leftPos=this.initialXPos+this.maxX;
			}	
		}
		if(this.minX!==false)
		{
			if(leftPos+document.documentElement.scrollLeft<this.initialXPos+this.minX){
			leftPos=this.initialXPos+this.minX;	
			}			
		}			
		thisObj.divElement.style.left =leftPos+'px';
		}	
		if(thisObj.allowMoveY){
		var topPos=(e.clientY-thisObj.mouse_y+thisObj.el_y);
		if(this.maxY!==false){
			if(topPos>this.initialYPos+this.maxY){
			topPos=this.initialYPos+this.maxY;	
			}
		}	
		if(this.minY!==false)
		{
			if(topPos <this.initialYPos+this.minY){
			topPos=this.initialYPos+this.minY;	
			}			
		}			
		thisObj.divElement.style.top=topPos+'px';	
		}
		
		if(this.callbackOnDuringDrag)this.__handleCallback('duringDrag',e);
	}	
	return false;
	}
	
// }}}
	,
	
// {{{ __stopDragProcess()
    /**
    *Stop the drag process
    *
    *@private
     */	
	__stopDragProcess:function(e)
	{
	var ind=this.objectIndex;
	DHTMLSuite.commonObj.__setTextSelOk(true);
	var thisObj=DHTMLSuite.variableStorage.arrayDSObjects[ind];	
	if(thisObj.dragTimer==5){
		thisObj.__handleCallback('afterDrag',e);
	}	
	thisObj.dragTimer=-1;
	}
	
// }}}
	,
	
// {{{ __handleCallback()
    /**
    *Execute callback function
     *	@param String action-callback action
    *
    *@private
     */	
	__handleCallback:function(action,e)
	{
	var callbackString='';
	switch(action){
		case "afterDrag":
		callbackString=this.callbackOnAfterDrag;
		break;	
		case "beforeDrag":
		callbackString=this.callbackOnBeforeDrag;
		break;
		case "duringDrag":
		callbackString=this.callbackOnDuringDrag;
		break;
	}
	if(callbackString){
		callbackString=callbackString+'(e)';
		try{
		eval(callbackString);
		}catch(e){
		alert('Could not execute callback function('+callbackString+')after drag');
		}
	}
	
	}
	
// }}}
	,
	
// {{{ __setNewCurrentZIndex()
    /**
    *Updates current z index. 
     *	@param Integer zIndex-This method is called by the window script when z index has been read from cookie
    *
    *@private
     */	
	__setNewCurrentZIndex:function(zIndex)
	{
	if(zIndex > DHTMLSuite_dragDropSimple_curZIndex){
		DHTMLSuite_dragDropSimple_curZIndex=zIndex/1+1;
	}	
	}
	
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML dynamic tooltip script
*
*	Created:			September, 26th, 2006
*	@class Purpose of class:	Transforms a regular div into a expandable info pane.
*		
*	Css files used by this script:	info-pane.css
*
*	Demos of this class:		demo-info-pane-1.html
*
* 	Update log:
*
************************************************************************************************************/


/**
* @constructor
* @class Purpose of class:	Transforms a regular div into a expandable info pane. (<a href="../../demos/demo-info-pane-1.html" target="_blank">Demo</a>)
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

	
DHTMLSuite.infoPanel=function(){
	
	var xpPanel_slideActive;		
// Slide down/up active?
	var xpPanel_slideSpeed ;		
// Speed of slide
	var xpPanel_onlyOneExpandedPane;	
// Only one pane expanded at a time ?	
	var savedActivePane;
	var savedActiveSub;
	var xpPanel_currentDirection;	
	var cookieNames;
	var layoutCSS;
	var arrayOfPanes;
	var dynamicContentObj;
	var paneHeights;			
// Array of info pane heights.
	
	var currentlyExpandedPane=false;
	this.xpPanel_slideActive=true;	
// Slide down/up active?
	this.xpPanel_slideSpeed=20;	
// Speed of slide
	this.xpPanel_onlyOneExpandedPane=false;	
// Only one pane expanded at a time ?	
	this.savedActivePane=false;
	this.savedActiveSub=false;
	this.xpPanel_currentDirection=new Object();	
	this.cookieNames=new Array();	
	this.currentlyExpandedPane=false;
	this.layoutCSS='info-pane.css';	
// Default css file for this widget.
	this.arrayOfPanes=new Array();
	this.paneHeights=new Object();
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	try{
	this.dynamicContentObj=new DHTMLSuite.dynamicContent();
	}catch(e){
	alert('You need to include dhtmlSuite-dynamicContent.js');
	}
		
	
	
	
	
}

	
	
DHTMLSuite.infoPanel.prototype={	
	
// {{{ addPane()
    /**
     *	Define a pane.
    *	
     *	@param String idOfPane=Id of the element you want to transfor into a info pane
    * @param String labelOfPane=The label you want to set for this pane
    * @param Boolean State=Initial state of pane, expanded or collapsed(true=Expanded, false=collapsed)
    * @param nameOfCookie=Name of cookie for this pane, i.e. saving states
    * @param Int width=Width of pane(Optional)
     *
    *@public	
     */	
	addPane:function(idOfPane,labelOfPane,state,nameOfCookie,width)
	{
	var index=this.arrayOfPanes.length;
	this.arrayOfPanes[index]=[idOfPane,labelOfPane,state,nameOfCookie,width];
	}
	
// }}}	
	,
	
// {{{ addContentToPane()
    /**
     *	Replace content inside a pane with content from an external file.
    *	
     *	@param String idOfPane=Id of the element you want to transfor into a info pane
    * @param String pathToExternalFile=Relative path to file. The content of this file will be placed inside the info pane.
     *
    *@public	
     */	
	addContentToPane:function(idOfPane,pathToExternalFile)
	{
	var obj=document.getElementById(idOfPane);
	var subDivs=obj.getElementsByTagName('DIV');
	for(var no=0;no<subDivs.length;no++){
		if(subDivs[no].className=='DHTMLSuite_infoPaneContent'){
		window.refToThisPane=this;	
		this.__slidePane(this.xpPanel_slideSpeed,subDivs[no].id);		
		this.dynamicContentObj.loadContent(subDivs[no].id,pathToExternalFile,"window.refToThisPane.__resizeAndRepositionPane('"+idOfPane+"')");			
		if(subDivs[no].parentNode.style.display=='none'||subDivs[no].parentNode.style.height=='0px'){	
// Pane is collapsed, expand it
			var topBarObj=DHTMLSuite.domQueryObj.getElementsByClassName('DHTMLSuite_infoPaneTopBar',subDivs[no].parentNode.parentNode);
			this.__showHidePaneContent(topBarObj[0]);
		}	
		return;	
		}	
	}
	}
	
// }}}	
	,
	
// {{{ addStaticContentToPane()
    /**
     *	Replace content inside a pane with some new static content.
    *	
     *	@param String idOfPane=Id of the element you want to transfor into a info pane
    * @param String newContent=New content. (Static html).
     *
    *@public	
     */	
	addStaticContentToPane:function(idOfPane,newContent)
	{
	var obj=document.getElementById(idOfPane);
	var subDivs=obj.getElementsByTagName('DIV');
	for(var no=0;no<subDivs.length;no++){
		if(subDivs[no].className=='DHTMLSuite_infoPaneContent'){		
		window.refToThisPane=this;	
		this.__slidePane(this.xpPanel_slideSpeed,subDivs[no].id);		
		subDivs[no].innerHTML=newContent;			
		if(subDivs[no].parentNode.style.display=='none'||subDivs[no].parentNode.style.height=='0px'){	
// Pane is collapsed, expand it
			var topBarObj=DHTMLSuite.domQueryObj.getElementsByClassName('DHTMLSuite_infoPaneTopBar',subDivs[no].parentNode.parentNode);
			this.__showHidePaneContent(topBarObj[0]);
		}	
		this.__resizeAndRepositionPane(idOfPane);
		return;	
		}	
	}
	}
	
// }}}	
	,	
	
// {{{ init()
    /**
     *	Initializes the script. This method should be called after you have added all your panes.
    *	
     *	@param Object inputobject=Reference to element on web page.
     *
    *@public	
     */	
	init:function()
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);
	
	for(var no=0;no<this.arrayOfPanes.length;no++){	
// Loop through panes	
		var tmpDiv=document.getElementById(this.arrayOfPanes[no][0]);	
// Creating reference to pane div.
		tmpDiv.className='DHTMLSuite_panel';	
// Assigning it to class DHTMLSuite_panel
		var panelTitle=this.arrayOfPanes[no][1];	
		var panelDisplayed=this.arrayOfPanes[no][2];
		var nameOfCookie=this.arrayOfPanes[no][3];
		var widthOfPane=this.arrayOfPanes[no][4];
			
		if(widthOfPane)tmpDiv.style.width=widthOfPane;
		
		var outerContentDiv=document.createElement('DIV');	
		var contentDiv=tmpDiv.getElementsByTagName('DIV')[0];
		contentDiv.className='DHTMLSuite_infoPaneContent';
		contentDiv.id='infoPaneContent'+no;
		outerContentDiv.appendChild(contentDiv);	
		this.cookieNames[this.cookieNames.length]=nameOfCookie;
		
		outerContentDiv.id='paneContent'+no;
		outerContentDiv.className='DHTMLSuite_panelContent';
		outerContentDiv.style.backgroundImage='url(\''+DHTMLSuite.configObj.imagePath+'info-pane/xp-info-pane-bg_pane_right.gif'+'\')';		
		
		var topBar=document.createElement('DIV');
		topBar.onselectstart=function(){ return false; };
		topBar.className='DHTMLSuite_infoPane_topBar';
		topBar.style.position='relative';
		
		DHTMLSuite.commonObj.__addEventEl(topBar);
		var span=document.createElement('SPAN');		
		span.innerHTML=panelTitle;
		topBar.appendChild(span);
		topBar.style.backgroundImage='url(\''+DHTMLSuite.configObj.imagePath+'info-pane/xp-info-pane-bg_panel_top_right.gif'+'\')';
		window.refToXpPane=this;
		topBar.onclick=function(){ window.refToXpPane.__showHidePaneContent(this)};
		if(document.all)topBar.ondblclick=function(){ window.refToXpPane.__showHidePaneContent(this)};;
		topBar.onmouseover=this.__mouseoverTopbar;	
// Adding mouseover effect to heading
		topBar.onmouseout=this.__mouseoutTopbar;	
// Adding mouseout effect to heading
		topBar.style.position='relative';	
// Relative positioning of heading

		
		
		var btnDiv=document.createElement('DIV');
		btnDiv.className='DHTMLSuite_infoPane_topBar_button';
		topBar.appendChild(btnDiv);
		
		if(nameOfCookie){	
// Cookie defined?
		cookieValue= DHTMLSuite.commonObj.getCookie(nameOfCookie);	
		if(cookieValue)panelDisplayed=cookieValue==1?true:false; 
// Cookie value exists? -> Expand or collapse pane.
		
		}
		
		if(!panelDisplayed){	
// Hide pane initially.
		outerContentDiv.style.height='0px';
		contentDiv.style.top=0-contentDiv.offsetHeight+'px';
		if(document.all)outerContentDiv.style.display='none';
		btnDiv.className=btnDiv.className+' DHTMLSuite_infoPane_topBar_buttonDown';
		}
				
		topBar.className='DHTMLSuite_infoPaneTopBar';
		topBar.id='infoPane_topBar'+no;
		tmpDiv.appendChild(topBar);		
		tmpDiv.appendChild(outerContentDiv);	
	}
	}	
	
// }}}		
	,	
	
// {{{ __resizeAndRepositionPane()
    /**
     *	Fixes the layout of a pane after content has been added to it dynamically.
    *	
     *	@param String idOfPane=Id of the pane
     *
    *@private	
     */	
	__resizeAndRepositionPane:function(idOfPane)
	{
	var obj=document.getElementById(idOfPane);
	var subDivs=obj.getElementsByTagName('DIV');
	for(var no=0;no<subDivs.length;no++){
		if(subDivs[no].className=='DHTMLSuite_panelContent'){	
		subDivs[no].style.overflow='auto';	
		subDivs[no].style.height='';	
		var contentDiv=subDivs[no].getElementsByTagName('DIV')[0];		
		var tmpHeight=subDivs[no].clientHeight;
		tmpHeight=subDivs[no].offsetHeight;		
		subDivs[no].style.height=tmpHeight+'px';
		if(tmpHeight)this.paneHeights[subDivs[no].id]=tmpHeight;
		subDivs[no].style.top='0px';
		subDivs[no].style.overflow='hidden';
		var subSub=subDivs[no].getElementsByTagName('DIV')[0];
		subSub.style.top='0px';
		}	
	}
	}
	
// }}}	
	,	
	
// {{{ __showHidePaneContent()
    /**
     *	Expand or collapse a frame
    *	
     *	@param Object inputobject=Reference to element on web page.
     *	@param String methodWhenFinished=Method to execute when slide is finished(optional)
     *
    *@private	
     */	
	__showHidePaneContent:function(inputObj,methodWhenFinished)
	{
	var div=inputObj.getElementsByTagName('div')[0];
	var numericId=inputObj.id.replace(/[^0-9]/g,'');
	var obj=document.getElementById('paneContent'+numericId);
	
	if(div.className.indexOf('DHTMLSuite_infoPane_topBar_buttonDown')==-1){
		this.currentlyExpandedPane=false;
		div.className=div.className+' DHTMLSuite_infoPane_topBar_buttonDown';
		if(this.xpPanel_slideActive){
		obj.style.display='block';
		this.xpPanel_currentDirection[obj.id]=(this.xpPanel_slideSpeed*-1);
		this.__slidePane((this.xpPanel_slideSpeed*-1), obj.id,methodWhenFinished);
		}else{
		obj.style.display='none';
		}
		if(this.cookieNames[numericId])DHTMLSuite.commonObj.setCookie(this.cookieNames[numericId],'0',100000);
	}else{
		if(inputObj){
		if(this.currentlyExpandedPane&&this.xpPanel_onlyOneExpandedPane)this.__showHidePaneContent(this.currentlyExpandedPane);
		this.currentlyExpandedPane=inputObj;	
		}
		div.className=div.className.replace(' DHTMLSuite_infoPane_topBar_buttonDown','');
		
		if(this.xpPanel_slideActive){
		if(document.all){
			obj.style.display='block';
		}
		this.xpPanel_currentDirection[obj.id]=this.xpPanel_slideSpeed;
		this.__slidePane(this.xpPanel_slideSpeed,obj.id,methodWhenFinished);
		}else{
		obj.style.display='block';
		subDiv=obj.getElementsByTagName('DIV')[0];
		obj.style.height=subDiv.offsetHeight+'px';
		}
		if(this.cookieNames[numericId])DHTMLSuite.commonObj.setCookie(this.cookieNames[numericId],'1',100000);
	}	
	return true;	
	}
	
// }}}	
	,	
	
// {{{ __slidePane()
    /**
     *	Animating expand/collapse
    *	
     *	@param Int slideValue=Positive or negative value, positive when expanding, negative when collapsing
    * @param String id=Id of the pane currently being expanded/collapsed.
     *	@param String methodWhenFinished=Method to execute when slide is finished(optional)
     *
    *@private	
     */	
	__slidePane:function(slideValue,id,methodWhenFinished)
	{
	if(slideValue!=this.xpPanel_currentDirection[id]){
		return false;
	}
	var activePane=document.getElementById(id);
	if(activePane==this.savedActivePane){
		var subDiv=this.savedActiveSub;
	}else{
		var subDiv=activePane.getElementsByTagName('DIV')[0];
	}
	this.savedActivePane=activePane;
	this.savedActiveSub=subDiv;
	
	var height=activePane.offsetHeight;
	var innerHeight=subDiv.offsetHeight;
	if(this.paneHeights[activePane.id])innerHeight=this.paneHeights[activePane.id];
	height+=slideValue;
	if(height<0)height=0;
	if(height>innerHeight)height=innerHeight;
	
	if(document.all){
		activePane.style.filter='alpha(opacity='+Math.round((height / innerHeight)*100)+')';
	}else{
		var opacity=(height / innerHeight);
		if(opacity==0)opacity=0.01;
		if(opacity==1)opacity=0.99;
		activePane.style.opacity=opacity;
	}		
	window.refToThisInfoPane=this;
	if(slideValue<0){		
		activePane.style.height=height+'px';
		subDiv.style.top=height-innerHeight+'px';
		if(height>0){
		setTimeout('window.refToThisInfoPane.__slidePane('+slideValue+',"'+id+'","'+methodWhenFinished+'")',10);
		}else{
		if(document.all)activePane.style.display='none';
		if(methodWhenFinished)eval(methodWhenFinished);
		}
	}else{		
		subDiv.style.top=height-innerHeight+'px';
		activePane.style.height=height+'px';
		if(height<innerHeight){		
		setTimeout('window.refToThisInfoPane.__slidePane('+slideValue+',"'+id+'","'+methodWhenFinished+'")',10);		
		}else{
		if(methodWhenFinished)eval(methodWhenFinished);
		}	
	}	
	}
	,
	
// {{{ __mouseoverTopbar()
    /**
     *	Toolbar mouse over effect.
    *	
     *
    *@private	
     */		
	__mouseoverTopbar:function()
	{
	var div=this.getElementsByTagName('DIV')[0];
	div.className=div.className+' DHTMLSuite_infoPaneButton_over';
	
	var span=this.getElementsByTagName('SPAN')[0];
	span.className='DHTMLSuite_infoPanelOver';	
	
	}
	
// }}}	
	,
	
// {{{ __mouseoutTopbar()
    /**
     *	Toolbar mouse out effect.
    *	
     *
    *@private	
     */		
	__mouseoutTopbar:function()
	{
	var div=this.getElementsByTagName('DIV')[0];
	div.className=div.className.replace(' DHTMLSuite_infoPaneButton_over','');	
	
	var span=this.getElementsByTagName('SPAN')[0];
	span.className='';
	}
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML modal dialog box
*
*	Created:			August, 26th, 2006
*	@class Purpose of class:	Display a modal dialog box on the screen.
*		
*	Css files used by this script:	modal-message.css
*
*	Demos of this class:		demo-modal-message-1.html
*
* 	Update log:
*
************************************************************************************************************/


/**
* @constructor
* @class Purpose of class:	Display a modal DHTML message on the page. All other page controls will be disabled until the message is closed(<a href="../../demos/demo-modal-message-1.html" target="_blank">demo</a>).
* @param Array-Associative array of properties. These properties can also be set by calling invidiual set-methods. Possible keys in this array:<br>
*	url-Url to file displayed in the message
*	htmlOfModalMessage-Static HTML to display.
*   domRef-Reference to dom element. This dom element will be cloned and displayed inside the message box. You will typically set display:none or visibility:hidden on this element
*	width-Width of box
*	height-Height of box
*	cssClassOfMessageBox-Alternative css class for the message box
*	shadowOffset-Size of drop shadow in pixels
*   shadowDivVisible-Shadow visible (default=true)
*	isModal	- Is the dialog modal?(default=true)
*
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/

DHTMLSuite.modalMessage=function(props)
{
	var url;				
// url of modal message
	var htmlOfModalMessage;			
// html of modal message
	var domRef;				
// Reference to DOM element
	
	var divs_transparentDiv;		
// Transparent div covering page content
	var divs_content;			
// Modal message div.
	var iframeEl;			
// Iframe element used to cover select boxes in ie
	var layoutCss;				
// Name of css file;
	var width;				
// Width of message box
	var height;				
// Height of message box
	var isModal;				
// Is the modal message modal ?
	
	var existingBodyOverFlowStyle;		
// Existing body overflow css
	var dynContentObj;			
// Reference to dynamic content object
	var cssClassOfMessageBox;		
// Alternative css class of message box-in case you want a different appearance on one of them
	var shadowDivVisible;			
// Shadow div visible?
	var shadowOffset; 			
// X and Y offset of shadow(pixels from content box)
	
	var objectIndex;
	
	
	this.url='';				
// Default url is blank
	this.htmlOfModalMessage='';		
// Default message is blank
	this.layoutCss='modal-message.css';	
// Default CSS file
	this.height=200;			
// Default height of modal message
	this.width=400;			
// Default width of modal message
	this.cssClassOfMessageBox=false;	
// Default alternative css class for the message box
	this.shadowDivVisible=true;		
// Shadow div is visible by default
	this.shadowOffset=5;			
// Default shadow offset.
	this.isModal=true;
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}

	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
	var ind=this.objectIndex;
	
	DHTMLSuite.commonObj.addEvent(window,"resize",function(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__resizeTransparentDiv(); });	
	
	if(props)this.__setInitialProps(props);
}

DHTMLSuite.modalMessage.prototype={
	
// {{{ __setInitialProps
    /**
     *	Save properties sent to the constructor.
    *	
    *@private	
     */	
	__setInitialProps:function(props)
	{
	if(props.url)this.setSource(props.url);
	if(props.htmlOfModalMessage)this.setHtmlContent(props.htmlOfModalMessage);
	if(props.domRef)this.setDomReference(props.domRef);
	if(props.width)this.width=props.width;
	if(props.height)this.height=props.height;
	if(props.cssClassOfMessageBox)this.cssClassOfMessageBox=props.cssClassOfMessageBox;
	if(props.shadowOffset)this.shadowOffset=props.shadowOffset;
	if(props.shadowDivVisible)this.shadowDivVisible=props.shadowDivVisible;
	if(props.isModal||props.isModal===false||props.isModal===0)this.isModal=props.isModal;
	if(props.waitMessage)this.setWaitMessage(waitMessage);	
	}
	
// }}}
	,
	
// {{{ setIsModal(urlOfSource)
    /**
     *	Specify if the box should be modal, i.e. a transparent div behind the box covering page content.
    *	
    *@public	
     */	
	setIsModal:function(isModal)
	{
	this.isModal=isModal;
	}	
	
// }}}
	,
	
// {{{ setSource(urlOfSource)
    /**
     *	Set source of the modal dialog box
    *	
     *
    *@public	
     */	
	setSource:function(urlOfSource)
	{
	if(urlOfSource)this.__clearProperties();
	this.url=urlOfSource;	
	}	
	
// }}}	
	,
	
// {{{ setHtmlContent(newHtmlContent)
    /**
     *	Setting static HTML content for the modal dialog box.
    *	
     *	@param String newHtmlContent=Static HTML content of box
     *
    *@public	
     */	
	setHtmlContent:function(newHtmlContent)
	{
	if(newHtmlContent)this.__clearProperties();
	this.htmlOfModalMessage=newHtmlContent;	
	}
	
// }}}
	,
	
// {{{ setDomReference
    /**
     *	Specify reference to DOM element which will be displayed inside the modal message box.
    *	
     *	@param Object domRef=Dom reference
     *
    *@public	
     */	
	setDomReference:function(domRef)
	{
	if(domRef)this.__clearProperties();
	if(domRef)domRef=DHTMLSuite.commonObj.getEl(domRef);
	if(domRef){
		domRef=domRef.cloneNode(true);
	}
	this.domRef=domRef;		
	}
	
// }}}	
	,
	
// {{{ setSize
    /**
     *	Set the size of the modal dialog box
    *	
     *	@param int width=width of box
     *	@param int height=height of box
     *
    *@public	
     */	
	setSize:function(width,height)
	{
	if(width)this.width=width;
	if(height)this.height=height;	
	}
	
// }}}	
	,	
	
// {{{ setCssClassMessageBox(newCssClass)
    /**
     *	Assign the message box to a new css class.(in case you wants a different appearance on one of them)
    *	
     *	@param String newCssClass=Name of new css class (Pass false if you want to change back to default)
     *
    *@public	
     */	
	setCssClassMessageBox:function(newCssClass)
	{
	this.cssClassOfMessageBox=newCssClass;
	if(this.divs_content){
		if(this.cssClassOfMessageBox)
		this.divs_content.className=this.cssClassOfMessageBox;
		else
		this.divs_content.className='modalDialog_contentDiv';	
	}
			
	}
	
// }}}	
	,	
	
// {{{ setShadowOffset(newShadowOffset)
    /**
     *	Specify the size of shadow
    *	
     *	@param Int newShadowOffset=Offset of shadow div(in pixels from message box-x and y)
     *
    *@public	
     */	
	setShadowOffset:function(newShadowOffset)
	{
	this.shadowOffset=newShadowOffset
			
	}
	
// }}}	
	,	
	
// {{{ setWaitMessage(newMessage)
    /**
     *	Set a wait message when Ajax is busy inserting content
    *	
     *	@param String newMessage=New wait message
     *
    *@public	
     */	
	setWaitMessage:function(newMessage)
	{
	if(!this.dynContentObj){
		try{
		this.dynContentObj=new DHTMLSuite.dynamicContent();	
// Creating dynamic content object if it doesn't already exist.
		}catch(e){
		alert('You need to include dhtmlSuite-dynamicContent.js');
		}
	}	
	this.dynContentObj.setWaitMessage(newMessage);	
// Calling the DHTMLSuite.dynamicContent setWaitMessage
	}
	
// }}}	
	,	
	
// {{{ setWaitImage(newImage)
    /**
     *	Set a wait Image when Ajax is busy inserting content
    *	
     *	@param String newImage=New wait Image
     *
    *@public	
     */	
	setWaitImage:function(newImage)
	{
	if(!this.dynContentObj){
		try{
		this.dynContentObj=new DHTMLSuite.dynamicContent();	
// Creating dynamic content object if it doesn't already exist.
		}catch(e){
		alert('You need to include dhtmlSuite-dynamicContent.js');
		}
	}	
	this.dynContentObj.setWaitImage(newImage);	
// Calling the DHTMLSuite.dynamicContent setWaitImage
	}
	
// }}}	
	,	
	
// {{{ setCache()
    /**
     *	Enable or disable cache for the ajax object
    *	
     *	@param Boolean cacheStatus=false=off, true=on
     *
    *@public	
     */	
	setCache:function(cacheStatus)
	{
	if(!this.dynContentObj){
		try{
		this.dynContentObj=new DHTMLSuite.dynamicContent();	
// Creating dynamic content object if it doesn't already exist.
		}catch(e){
		alert('You need to include dhtmlSuite-dynamicContent.js');		
		}
	}	
	this.dynContentObj.setCache(cacheStatus);	
// Calling the DHTMLSuite_dynamicContent setCache
	
	}
	
// }}}	
	,
	
// {{{ display()
    /**
     *	Display the modal dialog box
    *	
     *
    *@public	
     */	
	display:function()
	{
	var ind=this.objectIndex;
	
	if(!this.divs_transparentDiv){
		DHTMLSuite.commonObj.loadCSS(this.layoutCss);
		this.__createDivElements();
	}
	this.__resizeAndPositionDivElements();
	
// Redisplaying divs
	if(this.isModal){
		this.divs_transparentDiv.style.display='block';
	}else{
		this.divs_transparentDiv.style.display='none';
	}
	this.divs_content.style.display='block';
	this.divs_shadow.style.display='block';	
	
		
	if(this.iframeEl){
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].iframeEl.style.display="block"',150);
	}


			
	this.__resizeAndPositionDivElements();
	
	/* Call the __resizeAndPositionDivElements method twice in case the css file has changed. The first execution of this method may not catch these changes */
	window.refToThisModalBoxObj=this;	
	setTimeout('window.refToThisModalBoxObj.__resizeAndPositionDivElements()',100);
	
	this.__addHTMLContent();	
// Calling method which inserts content into the message div.
	}
	
// }}}	
	,
	
// {{{ ()
    /**
     *	Display the modal dialog box
    *	
     *
    *@public	
     */	
	setShadowDivVisible:function(visible)
	{
	this.shadowDivVisible=visible;
	}
	
// }}}	
	,
	
// {{{ close()
    /**
     *	Close the modal dialog box
    *	
     *
    *@public	
     */	
	close:function()
	{
	document.documentElement.style.overflow='';	
// Setting the CSS overflow attribute of the <html> tag back to default.
	/* Hiding divs */
	this.divs_transparentDiv.style.display='none';
	this.divs_content.style.display='none';
	this.divs_shadow.style.display='none';
	if(this.iframeEl)this.iframeEl.style.display='none';
	
	}
	
// }}}
	,
	
// {{{ __clearProperties()
    /**
     *	Clear content properties
    *	
     *
    *@private	
     */	
	__clearProperties:function()
	{
	if(this.domRef)DHTMLSuite.discardElement(this.domRef);
	this.domRef=null;
	this.url=false;
	this.htmlOfModalMessage=false;
	}
	
// }}}	
	,
	
// {{{ __createDivElements()
    /**
     *	Create the divs for the modal dialog box
    *	
     *
    *@private	
     */	
	__createDivElements:function()
	{
	
// Creating transparent div
	this.divs_transparentDiv=document.createElement('DIV');
	this.divs_transparentDiv.className='DHTMLSuite_modalDialog_transparentDivs';
	this.divs_transparentDiv.style.left='0px';
	this.divs_transparentDiv.style.top='0px';
	document.body.appendChild(this.divs_transparentDiv);
	
// Creating content div
	if(!document.getElementById('DHTMLSuite_modalBox_contentDiv')){
		this.divs_content=document.createElement('DIV');
		this.divs_content.className='DHTMLSuite_modalDialog_contentDiv';
		this.divs_content.id='DHTMLSuite_modalBox_contentDiv';
		document.body.appendChild(this.divs_content);
	}else{
		this.divs_content=document.getElementById('DHTMLSuite_modalBox_contentDiv');
	}
	
// Creating shadow div
	this.divs_shadow=document.createElement('DIV');
	this.divs_shadow.className='DHTMLSuite_modalDialog_contentDiv_shadow';
	document.body.appendChild(this.divs_shadow);

	
	
	if(DHTMLSuite.clientInfoObj.isMSIE){
		this.iframeEl=document.createElement('<iframe frameborder=0 src="about:blank" scrolling="no">');
		this.iframeEl.style.filter='alpha(opacity=0)';
		this.iframeEl.style.cssText='filter:alpha(opacity=0)';
		this.iframeEl.style.position='absolute';
		this.iframeEl.style.zIndex=100001;
		this.iframeEl.style.display='none';
		this.iframeEl.style.left='0px';
		this.iframeEl.style.top='0px';
		document.body.appendChild(this.iframeEl);
	}
	}
	
// }}}	
	,
	
// {{{ __resizeAndPositionDivElements()
    /**
     *	Resize the message divs
    *	
     *
    *@private	
     */	
    __resizeAndPositionDivElements:function()
    {
    	var topOffset=Math.max(document.body.scrollTop,document.documentElement.scrollTop);
	if(this.cssClassOfMessageBox)
		this.divs_content.className=this.cssClassOfMessageBox;
	else
		this.divs_content.className='DHTMLSuite_modalDialog_contentDiv';	
    	if(!this.divs_transparentDiv)return;
    	
    	var bodyWidth=DHTMLSuite.clientInfoObj.getBrowserWidth();
    	var bodyHeight=DHTMLSuite.clientInfoObj.getBrowserHeight();
    	
// Setting width and height of content div
      	this.divs_content.style.width=this.width+'px';
    	this.divs_content.style.height= this.height+'px';  	
    	
    	
// Creating temporary width variables since the actual width of the content div could be larger than this.width and this.height(i.e. padding and border)
    	var tmpWidth=this.divs_content.offsetWidth;	
    	var tmpHeight=this.divs_content.offsetHeight;
    	
	
    	this.divs_content.style.left=Math.ceil((bodyWidth-tmpWidth)/ 2)+'px';;
    	this.divs_content.style.top=(Math.ceil((bodyHeight-tmpHeight)/ 2)+ topOffset)+'px';
    	this.divs_shadow.style.left=(this.divs_content.style.left.replace('px','')/1+this.shadowOffset)+'px';
    	this.divs_shadow.style.top=(this.divs_content.style.top.replace('px','')/1+this.shadowOffset)+'px';
    	this.divs_shadow.style.height=tmpHeight+'px';
    	this.divs_shadow.style.width=tmpWidth+'px';



		
    	if(!this.shadowDivVisible)this.divs_shadow.style.display='none';	
// Hiding shadow if it has been disabled
    	this.__resizeTransparentDiv();
    	
    }	
    
// }}}
    ,
   	
// {{{ __resizeTransparentDiv()
    /**
     *	Resize transparent div
    *	
     *
    *@private	
     */	 
    __resizeTransparentDiv:function()
    {
    	if(!this.divs_transparentDiv)return;
    	var divHeight=DHTMLSuite.clientInfoObj.getBrowserHeight();
    	var divWidth=DHTMLSuite.clientInfoObj.getBrowserWidth();
    	this.divs_transparentDiv.style.height=divHeight +'px';   
    	this.divs_transparentDiv.style.width=divWidth+'px';
    	   	
	if(this.iframeEl){
		this.iframeEl.style.width=this.divs_transparentDiv.style.width;
		this.iframeEl.style.height=this.divs_transparentDiv.style.height;
	}
	    	
    	
    }
	
// }}}	
	,
	
// {{{ __addHTMLContent()
    /**
     *	Insert content into the content div
    *	
     *
    *@private	
     */	
    __addHTMLContent:function()
    {
	if(!this.dynContentObj){
// dynamic content object doesn't exists?
		try{
		this.dynContentObj=new DHTMLSuite.dynamicContent();	
// Create new DHTMLSuite_dynamicContent object.
		}catch(e){
		alert('You need to include dhtmlSuite-dynamicContent.js');
		}
	}
	if(this.url){	
// url specified-load content dynamically
		this.dynContentObj.loadContent('DHTMLSuite_modalBox_contentDiv',this.url);
	}
	if(this.htmlOfModalMessage){	
// no url set, put static content inside the message box
		this.divs_content.innerHTML=this.htmlOfModalMessage;	
		
	}
	
	if(this.domRef){
		this.divs_content.innerHTML ='';
		this.divs_content.appendChild(this.domRef);	
		var dis=DHTMLSuite.commonObj.getStyle(this.domRef,'display');
		if(dis=='none')this.domRef.style.display='block';
		this.domRef.style.visibility='visible';		
	}
    }	
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	DHTML window scripts
*
*	Created:			January, 27th, 2006
*	@class Purpose of class:	Color palette
*		
*	Css files used by this script:	
*
*	Demos of this class:		demo-color-window-1.html
*
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class 	This class simply creates a color palette
* @version 1.0
* @param colorProperties-associative array of palette properties, possible keys: width, callbackOnColorClick
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*
*	css file used for this widget: color-widget.css
*	Demo: (<a href="../../demos/demo-color-window-1.html" target="_blank">demo 1</a>)
**/

DHTMLSuite.colorPalette=function(propertyArray)
{
	var divElement;
	var layoutCSS;
	var colors;
	var colorHelper;
	var width;
	var callbackOnColorClick;
	var objectIndex;
	var currentColor;
	
	try{
	this.colorHelper=new DHTMLSuite.colorUtil();
	}catch(e){
	alert('You need to include dhtmlSuite-colorUtil.js');
	}
	this.layoutCSS='color-palette.css';
	this.colors=new Array();
	this.currentColor=new Object();
	
	if(propertyArray)this.__setInitProps(propertyArray);
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
}

DHTMLSuite.colorPalette.prototype=
{
	
// {{{ setCallbackOnColorClick()
    /**
    *Specify callback function executed when user clicks on a color. A callback function cal also be specified in the constructor.
     *	
    *@public	
     */	
	setCallbackOnColorClick:function(functionName)
	{
	this.callbackOnColorClick=functionName;
	}
	
// }}}
	,	
	
// {{{ __setInitProps()
    /**
    *Save initial palette properties sent to the constructor
     *	
    *@private	
     */	
	__setInitProps:function(propertyArray)
	{
	if(propertyArray.width){
		propertyArray.width=propertyArray.width+'';
		if(propertyArray.width.match(/^[^0-9]*?$/)){
		propertyArray.width=propertyArray.width+'px';
		}
		this.width=propertyArray.width;
	}
	if(propertyArray.callbackOnColorClick)this.callbackOnColorClick=propertyArray.callbackOnColorClick;
	}
	
// }}}
	,	
	
// {{{ addAllWebColors()
    /**
    *Add all 216 web colors to the palette.
     *	
    *@public	
     */	
	addAllWebColors:function()
	{
	var colors=this.colorHelper.getAllWebColors();
	for(var no=0;no<colors.length;no++){
		this.colors[this.colors.length]=['#'+colors[no],'#'+colors[no]];
		
	}
	
	}
	
// }}}
	,
	
// {{{ addAllNamedColors()
    /**
    *Add all named colors to the palette
     *	
    *@public	
     */	
	addAllNamedColors:function()
	{
	var colors=this.colorHelper.getAllNamedColors();	
	for(var no=0;no<colors.length;no++){
		this.colors[this.colors.length]=['#'+colors[no][1],colors[no][0]];		
	}	
	
	}
	
// }}}
	,
	
// {{{ addGrayScaleColors()
    /**
    *Add gray scale colors to the palette
     *	
     *	@param Int numberOfColors-Number of colors to add
     *	@param Int rangeFrom-Optional parameter between 0 and 255(default is 0)
     *	@param Int rangeTo-Optional parameter between 0 and 255 ( default is 255)
    *@public	
     */	
	addGrayScaleColors:function(numberOfColors,rangeFrom,rangeTo)
	{
	if(!numberOfColors)numberOfColors=16;
	if(!rangeFrom)rangeFrom=0;
	if(!rangeTo)rangeTo=255;
	if(rangeFrom>rangeTo){
		var tmpRange=rangeFrom;
		rangeFrom=rangeTo;
		rangeTo=tmpRange;	
	}	
	var step=(rangeTo-rangeFrom)/ numberOfColors;
	for(var no=rangeFrom;no<=rangeTo;no+=step){
		var color=this.colorHelper.baseConverter(Math.round(no),10,16)+'';
		while(color.length<2)color='0'+color;
		this.colors[this.colors.length]=['#'+color+color+color,'#'+color+color+color];		
	}	
	}
	
// }}}
	,
	
// {{{ addColor()
    /**
    *Add a single color to the palette
     *	
     *	@param String color-Rgb code of color, example. #FF0000
     *	@param String name-Name of color (optional parameter)
     *	
    *@public	
     */	
	addColor:function(color,name)
	{	
	if(!name)name=color;
	this.colors[this.colors.length]=[color,name];	
	}
	
// }}}
	,
	
// {{{ setLayoutCss()
    /**
    *Specify name of css file.
     *	
     *	@param String cssFileName-Name of css file. path will be the config path+this name.(DHTMLSuite.configObj.cssPath)
     *	
     *	
    *@public	
     */	
	setLayoutCss:function(cssFileName)
	{
	this.layoutCSS=cssFileName;
	}
	
// }}}
	,
	
// {{{ getDivElement()
    /**
    *Returns a reference to the div element for this widget.
     *	
     *	@return Object DivElement-Reference to div element.
     *	
     *	
    *@public	
     */	
	getDivElement:function()
	{
	return this.divElement;
	}
	
// }}}
	,
	
// {{{ init()
    /**
    *Initializes the widget. Call this method after all colors has been added to the palette.
     *	
     *	
    *@public	
     */	
	init:function()
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);
	this.__createMainDivEl();	
	this.__createColorDivs();
	}
	
// }}}
	,
	
// {{{ __createMainDivEl()
    /**
    *Create main div element for the widget.
     *	
    *@private	
     */	
	__createMainDivEl:function()
	{
	this.divElement=document.createElement('DIV');
	this.divElement.className='DHTMLSuite_colorPalette';
	if(this.width){
		this.divElement.style.width=this.width;
	}
	}	
	
// }}}
	,
	
// {{{ __createColorDivs()
    /**
    *Create small color divs for the widget.
     *	
    *@private	
     */	
	__createColorDivs:function()
	{
	var ind=this.objectIndex;
	for(var no=0;no<this.colors.length;no++){
		var div=document.createElement('DIV');
		div.className='DHTMLSuite_colorPaletteColor';
		div.setAttribute('rgb',this.colors[no][0]);
		try{
		div.style.backgroundColor=this.colors[no][0];
		}catch(e){
		div.style.display='none';
		}
		div.onclick=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__clickOnColor(e); };
		DHTMLSuite.commonObj.__addEventEl(div)
		div.title=this.colors[no][1];
		this.divElement.appendChild(div);	
		
	}	
	var clearDiv=document.createElement('DIV');
	clearDiv.style.clear='both';
	this.divElement.appendChild(clearDiv);
	}
	
// }}}
	,
	
// {{{ __clickOnColor()
    /**
    *Called when users clicks on a color
     *	@param Event e-Event object-used to get a reference to the clicked color div.
     *	
    *@private	
     */	
	__clickOnColor:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	
	this.currentColor.rgb=src.getAttribute('rgb');
	if(!this.currentColor.rgb)this.currentColor.rgb=src.rgb;
	this.currentColor.name=src.title;
	this.__handleCallback('colorClick');
	
	}
	
// }}}
	,
	
// {{{ __handleCallback()
    /**
    *Handle call back actions.
     *	@param String Action-Callback action to execute
     *	
    *@private	
     */	
	__handleCallback:function(action)
	{
	var callbackString='';
	switch(action)
	{
		case "colorClick":
		if(this.callbackOnColorClick)callbackString=this.callbackOnColorClick;
		break;
		
	}
	
	if(callbackString){
		callbackString=callbackString+'({ rgb:this.currentColor.rgb, name:this.currentColor.name})';
		eval(callbackString);
	}	
	}
}


/**
* @constructor
* @class This is a color slider class
* @version 1.0
* @param Array properties-Possible keys:
*
*
*	css file used for this widget: color-widget.css
*	Demo: (<a href="../../demos/demo-color-window-1.html" target="_blank">demo 1</a>)
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/


DHTMLSuite.colorSlider=function(propertyArray)
{
	var divElement;
	var layoutCSS;
	var colorHelper;	
// Object of class DHTMLSuite.colorUtil
	
	var currentRgb;	
	var currentRed;
	var currentGreen;
	var currentBlue;
	var objectIndex;
	var frmFieldRed;
	var frmFieldGreen;
	var frmFieldBlue;
	var callbackOnChangeRgb;
	
	this.currentRgb='FF0000';
	this.currentRed=255;
	this.currentBlue=0;
	this.currentGreen=0;
	
	this.currentRedHex='FF';
	this.currentGreenHex='00';
	this.currentBlueHex='00';
	
	this.layoutCSS='color-slider.css';
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}	
	
	try{
	this.colorHelper=new DHTMLSuite.colorUtil();
	}catch(e){
	alert('You need to include dhtmlSuite-colorUtil.js');
	}
	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
	
	if(propertyArray)this.__setInitProps(propertyArray);
}


DHTMLSuite.colorSlider.prototype=
{	
	
// {{{ __setInitProps()
    /**
    *Handle call back actions.
    *@param Array props-Array of properties
     *	
    *@private	
     */	
	__setInitProps:function(props)
	{
	if(props.callbackOnChangeRgb)this.callbackOnChangeRgb=props.callbackOnChangeRgb;	
	}
	
// }}}
	,
	
// {{{ init()
    /**
    *Initializes the script
     *	
    *@public	
     */	
	init:function()
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);
	this.__createMainDivEl();	
	this.__createDivPreview();
	this.__createSliderDiv();
	this.__createColorDiv();	
	this.__setPreviewDivBgColor();	
	}
	
// }}}
	,
	
// {{{ setRgbColor()
    /**
    *Set new rgb code
     *
     *	@param String rgbCode-New RGB code in the format RRGGBB
     *	
    *@public	
     */	
	setRgbColor:function(rgbCode)
	{
	rgbCode=rgbCode+'';
	rgbCode=rgbCode.replace(/[^0-9A-F]/gi,'');
	if(rgbCode.length!=6)return false;
	this.currentRgb=rgbCode;
	this.__setParamsFromCurrentRgb();
	try{
		this.__updateSliderHandles();
		this.__updateFormFields();
		this.__setPreviewDivBgColor();	
	}catch(e){
		
// Widget not yet initialized by the init()method
	}	
	}
	
// }}}
	,
	
// {{{ getDivElement()
    /**
    *Return a reference to the main div element for this widget. you can use appendChild()to append it to an element on your web page.
     *	example: document.body.appendChild(colorSlider.getDivElement()).
     *
     *	@return Object divElement-Reference to div element for this widget
     *	
    *@public	
     */	
	getDivElement:function()
	{
	return this.divElement;
	}
	
// }}}
	,
	
// {{{ __createMainDivEl()
    /**
    *Create main div element for the widget. This is the top most parent div.
     *	
    *@private	
     */	
	__createMainDivEl:function()
	{
	this.divElement=document.createElement('DIV');
	this.divElement.className='DHTMLSuite_colorSlider';
	}
	
// }}}
	,
	
// {{{ __createDivPreview()
    /**
    *Create color preview div.
     *	
    *@private	
     */	
	__createDivPreview:function()
	{
	var div=document.createElement('DIV');
	div.className='DHTMLSuite_colorSliderPreviewParent';
	this.divPreview=document.createElement('DIV');
	this.divPreview.className='DHTMLSuite_colorSliderPreview';
	div.appendChild(this.divPreview);
	this.divElement.appendChild(div);		
	}
	
// }}}
	,
	
// {{{ __createSliderDiv()
    /**
    *Create divs for the sliders.
     *	
    *@private	
     */	
	__createSliderDiv:function()
	{
	var ind=this.objectIndex;
	
	var div=document.createElement('DIV');
	div.className='DHTMLSuite_colorSliderSliderParent';
	this.divElement.appendChild(div);
	
	
// Red slider
	var divRed=document.createElement('DIV');
	divRed.className='DHTMLSuite_colorSliderSliderColorRow';
	div.appendChild(divRed);
	
	var labelDiv=document.createElement('DIV');
	labelDiv.className='DHTMLSuite_colorSliderSliderLabelDiv';
	labelDiv.innerHTML='R';
	divRed.appendChild(labelDiv);
	
	var sliderDiv=document.createElement('DIV');
	sliderDiv.className='DHTMLSuite_colorSliderSlider';
	divRed.appendChild(sliderDiv);
	try{
		var sliderObj=new DHTMLSuite.slider();
	}catch(e){
		alert('Error-you need to include dhtmlSuite-slider.js');
	}
	sliderObj.setSliderTarget(sliderDiv);
	sliderObj.setSliderWidth(240);
	sliderObj.setOnChangeEvent('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__receiveRedFromSlider');
	sliderObj.setSliderName('red');
	sliderObj.setInitialValue(this.currentRed);
	sliderObj.setSliderMaxValue(255);
	sliderObj.init();	
	this.sliderObjRed=sliderObj;
	
	var inputDiv=document.createElement('DIV');
	inputDiv.className='DHTMLSuite_colorSliderSliderInputDiv';
	this.frmFieldRed=document.createElement('INPUT');
	this.frmFieldRed.value=this.currentRed;
	this.frmFieldRed.maxLength=3;
	inputDiv.appendChild(this.frmFieldRed);	
	divRed.appendChild(inputDiv);
	this.frmFieldRed.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveRedFromForm(e); };
	DHTMLSuite.commonObj.__addEventEl(this.frmFieldRed);	

	
	
// Green slider
	var divGreen=document.createElement('DIV');
	divGreen.className='DHTMLSuite_colorSliderSliderColorRow';
	div.appendChild(divGreen);
	
	var labelDiv=document.createElement('DIV');
	labelDiv.className='DHTMLSuite_colorSliderSliderLabelDiv';
	labelDiv.innerHTML='G';
	divGreen.appendChild(labelDiv);
	
	var sliderDiv=document.createElement('DIV');
	sliderDiv.className='DHTMLSuite_colorSliderSlider';
	divGreen.appendChild(sliderDiv);

	var sliderObj=new DHTMLSuite.slider();
	sliderObj.setSliderTarget(sliderDiv);
	sliderObj.setSliderWidth(240);
	sliderObj.setOnChangeEvent('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__receiveGreenFromSlider');
	sliderObj.setSliderName('green');
	sliderObj.setInitialValue(this.currentGreen);
	sliderObj.setSliderMaxValue(255);
	sliderObj.init();	
	this.sliderObjGreen=sliderObj;
	
	var inputDiv=document.createElement('DIV');
	inputDiv.className='DHTMLSuite_colorSliderSliderInputDiv';
	this.frmFieldGreen=document.createElement('INPUT');
	this.frmFieldGreen.value=this.currentGreen;
	this.frmFieldGreen.maxLength=3;
	inputDiv.appendChild(this.frmFieldGreen);	
	divGreen.appendChild(inputDiv);
	this.frmFieldGreen.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveGreenFromForm(e); };
	DHTMLSuite.commonObj.__addEventEl(this.frmFieldGreen);
		
	
// Blue slider
	var divBlue=document.createElement('DIV');
	divBlue.className='DHTMLSuite_colorSliderSliderColorRow';
	div.appendChild(divBlue);
	
	var labelDiv=document.createElement('DIV');
	labelDiv.className='DHTMLSuite_colorSliderSliderLabelDiv';
	labelDiv.innerHTML='B';
	divBlue.appendChild(labelDiv);
	
	var sliderDiv=document.createElement('DIV');
	sliderDiv.className='DHTMLSuite_colorSliderSlider';
	divBlue.appendChild(sliderDiv);

	var sliderObj=new DHTMLSuite.slider();
	sliderObj.setSliderTarget(sliderDiv);
	sliderObj.setSliderWidth(240);
	sliderObj.setOnChangeEvent('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__receiveBlueFromSlider');
	sliderObj.setSliderName('blue');
	sliderObj.setInitialValue(this.currentBlue);
	sliderObj.setSliderMaxValue(255);
	sliderObj.init();	
	this.sliderObjBlue=sliderObj;
	
	var inputDiv=document.createElement('DIV');
	inputDiv.className='DHTMLSuite_colorSliderSliderInputDiv';
	this.frmFieldBlue=document.createElement('INPUT');
	this.frmFieldBlue.value=this.currentBlue;
	this.frmFieldBlue.maxLength=3;
	this.frmFieldBlue.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveBlueFromForm(e); };
	DHTMLSuite.commonObj.__addEventEl(this.frmFieldBlue);
	inputDiv.appendChild(this.frmFieldBlue);	
	divBlue.appendChild(inputDiv);
	
	}
	
// }}}
	,
	
// {{{ __getValidatedFormVar()
    /**
    *Return form variable(red,green or blue)from event
     *	
     *	@param Event e-Reference to the Event object.
    *@private	
     */	
	__getValidatedFormVar:function(e)
	{
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var val=src.value;
	val=val.replace(/[^0-9]/gi,'');
	if(!val)val=0;
	val=val/1;
	if(val<0)val=0;
	if(val>255)val=255;	
	return val;	
	}
	,
	
// {{{ __receiveRedFromForm()
    /**
    *Receive color from the red text input.
     *	@param Event e-Reference to the Event object
     *	
    *@private	
     */	
	__receiveRedFromForm:function(e)
	{
	if(document.all)e=event;
	this.currentRed=this.__getValidatedFormVar(e);	
	this.currentRedHex=this.colorHelper.baseConverter(this.currentRed,10,16)+'';
	while(this.currentRedHex.length<2)this.currentRedHex='0'+this.currentRedHex;
	this.currentRgb=this.currentRedHex+this.currentGreenHex+this.currentBlueHex;
	this.__updateSliderHandles();
	this.__updateFormFields();
	this.__setPreviewDivBgColor();	
	}
	
// }}}
	,
	
// {{{ __receiveGreenFromForm()
    /**
    *Receive color from the green text input.
     *	
    *@private	
     */	
	__receiveGreenFromForm:function(e)
	{
	if(document.all)e=event;
	this.currentGreen=this.__getValidatedFormVar(e);
	this.currentGreenHex=this.colorHelper.baseConverter(this.currentGreen,10,16)+'';
	while(this.currentGreenHex.length<2)this.currentGreenHex='0'+this.currentGreenHex;
	this.currentRgb=this.currentRedHex+this.currentGreenHex+this.currentBlueHex;		
	this.__updateSliderHandles();
	this.__updateFormFields();
	this.__setPreviewDivBgColor();		
	}
	
// }}}
	,
	
// {{{ __receiveBlueFromForm()
    /**
    *Receive blue color from form.
     *	
    *@private	
     */	
	__receiveBlueFromForm:function(e)
	{
	if(document.all)e=event;
	this.currentBlue=this.__getValidatedFormVar(e);
	this.currentBlueHex=this.colorHelper.baseConverter(this.currentBlue,10,16)+'';
	while(this.currentBlueHex.length<2)this.currentBlueHex='0'+this.currentBlueHex;
	this.currentRgb=this.currentRedHex+this.currentGreenHex+this.currentBlueHex;	
	this.__updateSliderHandles();
	this.__updateFormFields();
	this.__setPreviewDivBgColor();		
	}
	
// }}}
	,
	
// {{{ __createColorDiv()
    /**
    *Create color div at the bottom, the div users can click on in order to select a color.
     *	
    *@private	
     */	
	__createColorDiv:function()
	{
	var ind=this.objectIndex;	
	var div=document.createElement('DIV');
	div.className='DHTMLSuite_colorSliderRgbBgParent';
	this.divElement.appendChild(div);
	this.colorDiv=document.createElement('DIV');
	this.colorDiv.className='DHTMLSuite_colorSliderRgbBg';
	div.appendChild(this.colorDiv);	
	DHTMLSuite.commonObj.addEvent(this.colorDiv,'click',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__clickOnRgbBg(e); });	
	}
	
// }}}
	,
	
// {{{ __setPreviewDivBgColor()
    /**
    *Update the background color of the preview div..
     *	
    *@private	
     */	
	__setPreviewDivBgColor:function()
	{
	try{
		this.divPreview.style.backgroundColor='#'+this.currentRgb;
		this.__handleCallback('rgbChange');
	}catch(e){
		alert(this.currentRgb);
	}
	}
	
// }}}
	,
	
// {{{ __setParamsFromCurrentRgb()
    /**
    *Save properties by parsing rgbCode
     *	
    *@private	
     */	
	__setParamsFromCurrentRgb:function()
	{
	this.currentRedHex=this.currentRgb.substr(0,2); 
	this.currentGreenHex=this.currentRgb.substr(2,2); 
	this.currentBlueHex=this.currentRgb.substr(4,2); 		
	this.currentRed=this.colorHelper.baseConverter(this.currentRedHex,16,10);
	this.currentGreen=this.colorHelper.baseConverter(this.currentGreenHex,16,10);
	this.currentBlue=this.colorHelper.baseConverter(this.currentBlueHex,16,10);		
	}
	
// }}}
	,	
	
// {{{ __clickOnRgbBg()
    /**
    *Click event on the color gradient at the bottom.
     *	@param Object e-reference to the Event object.
     *	
    *@private	
     */	
	__clickOnRgbBg:function(e)
	{
	var left=DHTMLSuite.commonObj.getLeftPos(this.colorDiv);
	var top=DHTMLSuite.commonObj.getTopPos(this.colorDiv);
	if(document.all)e=event;
	
	var width=350;
	var height=20;
	var y=e.clientY-top;
	var x=e.clientX-left-1;
	if(e.layerX){ 
// For those browsers who supports layerX, example: Firefox.
		x=e.layerX;	
		y=e.layerY;
	}
	if(y>height)y=height;
	if(x<=350){
		this.currentRgb=this.__getHorizColor(y*width+x-1, width, height);	
		this.__setParamsFromCurrentRgb();
	}else{
		this.currentRgb='000000';
		this.currentRedHex='00';
		this.currentGreenHex='00';
		this.currentBlueHex='00';
		this.currentRed=0;
		this.currentGreen=0;
		this.currentBlue=0;
	}
	this.__updateSliderHandles();
	this.__updateFormFields();
	this.__setPreviewDivBgColor();
	}
	
// }}}
	,
	
// {{{ __updateSliderHandles()
    /**
    * Users has clicked on color bar at the bottom or changed the values of the inputs->Update position of sliders.
     *	
    *@private	
     */	
	__updateSliderHandles:function()
	{
	this.sliderObjRed.setSliderValue(this.currentRed);
	this.sliderObjGreen.setSliderValue(this.currentGreen);
	this.sliderObjBlue.setSliderValue(this.currentBlue);	
	}
	
// }}}
	,
	
// {{{ __updateFormFields()
    /**
    * Update values of form fields
     *	
    *@private	
     */	
	__updateFormFields:function()
	{	
	this.frmFieldRed.value=this.currentRed;
	this.frmFieldGreen.value=this.currentGreen;
	this.frmFieldBlue.value=this.currentBlue;	
	}
	
// }}}
	,
	
// {{{ __receiveRedFromSlider()
    /**
    * Receive red color from slider
     *	@param Integer value-New red value(0-255)
     *	
    *@private	
     */	
	__receiveRedFromSlider:function(value)
	{
	this.frmFieldRed.value=value;	
	this.currentRed=value;	
	this.currentRedHex=this.colorHelper.baseConverter(value,10,16)+'';
	if(this.currentRedHex.length==1)this.currentRedHex='0'+this.currentRedHex;	
	this.currentRgb=this.currentRedHex+this.currentGreenHex+this.currentBlueHex;
	this.__setPreviewDivBgColor();
	}
	
// }}}
	,
	
// {{{ __receiveGreenFromSlider()
    /**
    * Receive green color from slider
     *	@param Integer value-New green value(0-255)
     *	
    *@private	
     */	
	__receiveGreenFromSlider:function(value)
	{
	this.frmFieldGreen.value=value;	
	this.currentGreen=value;
	this.currentGreenHex=this.colorHelper.baseConverter(value,10,16)+'';	
	if(this.currentGreenHex.length==1)this.currentGreenHex='0'+this.currentGreenHex;	
	this.currentRgb=this.currentRedHex+this.currentGreenHex+this.currentBlueHex;
	this.__setPreviewDivBgColor();
	}
	
// }}}
	,
	
// {{{ __receiveBlueFromSlider()
    /**
    * Receive blue color from slider
     *	@param Integer value-New green value(0-255)
     *	
    *@private	
     */	
	__receiveBlueFromSlider:function(value)
	{
	this.frmFieldBlue.value=value;	
	this.currentBlue=value;
	this.currentBlueHex=this.colorHelper.baseConverter(value,10,16)+'';
	if(this.currentBlueHex.length==1)this.currentBlueHex='0'+this.currentBlueHex;	
	this.currentRgb=this.currentRedHex+this.currentGreenHex+this.currentBlueHex;	
	this.__setPreviewDivBgColor();	
	}
	
// }}}
	,
	
// {{{ ____getHorizColor()
    /**
     /* This function is from the great article at http:
//www.webreference.com/programming/javascript/mk/column3/index.html 
     *
    * Click events on color bar -> this method returns the correct color based on where the mouse was on the bar
     *
     *	@param Integer i-Combination of x and y position on the bar
     *	@param Integer width-Width of bar
     *	@param Integer height-Height of bar
     *	
    *@private	
     */	
    __getHorizColor:function (i, width, height){
	var sWidth=(width)/7;         
// "section" width
	var C=i%width;                  
// column
	var R=Math.floor(i/(sWidth*7)); 
// row
	var c=i%sWidth;                 
// column in current group
	var r, g, b, h;
	
	var l=(255/sWidth)*c;           
// color percentage
	
	if(C>=sWidth*6){
		r=g=b=255-l;
	} else {
		h=255-l;	
		r=C<sWidth?255:C<sWidth*2?h:C<sWidth*4?0:C<sWidth*5?l:255;
		g=C<sWidth?l:C<sWidth*3?255:C<sWidth*4?h:0;
		b=C<sWidth*2?0:C<sWidth*3?l:C<sWidth*5?255:h;	
		if(R<(height/2)){
		var base=255-(255*2/height)*R;	
		r=base+(r*R*2/height);
		g=base+(g*R*2/height);
		b=base+(b*R*2/height);
		}else if(R>(height/2)){
		var base=(height-R)/(height/2);	
		r=r*base;
		g=g*base;
		b=b*base;
		}
	}	
	var red=this.colorHelper.baseConverter(r,10,16)+'';
	if(red.length=='1')red='0'+red;
	var green=this.colorHelper.baseConverter(g,10,16)+'';
	if(green.length=='1')green='0'+green;
	var blue=this.colorHelper.baseConverter(b,10,16)+'';
	if(blue.length=='1')blue='0'+blue;
	return red+green+blue;

	}
	
// }}}
	,
	
// {{{ __handleCallback()
    /**
    * Handle callback
     *	@param String action-Action to execute
     *	
    *@private	
     */	
	__handleCallback:function(action)
	{
	var callbackString='';
	switch(action){
		case "rgbChange":
		if(this.callbackOnChangeRgb)callbackString=this.callbackOnChangeRgb;
		break;
	}
	if(callbackString){		
		var rgb=this.currentRgb.toUpperCase();
		callbackString=callbackString+'({ rgb:"#'+rgb+'",name:"#'+rgb+'"})';
		return eval(callbackString);
	}
	}
}


/**
* @constructor
* @class This class provides some methods for working with colors.
* @version 1.0
* @param Array properties-Possible keys:
*	hueSliderPosition("horizontal" or "vertical"(default): 
*	displayHsv (true or false if hsv form fields should be shown-true is default)
*	displayRgb (true or false if rgb form fields should be shown-true is default)
*	displayRgbCode ( true or false if the rgb code field should be shown-true is default)
*	callbackOnChangeRgb ( callback function to execute when rgb code changes)
*	updateFormDuringMoveOnPalette-Update the form with hsv and rgb codes during drag on palette(default=true)- setting this value to false spees up the widget a little bit
*
*
*	css file used for this widget: color-widget.css
*	Demo: (<a href="../../demos/demo-color-window-1.html" target="_blank">demo 1</a>)
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/


DHTMLSuite.colorWidget=function(propertyArray)
{
	var divElement;
	var divElPalette;
	var divElPaletteCircle;
	var divElHueBar;
	var sliderDiv;
	var updateFormDuringMoveOnPalette;
	
	var layoutCSS;
	var objectIndex;
	
	var currentHue;
	var currentBrightness;
	var currentSaturation;
	var currentRgbCode;
	
	var colorHelper;
	var dragObject;
	var topPosHueBar;
	var paletteSize;
	
	var formFieldHue;
	var formFieldSaturation;
	var formFieldBrightness;
	var formFieldBlue;
	var formFieldGreen;
	var formFieldRed;
	
	var displayHsv;
	var displayRgb;
	var displayRgbCode;
	
	this.displayRgb=true;
	this.displayHsv=true;
	this.displayRgbCode=true;
	this.updateFormDuringMoveOnPalette=true;
	
	var hueSliderPosition;
	var circleOffsetSize;		
// Size of small circle / 2 rounded
	var posdivElPalette;
	var parentRef;
	
	this.posdivElPalette=new Object();
	
	var circleOffsetBecauseOfWinWidget;
	
	var callbackOnChangeRgb;
	
	this.circleOffsetBecauseOfWinWidget=0;
	
	this.circleOffsetSize=7;
	this.hueSliderPosition='vertical';
	this.layoutCSS='color-widget.css';
	this.currentHue=0;
	this.currentBrightness=100;
	this.currentSaturation=100;
	this.paletteSize=256;
	this.currentRgbCode='FF0000';

	try{
	this.colorHelper=new DHTMLSuite.colorUtil();
	}catch(e){
	alert('You need to include dhtmlSuite-colorUtil.js');
	}
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}

	
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
	
	this.__setInitProps(propertyArray);
}

DHTMLSuite.colorWidget.prototype=
{
	
// {{{ __setInitProps()
    /**
    *Set initial properties sent to the constructor
     *
    *@private
     */	
	__setInitProps:function(propertyArray)
	{
	if(!propertyArray)return;
	if(propertyArray.hueSliderPosition)this.hueSliderPosition=propertyArray.hueSliderPosition;
	if(propertyArray.callbackOnChangeRgb)this.callbackOnChangeRgb=propertyArray.callbackOnChangeRgb;
	if(propertyArray.displayHsv||propertyArray.displayHsv===false)this.displayHsv=propertyArray.displayHsv;
	if(propertyArray.displayRgb||propertyArray.displayRgb===false)this.displayRgb=propertyArray.displayRgb;
	if(propertyArray.displayRgbCode||propertyArray.displayRgbCode===false)this.displayRgbCode=propertyArray.displayRgbCode;
	if(propertyArray.updateFormDuringMoveOnPalette||propertyArray.updateFormDuringMoveOnPalette===false)this.updateFormDuringMoveOnPalette=propertyArray.updateFormDuringMoveOnPalette;
	if(propertyArray.parentRef)this.parentRef=DHTMLSuite.commonObj.getEl(propertyArray.parentRef);
	}
	
// }}}
	,
	
// {{{ setHueSliderPosition()
    /**
    *Specify position of hue slider, vertical or horizontal
     *
    *@param String hueSliderPosition-Hue slider position-"vertical" or "horizontal"
    *@public
     */	
	setHueSliderPosition:function(hueSliderPosition)
	{
	this.hueSliderPosition=hueSliderPosition;
	if(hueSliderPosition=='vertical'){		
		this.sliderDivHorMain.style.display='none';
		this.sliderDivMain.style.display='block';
		var ind=this.objectIndex;
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].sliderDiv.style.marginTop=(2 -Math.floor(DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].sliderDiv.offsetHeight/2))+"px"',100);
		
		
	}
	if(hueSliderPosition=='horizontal'){
		if(this.sliderDivMain){
		this.sliderDivHorMain.style.display='block';
		this.sliderDivMain.style.display='none';
		}	
	}
	

	}
	
// }}}
	,
	
// {{{ setCallbackOnChangeRgb()
    /**
    *Specify call back function which is executed when the rgb value is modified. Only the name of the function should be sent to this method. 
     *	When the callback is executed, an associative array will be sent as argument. Keys in this array will be rgb,hue,saturation and brightness.
     *
    *@param String functionName-Name of function to execute when the rgb color is changed.
    *@public
     */	
	setCallbackOnChangeRgb:function(functionName)
	{
	this.callbackOnChangeRgb=functionName;
	}
	
// }}}
	,
	
// {{{ setRgbColor()
    /**
    *Set new rgb color for the slider.
     *
    *@public
     */	
	setRgbColor:function(rgbColor)
	{
	var hsv=this.colorHelper.getHsvByRgbCode(rgbColor);
	this.currentHue=Math.round(hsv.hue);
	this.currentBrightness=Math.round(hsv.brightness*100);
	this.currentSaturation=Math.round(hsv.saturation*100);
	this.__changeViewAfterColorChange();

	}
	
// }}}
	,
	
// {{{ setHue()
    /**
    *Set new hue, i.e. position on the color circle.
     *
     *	@param Int hue-value between 0 and 359
     *
    *@public
     */	
	setHue:function(hue)
	{
	hue=hue+'';
	if(hue.match(/^[0-9]+$/)){
		while(hue>=360)hue-=360;
		this.currentHue=hue;
		this.__changeViewAfterColorChange();
	}	
	}
	
// }}}
	,
	
// {{{ setSaturation()
    /**
    *Set new saturation, i.e. amount of color(hue)
     *
     *	@param Int saturation-value between 0 and 100
     *
    *@public
     */	
	setSaturation:function(saturation)
	{
	saturation=saturation+'';
	if(saturation.match(/^[0-9]+$/)){
		while(saturation>100)saturation-=100;
		this.currentSaturation=saturation;
		this.__changeViewAfterColorChange();
	}	
	}
	
// }}}
	,
	
// {{{ setBrightness()
    /**
    *Set new brightness
     *
     *	@param Int brightness-value between 0 and 100
     *
    *@public
     */	
	setBrightness:function(brightness)
	{
	brightness=brightness+'';
	if(brightness.match(/^[0-9]+$/)){
		while(brightness>100)brightness-=100;
		this.currentBrightness=brightness;
		this.__changeViewAfterColorChange();
	}	
	}
	
// }}}
	,
	
// {{{ getDivElement()
    /**
    *Return a reference to main div element for the widget.
     *
    *@public
     */	
	getDivElement:function()
	{
	return this.divElement;
	
	}	
	
// }}}
	,
	
// {{{ init()
    /**
    *Initializes the widget
     *
    *@public
     */	
	init:function()
	{
	DHTMLSuite.commonObj.loadCSS(this.layoutCSS);
	this.__createMainDivEl();	
	this.__createdivElPalette();
	this.__createHueBar();
	
	this.__createFormDiv();
	this.__createHueBarHorizontal();
	this.__addEvents();
	this.__setPaletteBgColor();
	this.__updateHsvInForm();
	this.__setBgColorPreviewDiv();
	this.__updateRgbInForm();
	}
	
// }}}
	,
	
// {{{ __changeViewAfterColorChange()
    /**
    *This method is called after a color has been changed by external calls(example: setRgbColor)
     *
    *@private
     */	
	__changeViewAfterColorChange:function()
	{	
	this.__setCurrentRgbCode();
	this.__setPaletteBgColor();	
	this.__setBgColorPreviewDiv();
	this.__setSliderPos();
	this.__updateRgbInForm();
	this.__updateHsvInForm();
	this.__setSmallCirclePosition();	
	}
	
// }}}
	,
	
// {{{ __updateHsvInForm()
    /**
    *Update Hsv colors in form.
     *
    *@private
     */	
	__updateHsvInForm:function()
	{
	if(!this.displayHsv)return;
	this.fieldHue.value=this.currentHue;
	this.fieldSaturation.value=this.currentSaturation;
	this.fieldBrightness.value=this.currentBrightness;
	return;
	if(this.currentBrightness > 80){		
		this.divElPaletteCircle.className ='DHTMLSuite_colorSlider_palette_circle DHTMLSuite_colorSlider_palette_circleBlack';
	}else{
		this.divElPaletteCircle.className  ='DHTMLSuite_colorSlider_palette_circle';
	}
	}
	
// }}}
	,
	
// {{{ __updateRgbInForm()
    /**
    *Update rgb colors in form.
     *
    *@private
     */	
	__updateRgbInForm:function()
	{
	
	var rgbColors=this.colorHelper.getRgbColorsByRgbCode(this.currentRgbCode);

	if(this.displayRgb){
		this.fieldBlue.value=rgbColors.blue;	
		this.fieldRed.value=rgbColors.red;	
		this.fieldGreen.value=rgbColors.green;	
	}	
	if(this.displayRgbCode){
		this.fieldRgbCode.value=this.currentRgbCode;
	}	
	if(this.callbackOnChangeRgb)this.__handleCallback('rgbChange');
	}
	
// }}}
	,
	
// {{{ __setSliderPos()
    /**
    *Position vertical and horizontal sliders-called after manually changes in the form
     *
    *@private
     */	
	__setSliderPos:function()
	{
	var topPos=Math.round(this.paletteSize-((this.currentHue / 360)* this.paletteSize))-3;
	this.sliderDiv.style.top=topPos; 
	this.sliderDivHor.style.left=(this.currentHue-4)+'px'; 	
	}
	
// }}}
	,
	
// {{{ __setBgColorPreviewDiv()
    /**
    *Set background color of preview div
     *
    *@private
     */	
	__setBgColorPreviewDiv:function()
	{
	this.divElPreviewDiv.style.backgroundColor='#'+this.currentRgbCode;
	}
	
// }}}
	,
	
// {{{ __setPaletteBgColor()
    /**
    *Set background color of gradient palette
     *
    *@private
     */	
	__setPaletteBgColor:function()
	{
	try{
		this.divElPalette.style.backgroundColor='#'+this.colorHelper.getRgbCodeByHsv(this.currentHue,1,1);
	}catch(e)
	{
		
	}
	}
	
// }}}
	,
	
// {{{ __createFormDiv()
    /**
    *Create form elements for the slider
     *
    *@private
     */	
	__createFormDiv:function()
	{
	var ind=this.objectIndex;
	
	this.divElForm=document.createElement('DIV');	
	this.divElForm.className='DHTMLSuite_colorSliderFormDiv';
	this.divElement.appendChild(this.divElForm);
	
	this.divElPreviewDiv=document.createElement('DIV');
	this.divElPreviewDiv.className='DHTMLSuite_colorSlider_colorPreview';
	this.divElForm.appendChild(this.divElPreviewDiv);
	
	
	var table=document.createElement('TABLE');
	table.cellpadding=0;
	table.cellspacing=0;
	table.className='DHTMLSuite_colorSliderFormTable';
	var form=document.createElement('FORM');
	table.appendChild(form);
	this.divElForm.appendChild(table);
	
	
	/* Hue */
	if(this.displayHsv){
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='H:';
		var cell=row.insertCell(-1);
		this.fieldHue=document.createElement('INPUT');
		this.fieldHue.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveHueFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldHue);
		this.fieldHue.maxLength=3;
		cell.appendChild(this.fieldHue);
		
		/* Saturation */
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='S:';
		var cell=row.insertCell(-1);
		this.fieldSaturation=document.createElement('INPUT');
		this.fieldSaturation.maxLength=3;
		this.fieldSaturation.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveSatFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldSaturation);
		cell.appendChild(this.fieldSaturation);
		
		/* Brightness */
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='B:';
		var cell=row.insertCell(-1);
		this.fieldBrightness=document.createElement('INPUT');
		this.fieldBrightness.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveBriFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldBrightness);
		this.fieldBrightness.maxLength=3;
		cell.appendChild(this.fieldBrightness);
	}
	
	if(this.displayRgb){	
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='R:';
		var cell=row.insertCell(-1);
		this.fieldRed=document.createElement('INPUT');
		this.fieldRed.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setRedColorFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldRed);	
		this.fieldRed.maxLength=3;
		cell.appendChild(this.fieldRed);
		
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='G:';
		var cell=row.insertCell(-1);
		this.fieldGreen=document.createElement('INPUT');
		this.fieldGreen.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setGreenColorFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldGreen);		
		this.fieldGreen.maxLength=3;
		cell.appendChild(this.fieldGreen);
		
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='B:';
		var cell=row.insertCell(-1);
		this.fieldBlue=document.createElement('INPUT');
		this.fieldBlue.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setBlueColorFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldBlue);		
		this.fieldBlue.maxLength=3;
		cell.appendChild(this.fieldBlue);
	}	
	if(this.displayRgbCode){
		var row=table.insertRow(-1);
		var cell=row.insertCell(-1);
		cell.innerHTML='#';
		var cell=row.insertCell(-1);
		this.fieldRgbCode=document.createElement('INPUT');
		this.fieldRgbCode.maxLength=6;
		this.fieldRgbCode.className='DHTMLSuite_colorSlider_rgbCode';
		this.fieldRgbCode.onchange=function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveRgbCodeFromForm(e); }
		DHTMLSuite.commonObj.__addEventEl(this.fieldRgbCode);	
		cell.appendChild(this.fieldRgbCode);	
	}	
	}
	
// }}}
	,	
	
// {{{ __createMainDivEl()
    /**
    *Create main div element
     *
    *@private
     */	
	__createMainDivEl:function()
	{
	this.divElement=document.createElement('DIV');
	this.divElement.className='DHTMLSuite_colorSlider';	
	if(this.parentRef)this.parentRef.appendChild(this.divElement);
	}
	
// }}}
	,
	
// {{{ __correctPng()
    /**
    *Correct png gradient for IE6 and below.
     *
    *@private
     */	
	__correctPng:function(id)
	{	
	try{
		var img=document.getElementById(id);
		var html='<span style="display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\''+img.src+'\',sizingMethod=\'scale\');width:'+this.paletteSize+';height:'+this.paletteSize+'"></span>';
		img.outerHTML=html;	
	}catch(e){
		var ind=this.objectIndex;
		setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].__correctPng("'+id+'")',20);
	}	
	}
	
// }}}
	,
	
// {{{ __createdivElPalette()
    /**
    *Create div element for the palette
     *
    *@private
     */	
	__createdivElPalette:function()
	{
	var ind=this.objectIndex;
	var div=document.createElement('DIV');
	div.className='DHTMLSuite_colorSlider_palette_border';
	div.style.position='relative';
	this.divElement.appendChild(div);
	this.divElPaletteBorder=div;
	
	this.divElPalette=document.createElement('DIV');
	this.divElPalette.className='DHTMLSuite_colorSlider_palette';	
	this.divElPalette.style.position='relative';
	
	DHTMLSuite.commonObj.__addEventEl(this.divElPalette);
	
	var img=document.createElement('IMG');
	img.src=DHTMLSuite.configObj.imagePath+'colorPalettes/bgGradient.png';
	img.setAttribute('width',this.paletteSize);
	img.setAttribute('height',this.paletteSize);
	img.ondragstart=function(){ return false; };	
	img.onselectstart=function(){ return false; };	
	img.onmousedown=function(){ return false; };
	img.id=''+DHTMLSuite.commonObj.getUniqueId();
	this.divElPalette.appendChild(img);
	DHTMLSuite.commonObj.__addEventEl(img);
	
	if((DHTMLSuite.clientInfoObj.isMSIE&&DHTMLSuite.clientInfoObj.navigatorVersion<7)||DHTMLSuite.clientInfoObj.isOpera){
		this.__correctPng(img.id);	
	}	
	div.appendChild(this.divElPalette);		
	this.divElPaletteCircle=document.createElement('DIV');
	this.divElPaletteCircle.className='DHTMLSuite_colorSlider_palette_circle';	
	this.divElPalette.appendChild(this.divElPaletteCircle);	
	this.divElPaletteCircle.display='block';	
	this.divElPaletteCircle.style.top='-'+this.circleOffsetSize+'px';
	this.divElPaletteCircle.style.left=(this.paletteSize-this.circleOffsetSize)+'px';

	}
	
// }}}
	,
	
// {{{ __setSmallCirclePosition()
    /**
    *Position the small circle.
     *
    *@private
     */		
	__setSmallCirclePosition:function()
	{
	var leftPos=Math.round(this.currentSaturation*(this.paletteSize / 100))- this.circleOffsetSize;
	var topPos=this.paletteSize-Math.round(this.currentBrightness*(this.paletteSize / 100))- this.circleOffsetSize;	
	this.divElPaletteCircle.style.left=leftPos+'px';
	this.divElPaletteCircle.style.top=topPos +'px';	
	this.divElPaletteCircle.className=this.divElPaletteCircle.className.replace(' DHTMLSuite_colorSlider_palette_circleBlack','');
	if(this.currentBrightness > 80){		
		this.divElPaletteCircle.className =this.divElPaletteCircle.className+' DHTMLSuite_colorSlider_palette_circleBlack';
	}	
	
	}
	
// }}}
	,
	
// {{{ __createHueBar()
    /**
    *Create vertical hue bar
     *
    *@private
     */	
	__createHueBar:function()
	{
	var ind=this.objectIndex;	
	var mainDiv=document.createElement('DIV');
	mainDiv.className='DHTMLSuite_colorSlider_hue';
	this.sliderDivMain=mainDiv;
	this.divElement.appendChild(mainDiv);
	this.sliderDiv=document.createElement('DIV');
	this.sliderDiv.className='DHTMLSuite_colorSlider_sliderHandle';
	mainDiv.appendChild(this.sliderDiv);
	this.sliderDiv.innerHTML='<div><span></span></div>';
	setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].sliderDiv.style.marginTop=(2 -Math.floor(DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].sliderDiv.offsetHeight/2))+"px"',100);
	var div=document.createElement('DIV');
	div.className='DHTMLSuite_colorSlider_hueBar_border';
	mainDiv.appendChild(div);
	this.divElHueBar=document.createElement('DIV');
	this.divElHueBar.className='DHTMLSuite_colorSlider_hueBar';
	div.appendChild(this.divElHueBar);
	if(this.hueSliderPosition=='horizontal')mainDiv.style.display='none';
	}	
	
// }}}
	,
	
// {{{ __createHueBarHorizontal()
    /**
    *Create horizontal hue bar
     *
    *@private
     */	
	__createHueBarHorizontal:function()
	{	
	var ind=this.objectIndex;
	this.sliderDivHorMain=document.createElement('DIV');
	this.sliderDivHorMain.className='DHTMLSuite_colorSlider_hueHorizontal';
	this.divElement.appendChild(this.sliderDivHorMain);
	this.sliderDivHor=document.createElement('DIV');
	this.sliderDivHor.className='DHTMLSuite_colorSlider_sliderHandleHorizontal';
	this.sliderDivHorMain.appendChild(this.sliderDivHor);
	this.sliderDivHor.innerHTML='<div><span></span></div>';
	setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].sliderDiv.style.marginTop=(2 -Math.floor(DHTMLSuite.variableStorage.arrayDSObjects['+ind+'].sliderDiv.offsetHeight/2))+"px"',100);
	var div=document.createElement('DIV');
	div.className='DHTMLSuite_colorSlider_hueBarHorizontal_border';
	this.sliderDivHorMain.appendChild(div);
	this.divElHueBarHorizontal=document.createElement('DIV');
	this.divElHueBarHorizontal.className='DHTMLSuite_colorSlider_hueBarHorizontal';
	div.appendChild(this.divElHueBarHorizontal);
	if(this.hueSliderPosition=='vertical')this.sliderDivHorMain.style.display='none';	
	}	

	
// }}}
	,
	
// {{{ __setHueFromHorizontalSlider()
    /**
    *User has dragged the hrozintal scrollbar-we need to update the view.
     *
    *@private
     */	
	__setHueFromHorizontalSlider:function(e)
	{
	if(document.all)e=event;
	var hue=this.sliderDivHor.offsetLeft+4;
	if(hue>359||hue<0)hue=0;
	this.currentHue=hue;
	this.__setPaletteBgColor();
	this.__setBgColorPreviewDiv();	
	this.__updateRgbInForm();	
	this.__updateHsvInForm();	
	}
	
// }}}
	,
	
// {{{ __setHueFromSlider()
    /**
    *User has dragged the vertical scrollbar-we need to update the view.
     *
    *@private
     */	
	__setHueFromSlider:function(e)
	{
	if(document.all)e=event;
	var hue=360-Math.round((this.sliderDiv.offsetTop+4)* (360/this.paletteSize))
	if(hue>359||hue<0)hue=0;
	this.currentHue=hue;
	this.__setPaletteBgColor();	
	this.__setBgColorPreviewDiv();	
	this.__updateHsvInForm();
	this.__updateRgbInForm();
	
	}
	
// }}}
	,
	
// {{{ __addEvents()
    /**
    *Add basic events.
     *
    *@private
     */	
	__addEvents:function()
	{
	var ind=this.objectIndex;
	DHTMLSuite.commonObj.addEvent(this.sliderDivHorMain,'mousedown',function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__initHorHueMove(e); });	
	DHTMLSuite.commonObj.addEvent(this.sliderDivMain,'mousedown',function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__initHueMove(e); });	
	DHTMLSuite.commonObj.addEvent(this.divElPalette,'mousedown',function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__initPaletteMove(e); });	
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mousemove',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnPalette(e); });	
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mousemove',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnHorizHueBar(e); });	
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mousemove',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnHueBar(e); });	
	DHTMLSuite.commonObj.addEvent(document.documentElement,'mouseup',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__endDrag(e); });		
	DHTMLSuite.commonObj.addEvent(this.divElHueBar,'mousedown',function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnHueBar(e); });	
	
	if(!document.documentElement.onselectstart){
		document.documentElement.onselectstart=function(){ return DHTMLSuite.commonObj.__isTextSelOk(); };
		DHTMLSuite.commonObj.__addEventEl(document.documentElement);	
	}
	}
	
// }}}
	,
	
// {{{ __moveOnHueBar()
    /**
    *Click on hue bar-move the slider and update the view.
     *
    *@private
     */	
	__moveOnHueBar:function(e)
	{
	if(this.hueStatus!=1)return;
	if(document.all)e=event;
	var topPos=this.poxYHue;	
	var diff=e.clientY+document.documentElement.scrollTop-topPos;
	if(diff>this.paletteSize)diff=this.paletteSize;
	if(diff<0)diff=0;
	this.sliderDiv.style.top=diff+'px';
	var hue=Math.round(((this.paletteSize-diff)* (360/this.paletteSize))); 
	if(hue==360)hue=0;
	this.currentHue=hue;
	this.__setCurrentRgbCode();
	this.__setPaletteBgColor();	
	this.__setBgColorPreviewDiv();	
	this.__updateHsvInForm();	
	this.__updateRgbInForm();	
	}
	
// }}}
	,
	
// {{{ __moveOnHorizHueBar()
    /**
    *Click on hue bar-move the slider and update the view.
     *
    *@private
     */	
	__moveOnHorizHueBar:function(e)
	{
	if(this.hueHorStatus!=1)return;
	if(document.all)e=event;
	var leftPos=this.posXHorHue;	
	var diff=e.clientX-leftPos-this.circleOffsetBecauseOfWinWidget;	
	if(diff<0)diff=0;
	if(diff>362)diff=362;
	this.sliderDivHor.style.left=(diff -4)+'px';
	var hue=diff; 
	if(hue>=360)hue=0;
	this.currentHue=hue;
	this.__setCurrentRgbCode();
	this.__setPaletteBgColor();	
	this.__setBgColorPreviewDiv();
	this.__updateHsvInForm();	
	this.__updateRgbInForm();	
	}
	
// }}}
	,
	
// {{{ __setHueFromRgbColorsInForm()
    /**
    *User have changed value in the rgb code text input
     *
    *@private
     */	
	__setHueFromRgbColorsInForm:function()
	{
	var color=this.colorHelper.getRgbCodeByRgbColors(this.fieldRed.value,this.fieldGreen.value,this.fieldBlue.value);	
	var hsv=this.colorHelper.getHsvByRgbCode(color);
	this.currentHue=Math.round(hsv.hue);
	this.currentSaturation=Math.round(hsv.saturation*100);
	this.currentBrightness=Math.round(hsv.brightness*100);
	this.__changeViewAfterColorChange();
	}
	
// }}}
	,
	
// {{{ __setRedColorFromForm()
    /**
    *Receive red value from form
     *
    *@private
     */	
	__setRedColorFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var red=src.value;	
	if(red.match(/^[0-9]+$/)){
		if(red/1>255)red=255;
	}else{
		red=0;
	}
	src.value=red;
	this.__setHueFromRgbColorsInForm();
	this.__changeViewAfterColorChange();			
	}
	
// }}}
	,
	
// {{{ __setGreenColorFromForm()
    /**
    *Receive green value from form
     *
    *@private
     */	
	__setGreenColorFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var green=src.value;	
	var green=src.value;	
	if(green.match(/^[0-9]+$/)){
		if(green/1>255)green=255;
	}else{
		green=0;
	}
	src.value=green;
	this.__setHueFromRgbColorsInForm();	
	this.__changeViewAfterColorChange();	
	}
	
// }}}
	,
	
// {{{ __setBlueColorFromForm()
    /**
    *Receive blue value from form
     *
    *@private
     */
	__setBlueColorFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var blue=src.value;
	var blue=src.value;	
	if(blue.match(/^[0-9]+$/)){
		if(blue/1>255)blue=255;
	}else{
		blue=0;
	}
	src.value=blue;
	this.__setHueFromRgbColorsInForm();		
	}
	
// }}}
	,
	
// {{{ __receiveRgbCodeFromForm()
    /**
    *Receive rgb code from form
     *
    *@private
     */
	__receiveRgbCodeFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var rgbCode=src.value;
	if(!rgbCode.match(/^[0-9A-F][0-9A-F][0-9A-F][0-9A-F][0-9A-F][0-9A-F]$/i)){
		rgbCode='FF0000';
	}
	var hsv=this.colorHelper.getHsvByRgbCode(rgbCode);
	this.currentHue=Math.round(hsv.hue);
	this.currentSaturation=Math.round(hsv.saturation*100);
	this.currentBrightness=Math.round(hsv.brightness*100);
	this.__changeViewAfterColorChange();
	}
	
// }}}
	,
	
// {{{ __receiveHueFromForm()
    /**
    *Receive hue from form
     *
    *@private
     */
	__receiveHueFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var hue=src.value;
	hue=hue+'';
	if(hue.match(/^[0-9]+$/)){
		if(hue/1>360)hue=360;
	}else{
		hue=0;
	}	
	if(hue==360)hue=0;
	this.currentHue=hue;
	src.value=hue;
	this.__changeViewAfterColorChange();	
	}
	
// }}}
	,
	
// {{{ __receiveBriFromForm()
    /**
    *Receive brightness from form
     *
    *@private
     */
	__receiveBriFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var brightness=src.value;
	brightness=brightness+'';
	if(brightness.match(/^[0-9]+$/)){
		if(brightness/1>100)brightness=100;
	}else{
		brightness=0;
	}
	this.currentBrightness=brightness;
	src.value=brightness;
	this.__changeViewAfterColorChange();	
	}
	
// }}}
	,
	
// {{{ __receiveSatFromForm()
    /**
    *Receive saturation from form
     *
    *@private
     */
	__receiveSatFromForm:function(e)
	{
	if(document.all)e=event;
	var src=DHTMLSuite.commonObj.getSrcElement(e);
	var saturation=src.value;
	saturation=saturation+'';
	if(saturation.match(/^[0-9]+$/)){
		if(saturation/1>100)saturation=100;
	}else{
		saturation=0;
	}
	this.currentSaturation=saturation;
	src.value=saturation;
	this.__changeViewAfterColorChange();
	
	}
	
// }}}
	,
	
// {{{ __ffHackWinWidget()
    /**
    *Firefox hack-should be replaced when we find a good way to extract the correct x and y position of an element. The current DHTMLSuite.getLeftPos function doesn't work well there.
     *
    *@private
     */	
	__ffHackWinWidget:function()
	{
	if(this.divElement.parentNode.className&&this.divElement.parentNode.className.indexOf('windowContent')>=0&&!document.all){
		this.circleOffsetBecauseOfWinWidget=0; 
// Firefox hack because of problems with the getLeftPos()method. Need to figure out a better way to do this. the getLeftPos method returns wrong position in Firefox for window widget content
	}		
	}
	
// }}}
	,
	__initHorHueMove:function(e)
	{
	this.hueHorStatus=1;
	this.__ffHackWinWidget();
	this.posXHorHue=DHTMLSuite.commonObj.getLeftPos(this.divElHueBarHorizontal);	
	DHTMLSuite.commonObj.__setTextSelOk(false);
	this.__moveOnHorizHueBar(e);	
	return false;
	}	
	
// }}}
	,
	__initHueMove:function(e)
	{
	this.hueStatus=1;
	this.poxYHue=DHTMLSuite.commonObj.getTopPos(this.divElHueBar);
	DHTMLSuite.commonObj.__setTextSelOk(false);
	this.__moveOnHueBar(e);	
	return false;
	}	
	
// }}}
	,
	
// {{{ __initPaletteMove()
    /**
    *Initiate move on palette.
     *
    *@private
     */	
	__initPaletteMove:function(e)
	{
	if(document.all)e=event;
	this.__ffHackWinWidget();
	
// Cache x and y position position of palette	
	this.posdivElPalette.x=DHTMLSuite.commonObj.getLeftPos(this.divElPalette)+this.circleOffsetBecauseOfWinWidget;
	this.posdivElPalette.y=DHTMLSuite.commonObj.getTopPos(this.divElPalette)+this.circleOffsetBecauseOfWinWidget;	
	this.dragStatus=1;	
	
	this.paletteMaxX=(this.divElPalette.clientWidth -this.circleOffsetSize); 
	this.paletteMaxY=(this.divElPalette.clientHeight -this.circleOffsetSize); 
	this.__moveOnPalette(e);	
	DHTMLSuite.commonObj.__setTextSelOk(false);
	return false;	
	}
	
// }}}
	,
	
// {{{ __setCurrentRgbCode()
    /**
    *Save current rgb code
     *
    *@private
     */	
	__setCurrentRgbCode:function()
	{
	this.currentRgbCode=this.colorHelper.getRgbCodeByHsv(this.currentHue,this.currentSaturation/100,this.currentBrightness/100);

	}
	
// }}}
	,
	
// {{{ __endDrag()
    /**
    *End moving circle on palette
     *
    *@private
     */	
	__endDrag:function()
	{
	if(this.dragStatus==1){
		this.__updateHsvInForm();
		this.__updateRgbInForm();
	}		
	this.dragStatus=0;
	this.hueHorStatus=0;
	this.hueStatus=0;
	
	

			
	DHTMLSuite.commonObj.__setTextSelOk(true);
	}
	
// }}}
	,
	
// {{{ __moveOnPalette()
    /**
    *Click on palette
     *
    *@private
     */	
	__moveOnPalette:function(e)
	{
	if(this.dragStatus!=1)return;
	if(this.clickOnPaletteInProgress)return;
	this.clickOnPaletteInProgress= true;	
	if(document.all)e=event;	
	var leftEl=this.posdivElPalette.x;
	var topEl=this.posdivElPalette.y;		
	
	var left=e.clientX+ document.documentElement.scrollLeft-leftEl -this.circleOffsetSize;
	var top=e.clientY+document.documentElement.scrollTop-topEl -this.circleOffsetSize;
	
	if(left<this.circleOffsetSize*-1)left=this.circleOffsetSize*-1;
	if(top<this.circleOffsetSize*-1)top=this.circleOffsetSize*-1;
	
	if(left>this.paletteMaxX)left=this.paletteMaxX;
	if(top>this.paletteMaxY)top=this.paletteMaxY;		
	
	this.divElPaletteCircle.style.left=left+'px';
	this.divElPaletteCircle.style.top=top+'px';
	
	this.currentSaturation=Math.round(((left+this.circleOffsetSize)/ this.paletteSize)* 100);
	this.currentBrightness=100-Math.round(((top+this.circleOffsetSize)/ this.paletteSize)* 100);
	
	this.__setCurrentRgbCode();
	this.__setBgColorPreviewDiv();
	
	if(this.updateFormDuringMoveOnPalette){
		this.__updateHsvInForm();
		this.__updateRgbInForm();	
	}
	this.clickOnPaletteInProgress=false;	
	}
	
// }}}
	,
	
// {{{ __handleCallback()
    /**
    *Handle/Evaluate call back
     *
    *@private
     */	
	__handleCallback:function(action)
	{
	var callbackString='';
	switch(action){
		case 'rgbChange':
		if(this.callbackOnChangeRgb)callbackString=this.callbackOnChangeRgb;
		break;	
		
	}	
	if(callbackString){
		callbackString=callbackString+'({ rgb:"#"+this.currentRgbCode,hue:this.currentHue,brightness:this.currentBrightness,saturation:this.currentSaturation })';
		eval(callbackString);	
	}
	}	
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*	Color functions
*
*	Created:		August, 23rd, 2006
*	@class Purpose of class:	This class provides some methods for working with colors.
*		
* 	Update log:
*
************************************************************************************************************/
/**
* @constructor
* @class This class provides some methods for working with colors.
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/
DHTMLSuite.colorUtil=function(){	
}

DHTMLSuite.colorUtil.prototype={

	
// {{{ baseConverter()
    /**
     *	converts numbers from different number systems(example: Decimal to octal)
    *	
     *	@param mixed numberToConvert-Number to convert
     *	@param int oldBase-Convert from which base(8=octal, 10=decimal, 16=hexadecimal)
     *	@param int newBase-Convert to which base(8=octal, 10=decimal, 16=hexadecimal)
     *	
     *	@return String number in new base.(Example: decimal "16" returns "F" when converted to hexadecimal)
     *	@type String
     *
    *@public
     */	
    	
	baseConverter:function(numberToConvert,oldBase,newBase){
	if(newBase==10){
		return parseInt(numberToConvert,16);
	}
	if(newBase==16){
		return parseInt(numberToConvert).toString(16);
	}	
	numberToConvert=numberToConvert+"";
	numberToConvert=numberToConvert.toUpperCase();
	var listOfCharacters="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
	var dec=0;
	for (var i=0; i <=  numberToConvert.length; i++){
		dec += (listOfCharacters.indexOf(numberToConvert.charAt(i)))* (Math.pow(oldBase , (numberToConvert.length-i-1)));
	}
	numberToConvert="";
	var magnitude=Math.floor((Math.log(dec))/(Math.log(newBase)));
	for (var i=magnitude; i >= 0; i--){
		var amount=Math.floor(dec/Math.pow(newBase,i));
		numberToConvert=numberToConvert+listOfCharacters.charAt(amount); 
		dec -= amount*(Math.pow(newBase,i));
	}
	if(numberToConvert.length==0)numberToConvertToConvert=0;
	if(!numberToConvert)numberToConvert=0;
	return numberToConvert;
	}
	
// }}}
	,
	
// {{{ getHsvByRgbCode()
    /**
     *	Converts a RGB color to HSV
    *	
     *	@param String rgbColor-Example: #FF12AB or FF12AB
     *	@return Array H,S,B=Hue, Saturation and Brightness
     *	@type Array
     *
    *@public
     */	
	getHsvByRgbCode:function(rgbColor){
	rgbColor=rgbColor.replace('#','');	
	red=this.baseConverter(rgbColor.substr(0,2),16,10);
	green=this.baseConverter(rgbColor.substr(2,2),16,10);
	blue=this.baseConverter(rgbColor.substr(4,2),16,10);

	if(red==0&&green==0&&blue==0){
		var returnArray=new Object();
		returnArray.hue=0;
		returnArray.saturation=0;
		returnArray.brightness=0;
		return returnArray;	
	}
		
	red=red/255;
	green=green/255;
	blue=blue/255;
	
	maxValue=Math.max(red,green,blue);
	minValue=Math.min(red,green,blue);
	
	var hue=0;
	
	if(maxValue==minValue){
		hue=0;
		saturation=0;
	}else{
		if(red==maxValue){
		hue=(green-blue)/ (maxValue-minValue)/1;	
		}else if(green==maxValue){
		hue=2+(blue-red)/1 / (maxValue-minValue)/1;	
		}else if(blue==maxValue){
		hue=4+(red-green)/ (maxValue-minValue)/1;	
		}
		saturation=(maxValue-minValue)/ maxValue;
	}
	hue=hue*60; 
	valueBrightness=maxValue;
	
	if(hue<0)hue+=360;	
	var returnArray=new Object();
	returnArray.hue=hue;
	returnArray.saturation=saturation;
	returnArray.brightness=valueBrightness;
	return returnArray;
	}
	
// }}}
	,
	
// {{{ getCompColorByRgb()
    /**
     *	Return the rgb code of a complementary color
    *	
     *	@param String inputRgb-Rgb code
     *
     *	@return String rgbCode-Complementary color
     *	@type String
     *
    *@public
     */	
	getContrastColorByRgb:function(rgbCode)
	{
	var hsv=this.getHsvByRgbCode(rgbCode);	
	hsv.hue+=180;
	if(hsv.hue>=360)hsv.hue-=360;
	return this.getRgbCodeByHsv(hsv.hue,hsv.saturation,hsv.brightness);	
	}
	
// }}}
	,
	
// {{{ getTriadeColorsByRgb()
    /**
     *	Return triade colors of an rgb code. Triade colors are 3 colors located 120 degrees from each other on the color wheel. This method will return the 2 triade colors for the input color
    *	
     *	@param String inputRgb-Rgb code
     *
     *	@return Array colors-Array of triade colors
     *	@type String
     *
    *@public
     */	
	getTriadeColorsByRgb:function(rgbCode)
	{
	var hsv=this.getHsvByRgbCode(rgbCode);	
	var colors=new Array();
	for(var no=120;no<360;no+=120){
		colors[colors.length]=this.getRgbCodeByHsv(hsv.hue+no,hsv.saturation,hsv.brightness)	
	}
	return colors;	
	}
	
// }}}
	,
	
// {{{ getTetradeColorsByRgb()
    /**
     *	Return tetrade colors of an rgb code. Triade colors are 4 colors located 90 degrees from each other on the color wheel. This method will return the 3 tetrade colors for the input color
    *	
     *	@param String inputRgb-Rgb code
     *
     *	@return Array colors-Array of triade colors
     *	@type String
     *
    *@public
     */	
	getTetradeColorsByRgb:function(rgbCode)
	{
	var hsv=this.getHsvByRgbCode(rgbCode);	
	var colors=new Array();
	for(var no=90;no<360;no+=90){
		colors[colors.length]=this.getRgbCodeByHsv(hsv.hue+no,hsv.saturation,hsv.brightness)	
	}
	return colors;	
	}
	
// }}}
	,
	
// {{{ getAnalogicColors()
    /**
     *	Return getAnalogicColors colors of an rgb code. Analogic colors will return 4 colors, two evenly distanced on both sides of the input color. You can specify distance by sending in a second argument to this
     *	method. Default is 25.
    *	
     *	@param String inputRgb-Rgb code
     *	@param Integer degrees-Degrees on the color wheel between colors(value between 15 and 30)
     *
     *	@return Array colors-Array of triade colors
     *	@type String
     *
    *@public
     */	
	getAnalogicColors:function(rgbCode,degrees)
	{
	degrees=degrees+'';
	if(!degrees)degrees=25;
	if(!degrees.match(/^[0-9]{2}$/)){
		degrees=25;
	}
	if(degrees<15)degrees=15;
	if(degrees>30)degrees=30;
	degrees/=1;
	var hsv=this.getHsvByRgbCode(rgbCode);	
	var colors=new Array();
	for(var no=1;no<=2;no++){
		colors[colors.length]=this.getRgbCodeByHsv(hsv.hue+(no*degrees),hsv.saturation,hsv.brightness)	
	}
	for(var no=-1;no>=-2;no--){
		colors[colors.length]=this.getRgbCodeByHsv(hsv.hue+(no*degrees),hsv.saturation,hsv.brightness)	
	}
	return colors;	
	}
	
// }}}
	,
	
// {{{ getRgbCodeByRgbColors()
    /**
     *	Return an rgb code from numeric red,green and blue
    *	
     *	@param Int red-(0-255)
     *	@param int green-( 0-255)
     *	@param int blue-(0-255)
     *
     *	@return Array RGB-Returns an associative array of the keys red,green,blue, example myColor['red'] or myColor.red)
     *	@type String
     *
    *@public
     */	
	getRgbCodeByRgbColors:function(red,green,blue)
	{
	red=this.baseConverter(red,10,16);
	green=this.baseConverter(green,10,16);
	blue=this.baseConverter(blue,10,16);
	
	red=red+"";
	green=green+"";
	blue=blue+"";
	
	while(red.length<2){
		red="0"+red;
	}	
	while(green.length<2){
		green="0"+green;
	}	
	while(blue.length<2){
		blue="0"+""+blue;
	}
	rgbColor=red+""+green+""+blue;
	return rgbColor.toUpperCase();	
	}
	
// }}}
	,
	
// {{{ getRgbColorsByRgbCode()
    /**
     *	Return an rgb code from numeric red,green and blue
    *	
     *	@param String rgbCode in the format RRGGBB ( NO # as prefix)
     *
     *	@return Array RGB-Returns an associative array of the keys red,green,blue, example myColor['red'] or myColor.red)
     *	@type Array
     *
    *@public
     */	
	getRgbColorsByRgbCode:function(rgbCode)
	{
	var retArray=new Object();
	retArray.red=this.baseConverter(rgbCode.substr(0,2),16,10);
	retArray.green=this.baseConverter(rgbCode.substr(2,2),16,10);
	retArray.blue=this.baseConverter(rgbCode.substr(4,2),16,10);
	return retArray;	
	}
	
// }}}	
	,
	
// {{{ getRgbColorsByHsv()
    /**
     *	Return an array of red,green and blue from hue,saturation and brightness
    *	
     *	@param Int hue-Degrees-Position on color wheel. Value between 0 and 359
     *	@param float saturation-Intensity of color(value between 0 and 1)
     *	@param float valueBrightness-Brightness(value between 0 and 1)
     *
     *	@return Array RGB-Returns an associative array of the keys red,green,blue, example myColor['red'] or myColor.red)
     *	@type String
     *
    *@public
     */	
	getRgbColorsByHsv:function(hue,saturation,valueBrightness)
	{
	Hi=Math.floor(hue / 60);
	if(hue==360)hue=0;
	f=hue/60-Hi;
	if(saturation>1)saturation/=100;
	if(valueBrightness>1)valueBrightness/=100;
	
	p=(valueBrightness*(1- saturation));
	q=(valueBrightness*(1-(f*saturation)));
	t=(valueBrightness*(1-((1-f)*saturation)));

	switch(Hi){
		case 0:
		red=valueBrightness;
		green=t;
		blue=p;		
		break;
		case 1: 
		red=q;
		green=valueBrightness;
		blue=p;
		break;
		case 2: 
		red=p;
		green=valueBrightness;
		blue=t;
		break;
		case 3: 
		red=p;
		green=q;;
		blue=valueBrightness;
		break;
		case 4:
		red=t;
		green=p;
		blue=valueBrightness;
		break;
		default:
		red=valueBrightness;
		green=p;
		blue=q;
		break;
	}
	
	if(saturation==0){
		red=valueBrightness;
		green=valueBrightness;
		blue=valueBrightness;	
	}
	
	red*=255;
	green*=255;
	blue*=255;
	
	red=Math.round(red);
	green=Math.round(green);
	blue=Math.round(blue);	
		
	var retArray=new Object();
	retArray.red=red;
	retArray.green=green;
	retArray.blue=blue;
	return retArray;	
	}
	
// }}}
	,
	
// {{{ getRgbCodeByHsv()
    /**
     *	Converts a RGB color to HSV
    *	
     *	@param Int hue-Degrees-Position on color wheel. Value between 0 and 359
     *	@param float saturation-Intensity of color(value between 0 and 1)
     *	@param float valueBrightness-Brightness(value between 0 and 1)
     *
     *	@return String RGBColor-example #FF00FF
     *	@type String
     *
    *@public
     */	
	getRgbCodeByHsv:function(hue,saturation,valueBrightness){
	while(hue>=360)hue-=360;
	var colors=this.getRgbColorsByHsv(hue,saturation,valueBrightness);	
	var red=colors.red;
	var green=colors.green
	var blue=colors.blue;
	
	return this.getRgbCodeByRgbColors(red,green,blue);
	}
	
// }}}	
	,
	
// {{{ getColorByDegrees()
    /**
     *	Returns RGB color from a position on the color wheel
    *	
     *	@param String rgbColor-Rgb color to calculate degrees from
     *	@param Float degrees-How many degrees to move on the color wheel(clockwise)
     *
     *	@return String RGBColor-new rgb color-example #FF00FF
     *	@type String
     *
    *@public
     */	
	getColorByDegrees:function(rgbColor,degrees){
	rgbColor=rgbColor.replace('#','');
	myArray=this.getHsvByRgbCode(rgbColor);
	myArray.hue+=degrees;
	if(myArray.hue>=360)myArray.hue-=360;
	if(myArray.hue<0)myArray.hue+=360;	
	return this.getRgbCodeByHsv(myArray.hue,myArray.saturation,myArray.brightness);
	}
	
// }}}	
	,
	
// {{{ findColorByBrightness()
    /**
     *	Returns a new rgb color after change of brightness
    *	
     *	@param String rgbColor-RGB start color
     *	@param Int brightness-Change in brightness (value between -100 and 100)
     *
     *	@return String RGBColor-new rgb color-example #FF00FF
     *	@type String
     *
    *@public
     */	
	findColorByBrightness:function(rgbColor,brightness){
	
	rgbColor=rgbColor.replace('#','');
	myArray=this.getHsvByRgbCode(rgbColor);
	
	myArray.brightness+=brightness/100;
	if(myArray.brightness>1)myArray.brightness=1;
	if(myArray.brightness<0)myArray.brightness=0;	
	
	if(myArray.saturation>1)myArray.saturation=1;
	if(myArray.saturation<0)myArray.saturation=0;	
	
	return this.getRgbCodeByHsv(myArray.hue,myArray.saturation,myArray.brightness);		
	}
	
// }}}
	,
	
// {{{ getRgbFromNumbers()
    /**
     *	Returns a color in RGB format(e.g.: #FFEECC from numeric values of red, green and blue)
    *	
     *	@param Int red-Amount of red(0-255)
     *	@param Int green-Amount of green(0-255)
     *	@param Int blue-Amount of blue(0-255)
	 *
     *
     *	@return String RGBColor-new rgb color-example #FF00FF
     *	@type String
     *
    *@public
     */	
	getRgbFromNumbers:function(red,green,blue)
	{
	red=this.baseConverter(red,10,16);
	if(red.length==0)red='0'+red;
	green=this.baseConverter(green,10,16);
	if(green.length==0)green='0'+green;
	blue=this.baseConverter(blue,10,16);
	if(blue.length==0)blue='0'+blue;
	return '#'+red+green+blue;
	}   
	
// }}}
	,
	
// {{{ getAllWebColors()
    /**
     *	This method returns an array of all web colors
    *	
	 *
     *
     *	@return Array RGBColors-Numeric array of all web colors (216 colors)
     *	@type String
     *
    *@public
     */	
	getAllWebColors:function()
	{
	var retArray=new Array();
	for(var red=0;red<=15;red+=3){
		for(var green=0;green<=15;green+=3){
		for(var blue=0;blue<=15;blue+=3){
			var newRed=this.baseConverter(red,10,16);		
			var newGreen=this.baseConverter(green,10,16);		
			var newBlue=this.baseConverter(blue,10,16);	
			retArray[retArray.length]=newRed+''+newRed+'' +newGreen +''+newGreen +''+newBlue+''+newBlue;	
		}
		}
	}
	return retArray;	
	}
	
// }}}
	,
	
// {{{ getAllNamedColors()
    /**
     *	This method returns an array of all web colors
    *	
	 *
     *
     *	@return Array Colors-Returns a multi dimensional array of colors, first index separate each color. Each item in the main array will then contain two values: 1)color name, 2)rgb code 
     *	@type Array
     *
    *@public
     */	
	getAllNamedColors:function()
	{
	var c=new Array();
	c[c.length]=['AliceBlue','F0F8FF'];
	c[c.length]=['AntiqueWhite','FAEBD7'];
	c[c.length]=['Aqua','00FFFF'];
	c[c.length]=['Aquamarine','7FFFD4'];
	c[c.length]=['Azure','F0FFFF'];
	c[c.length]=['Beige','F5F5DC'];
	c[c.length]=['Bisque','FFE4C4'];
	c[c.length]=['Black','000000'];
	c[c.length]=['BlanchedAlmond','FFEBCD'];
	c[c.length]=['Blue','0000FF'];
	c[c.length]=['BlueViolet','8A2BE2'];
	c[c.length]=['Brown','A52A2A'];
	c[c.length]=['BurlyWood','DEB887'];
	c[c.length]=['CadetBlue','5F9EA0'];
	c[c.length]=['Chartreuse','7FFF00'];
	c[c.length]=['Chocolate','D2691E'];
	c[c.length]=['Coral','FF7F50'];
	c[c.length]=['CornflowerBlue','6495ED'];
	c[c.length]=['Cornsilk','FFF8DC'];
	c[c.length]=['Crimson','DC143C'];
	c[c.length]=['Cyan','00FFFF'];
	c[c.length]=['DarkBlue','00008B'];
	c[c.length]=['DarkCyan','008B8B'];
	c[c.length]=['DarkGoldenRod','B8860B'];
	c[c.length]=['DarkGray','A9A9A9'];
	c[c.length]=['DarkGrey','A9A9A9'];
	c[c.length]=['DarkGreen','006400'];
	c[c.length]=['DarkKhaki','BDB76B'];
	c[c.length]=['DarkMagenta','8B008B'];
	c[c.length]=['DarkOliveGreen','556B2F'];
	c[c.length]=['Darkorange','FF8C00'];
	c[c.length]=['DarkOrchid','9932CC'];
	c[c.length]=['DarkRed','8B0000'];
	c[c.length]=['DarkSalmon','E9967A'];
	c[c.length]=['DarkSeaGreen','8FBC8F'];
	c[c.length]=['DarkSlateBlue','483D8B'];
	c[c.length]=['DarkSlateGray','2F4F4F'];
	c[c.length]=['DarkSlateGrey','2F4F4F'];
	c[c.length]=['DarkTurquoise','00CED1'];
	c[c.length]=['DarkViolet','9400D3'];
	c[c.length]=['DeepPink','FF1493'];
	c[c.length]=['DeepSkyBlue','00BFFF'];
	c[c.length]=['DimGray','696969'];
	c[c.length]=['DimGrey','696969'];
	c[c.length]=['DodgerBlue','1E90FF'];
	c[c.length]=['FireBrick','B22222'];
	c[c.length]=['FloralWhite','FFFAF0'];
	c[c.length]=['ForestGreen','228B22'];
	c[c.length]=['Fuchsia','FF00FF'];
	c[c.length]=['Gainsboro','DCDCDC'];
	c[c.length]=['GhostWhite','F8F8FF'];
	c[c.length]=['Gold','FFD700'];
	c[c.length]=['GoldenRod','DAA520'];
	c[c.length]=['Gray','808080'];
	c[c.length]=['Grey','808080'];
	c[c.length]=['Green','008000'];
	c[c.length]=['GreenYellow','ADFF2F'];
	c[c.length]=['HoneyDew','F0FFF0'];
	c[c.length]=['HotPink','FF69B4'];
	c[c.length]=['IndianRed ','CD5C5C'];
	c[c.length]=['Indigo  ','4B0082'];
	c[c.length]=['Ivory','FFFFF0'];
	c[c.length]=['Khaki','F0E68C'];
	c[c.length]=['Lavender','E6E6FA'];
	c[c.length]=['LavenderBlush','FFF0F5'];
	c[c.length]=['LawnGreen','7CFC00'];
	c[c.length]=['LemonChiffon','FFFACD'];
	c[c.length]=['LightBlue','ADD8E6'];
	c[c.length]=['LightCoral','F08080'];
	c[c.length]=['LightCyan','E0FFFF'];
	c[c.length]=['LightGoldenRodYellow','FAFAD2'];
	c[c.length]=['LightGray','D3D3D3'];
	c[c.length]=['LightGrey','D3D3D3'];
	c[c.length]=['LightGreen','90EE90'];
	c[c.length]=['LightPink','FFB6C1'];
	c[c.length]=['LightSalmon','FFA07A'];
	c[c.length]=['LightSeaGreen','20B2AA'];
	c[c.length]=['LightSkyBlue','87CEFA'];
	c[c.length]=['LightSlateGray','778899'];
	c[c.length]=['LightSlateGrey','778899'];
	c[c.length]=['LightSteelBlue','B0C4DE'];
	c[c.length]=['LightYellow','FFFFE0'];
	c[c.length]=['Lime','00FF00'];
	c[c.length]=['LimeGreen','32CD32'];
	c[c.length]=['Linen','FAF0E6'];
	c[c.length]=['Magenta','FF00FF'];
	c[c.length]=['Maroon','800000'];
	c[c.length]=['MediumAquaMarine','66CDAA'];
	c[c.length]=['MediumBlue','0000CD'];
	c[c.length]=['MediumOrchid','BA55D3'];
	c[c.length]=['MediumPurple','9370D8'];
	c[c.length]=['MediumSeaGreen','3CB371'];
	c[c.length]=['MediumSlateBlue','7B68EE'];
	c[c.length]=['MediumSpringGreen','00FA9A'];
	c[c.length]=['MediumTurquoise','48D1CC'];
	c[c.length]=['MediumVioletRed','C71585'];
	c[c.length]=['MidnightBlue','191970'];
	c[c.length]=['MintCream','F5FFFA'];
	c[c.length]=['MistyRose','FFE4E1'];
	c[c.length]=['Moccasin','FFE4B5'];
	c[c.length]=['NavajoWhite','FFDEAD'];
	c[c.length]=['Navy','000080'];
	c[c.length]=['OldLace','FDF5E6'];
	c[c.length]=['Olive','808000'];
	c[c.length]=['OliveDrab','6B8E23'];
	c[c.length]=['Orange','FFA500'];
	c[c.length]=['OrangeRed','FF4500'];
	c[c.length]=['Orchid','DA70D6'];
	c[c.length]=['PaleGoldenRod','EEE8AA'];
	c[c.length]=['PaleGreen','98FB98'];
	c[c.length]=['PaleTurquoise','AFEEEE'];
	c[c.length]=['PaleVioletRed','D87093'];
	c[c.length]=['PapayaWhip','FFEFD5'];
	c[c.length]=['PeachPuff','FFDAB9'];
	c[c.length]=['Peru','CD853F'];
	c[c.length]=['Pink','FFC0CB'];
	c[c.length]=['Plum','DDA0DD'];
	c[c.length]=['PowderBlue','B0E0E6'];
	c[c.length]=['Purple','800080'];
	c[c.length]=['Red','FF0000'];
	c[c.length]=['RosyBrown','BC8F8F'];
	c[c.length]=['RoyalBlue','4169E1'];
	c[c.length]=['SaddleBrown','8B4513'];
	c[c.length]=['Salmon','FA8072'];
	c[c.length]=['SandyBrown','F4A460'];
	c[c.length]=['SeaGreen','2E8B57'];
	c[c.length]=['SeaShell','FFF5EE'];
	c[c.length]=['Sienna','A0522D'];
	c[c.length]=['Silver','C0C0C0'];
	c[c.length]=['SkyBlue','87CEEB'];
	c[c.length]=['SlateBlue','6A5ACD'];
	c[c.length]=['SlateGray','708090'];
	c[c.length]=['SlateGrey','708090'];
	c[c.length]=['Snow','FFFAFA'];
	c[c.length]=['SpringGreen','00FF7F'];
	c[c.length]=['SteelBlue','4682B4'];
	c[c.length]=['Tan','D2B48C'];
	c[c.length]=['Teal','008080'];
	c[c.length]=['Thistle','D8BFD8'];
	c[c.length]=['Tomato','FF6347'];
	c[c.length]=['Turquoise','40E0D0'];
	c[c.length]=['Violet','EE82EE'];
	c[c.length]=['Wheat','F5DEB3'];
	c[c.length]=['White','FFFFFF'];
	c[c.length]=['WhiteSmoke','F5F5F5'];
	c[c.length]=['Yellow','FFFF00'];
	c[c.length]=['YellowGreen','9ACD32'];
	return c;	
	}	
}
</script><script type="text/javascript">if(!window.DHTMLSuite)var DHTMLSuite=new Object();/************************************************************************************************************
*
*	DHTML slider
*
*	Created:			August, 25th, 2006
*	@class Purpose of class:	Display a slider on a web page.
*	
*	Demos of this class:	demo-slider-1.html
*	
* 	Update log:
*
************************************************************************************************************/

DHTMLSuite.sliderObjects=new Array();	
// Array of slider objects. Used in events when "this" refers to the tag trigger the event and not the object.
DHTMLSuite.indexOfCurrentlyActiveSlider=false;	
// Index of currently active slider(i.e. index in the DHTMLSuite.sliderObjects array)
DHTMLSuite.slider_generalMouseEventsAdded=false;	
// Only assign mouse move and mouseup events once. This variable make sure that happens.


/**
* @constructor
* @class Purpose of class:	Display a DHTML slider on a web page. This slider could either be displayed horizontally or vertically(<a href="../../demos/demo-slider-1.html" target="_blank">demo 1</a> and <a href="../../demos/demo-slider-1.html" target="_blank">demo 2</a>).
* @version 1.0
* @author	Alf Magne Kalleland(www.dhtmlgoodies.com)
*
**/
DHTMLSuite.slider=function(){
	var width;				
// Width of slider
	var height;				
// height of slider
	var targetObj;			
// Object where slider will be added.
	var sliderWidth;			
// Width of slider image. this is needed in order to position the slider and calculate values correctly.
	var sliderDirection;		
// Horizontal or vertical
	var functionToCallOnChange; 	
// Function to call when the slider is moved.
	var layoutCss;	
	var sliderMaxValue;			
// Maximum value to return from slider
	var sliderMinValue;			
// Minimum value to return from slider
	var initialValue;			
// Initial value of slider
	var sliderSize;			
// Size of sliding area.
	var directionOfPointer;		
// Direction of slider pointer;
	var slideInProcessTimer;		
// Private variable used to determine if slide is in progress or not.
	var indexThisSlider;		
// Index of object in the DHTMLSuite.sliderObjects array
	var numberOfSteps;			
// Hardcoded steps
	var stepLinesVisibility;		
// Visibility of lines indicating where the slider steps are
	
	var slide_event_pos;			
// X position of mouse when slider drag starts
	var slide_start_pos;			
// X position of slider when drag starts
	var sliderHandleImg;		
// Reference to the small slider handle
	var sliderName;			
// A name you can use to identify a slider. Useful if you have more than one slider, but only one onchange event.
	var sliderValueReversed;		
// Variable indicating if the value of the slider is reversed(i.e. max at left and min at right)
	this.sliderWidth=9;		
// Initial width of slider.
	this.layoutCss='slider.css';	
// Default css file
	this.sliderDirection='hor';	
// Horizontal is default
	this.width=0;			
// Initial widht
	this.height=0;			
// Initial height
	this.sliderMaxValue=100; 		
// Default max value to return from slider
	this.sliderMinValue=0;		
// Default min value to return from slider
	this.initialValue=0;		
// Default initial value of slider
	this.targetObj=false;		
// Set target obj to false initially.
	this.directionOfPointer='up';	
// Default pointer direction for slider handle.
	this.slideInProcessTimer=-1;
	this.sliderName='';
	this.numberOfSteps=false;
	this.stepLinesVisibility=true;
	this.sliderValueReversed=false;	
// Default value of sliderValueReversed, i.e. max at right, min at left or max at top, min at bottom.
	
	try{
	if(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
// This line starts all the init methods
	}catch(e){
	alert('You need to include the dhtmlSuite-common.js file');
	}
	var objectIndex;
	this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;	

}

DHTMLSuite.slider.prototype={
	
	
// {{{ init()
    /**
     *	Initializes the script, i.e. creates the slider
    *	
     *
    *@public
     */		
	
	init:function()	
// Initializes the script
	{
	if(!this.targetObj){
		alert('Error!-No target for slider specified');
		return;
	}
	
	this.__setWidthAndHeightDynamically();
	DHTMLSuite.commonObj.loadCSS(this.layoutCss);	
	this.__createSlider();
	if(!document.documentElement.onselectstart)document.documentElement.onselectstart=function(){ return DHTMLSuite.commonObj.__isTextSelOk(); };			
	
	}	
	
// }}}
	,
	
// {{{ setSliderTarget(divId)
    /**
     *	Specify where to insert the slider
    *	
     *	@param Object targetRef-Id of element where the slider will be created inside(There shouldn't be any content inside this div)
     *
    *@public	
     */	
	setSliderTarget:function(targetRef)
	{
	targetRef=DHTMLSuite.commonObj.getEl(targetRef);	
	this.targetObj=targetRef;	
	}
	
// }}}	
	,
	
// {{{ setSliderDirection(newDirection)
    /**
     *	Specify where to insert the slider
    *	
     *	@param String newDirection-New slider direction. Possible valuse: "hor" or "ver"
     *
    *@public	
     */	
	setSliderDirection:function(newDirection)
	{
	newDirection=newDirection+'';
	newDirection=newDirection.toLowerCase();
	if(newDirection!='hor'&&newDirection!='ver'){
		alert('Invalid slider direction-possible values: "hor" or "ver"');
		return;
	}
	this.sliderDirection=newDirection;	
	}
	
// }}}	
	,
	
// {{{ setSliderWidth(newWidth)
    /**
     *	Specify width of slider-if now width is specified, the script will try to measure the height of width of the element where it is inserted.
    *	
     *	@param String newWidth-Slider width(numeric or percentage)example: 100 or 90%
     *
    *@public	
     */	
	setSliderWidth:function(newWidth)
	{
	newWidth=newWidth+'';
	if(newWidth.indexOf('%')==-1)newWidth=newWidth+'px';
	this.width=newWidth;	
	}
	
// }}}	
	,
	
// {{{ setSliderHeight(newHeight)
    /**
     *	Specify height of slider-if now width is specified, the script will try to measure the height of width of the element where it is inserted.
    *	
     *	@param String newHeight-Slider width(numeric or percentage)example: 100 or 90%
     *
    *@public	
     */	
	setSliderHeight:function(newHeight)
	{
	newHeight=newHeight+'';
	if(newHeight.indexOf('%')==-1)newHeight=newHeight+'px';
	this.height=height;	
	}
	
// }}}	
	,	
	
// {{{ setSliderReversed()
    /**
     *	Reverse slider, i.e. max at left instead of right or at bottom instead of top
    *	
     *
    *@public	
     */	
	setSliderReversed:function()
	{
	this.sliderValueReversed=true;
	}
	
// }}}	
	,
	
// {{{ setOnChangeEvent(nameOfFunction)
    /**
     *	Specify which function to call when the slider has been moved.
    *	
     *	@param String nameOfFunction-Name of function to call.
     *
    *@public	
     */	
    setOnChangeEvent:function(nameOfFunction)
    {
    	this.functionToCallOnChange=nameOfFunction;
    	
    }	
	
// }}}	
	,	
	
// {{{ setSliderMaxValue(newMaxValue)
    /**
     *	Set maximum value of slider
    *	
     *	@param int newMaxValue-New slider max value
     *
    *@public	
     */	
    setSliderMaxValue:function(newMaxValue)
    {
    	this.sliderMaxValue=newMaxValue;
    	
    }	
	
// }}}	
	,	
	
// {{{ setSliderMinValue(newMinValue)
    /**
     *	Set minimum value of slider
    *	
     *	@param int newMinValue-New slider min value
     *
    *@public	
     */	
    setSliderMinValue:function(newMinValue)
    {
    	this.sliderMinValue=newMinValue;
    	
    }	
	
// }}}	
	,	
	
// {{{ setSliderName(nameOfSlider)
    /**
     *	Specify name of slider.
    *	
     *	@param String nameOfSlider-Name of function to call.
     *
    *@public	
     */	
    setSliderName:function(nameOfSlider)
    {
    	this.sliderName=nameOfSlider;
    	
    }	
	
// }}}	
	,
	
// {{{ setLayoutCss(nameOfNewCssFile)
    /**
     *	Specify a new CSS file for the slider(i.e. not using default css file which is slider.css)
    *	
     *	@param String nameOfNewCssFile-Name of new css file.
     *
    *@public	
     */	
    setLayoutCss:function(nameOfNewCssFile)
    {
    	this.layoutCss=nameOfNewCssFile;
    }
	
// }}}
	,
	
// {{{ setLayoutCss(nameOfNewCssFile)
    /**
     *	Specify a new CSS file for the slider(i.e. not using default css file which is slider.css)
    *	
     *	@param String nameOfNewCssFile-Name of new css file.
     *
    *@public	
     */	
    setInitialValue:function(newInitialValue)
    {
    	this.initialValue=newInitialValue;
    }
	
// }}}	
	,
	
// {{{ setSliderPointerDirection(directionOfPointer)
    /**
     *	In which direction should the slider handle point. 
    *	
     *	@param String directionOfPointer-In which direction should the slider handle point(possible values: 'up','down','left','right'
     *
    *@public	
     */	
    setSliderPointerDirection:function(directionOfPointer)
    {
    	this.directionOfPointer=directionOfPointer;
    }
	
// }}}	
	,	
	
// {{{ setSliderValue(newValue)
    /**
     *	Set new position of slider manually
    *	
     *	@param Int newValue-New value of slider
     *
    *@public	
     */	
    setSliderValue:function(newValue)
    {
    	var position=Math.floor((newValue / this.sliderMaxValue)* this.sliderSize);
    	if(this.sliderDirection=='hor'){
    	this.sliderHandleImg.style.left=position+'px';	
    	}else{
    	this.sliderHandleImg.style.top=position+'px';	
    	}
    }
	
// }}}	
	,
	
// {{{ setNumberOfSliderSteps(numberOfSteps)
    /**
     *	Divide slider into steps, i.e. instead of having a smooth slide.
    *	
     *	@param Int numberOfSteps-Number of steps
     *
    *@public	
     */	
    setNumberOfSliderSteps:function(numberOfSteps)
    {
    	this.numberOfSteps=numberOfSteps;
    }
	
// }}}	
	,
	
// {{{ setStepLinesVisible(visible)
    /**
     *	Divide slider into steps. 
    *	
     *	@param Boolean visible-When using static steps, make lines indicating steps visible or hidden(true=visible(default), false=hidden)
     *
    *@public	
     */	
    setStepLinesVisible:function(visible)
    {
    	this.stepLinesVisibility=visible;
    }
	
// }}}	
	,
	
// {{{ __setWidthAndHeightDynamically()
    /**
     *	Automatically set height and width of slider.
    *	
     *
    *@private	
     */	
	__setWidthAndHeightDynamically:function()
	{
	
// No width or height specified-try to measure it from the size of parent box

	if(!this.width||this.width==0)this.width=this.targetObj.clientWidth+'';
	if(!this.height||this.height==0)this.height=this.targetObj.clientHeight+'';
	if(!this.width||this.width==0)this.width=this.targetObj.offsetWidth+'';
	if(!this.height||this.height==0)this.height=this.targetObj.offsetHeight+'';

	if(this.width==0)return;
	if(this.height==0)return;
	
	
	if(this.width.indexOf('px')==-1&&this.width.indexOf('%')==-1)this.width=this.width+'px';
	if(this.height.indexOf('px')==-1&&this.height.indexOf('%')==-1)this.height=this.height+'px';	

	
	}
	
// }}}	
	,
	
// {{{ __createSlider()
    /**
     *	Creates the HTML for the slider dynamically
    *	
     *
    *@private	
     */	
    __createSlider:function(initWidth)
    {
    	if(this.targetObj.clientWidth==0||initWidth==0){
    	var timeoutTime=100;
    	setTimeout('DHTMLSuite.variableStorage.arrayDSObjects['+this.objectIndex+'].__createSlider('+this.targetObj.clientWidth+')',timeoutTime);
    	return;    	
    	}    	
    	this.__setWidthAndHeightDynamically();
    	this.indexThisSlider=DHTMLSuite.sliderObjects.length;
    	DHTMLSuite.sliderObjects[this.indexThisSlider]=this;
    	
    	window.refToThisObject=this;
    	
    	
// Creates a parent div for the slider
    	var div=document.createElement('DIV');
    	
    	div.style.width=this.width;
    	div.style.cursor='default';
    	div.style.height=this.height;
    	div.style.position='relative';
    	div.id='sliderNumber'+this.indexThisSlider;	
// the numeric part of this id is used inside the __setPositionFromClick method
    	div.onmousedown=this.__setPositionFromClick;
    	DHTMLSuite.commonObj.__addEventEl(div);    	
    	this.targetObj.appendChild(div);
    	
    	var sliderObj=document.createElement('DIV');
    	
    	
    	if(this.sliderDirection=='hor'){	
// Horizontal slider.
    	sliderObj.className='DHTMLSuite_slider_horizontal';
    	sliderObj.style.width=div.clientWidth+'px';
    	this.sliderSize=div.offsetWidth-this.sliderWidth;
    	    	
    	
// Creating slider handle image.
    	var sliderHandle=document.createElement('IMG');
    	var srcHandle='slider_handle_down.gif';
    	sliderHandle.style.bottom='2px';
    	if(this.directionOfPointer=='up'){
    		srcHandle='slider_handle_up.gif';
    		sliderHandle.style.bottom='0px';    		
    	}    	
    	sliderHandle.src=DHTMLSuite.configObj.imagePath+'slider/'+ srcHandle;
    	div.appendChild(sliderHandle);
    	
    	
// Find initial left position of slider
    	var leftPos;
    	if(this.sliderValueReversed){
    		leftPos=Math.round(((this.sliderMaxValue-this.initialValue)/ this.sliderMaxValue)* this.sliderSize)-1;
    	}else{
    		leftPos=Math.round((this.initialValue / this.sliderMaxValue)* this.sliderSize);
    	}
		sliderHandle.style.left= leftPos+'px';	
    	
    	
    	}else{
    	sliderObj.className='DHTMLSuite_slider_vertical';
    	sliderObj.style.height=div.clientHeight+'px';
    	this.sliderSize=div.clientHeight-this.sliderWidth;
    	
    	
// Creating slider handle image.
    	var sliderHandle=document.createElement('IMG');
    	var srcHandle='slider_handle_right.gif';
    	sliderHandle.style.left='0px';
    	if(this.directionOfPointer=='left'){
    		srcHandle='slider_handle_left.gif';
    		sliderHandle.style.left='0px';    		
    	}    	
    	sliderHandle.src=DHTMLSuite.configObj.imagePath+'slider/'+srcHandle;
    	div.appendChild(sliderHandle);
    	
    	
// Find initial left position of slider
    	var topPos;
    	if(!this.sliderValueReversed){
    		topPos=Math.floor(((this.sliderMaxValue-this.initialValue)/ this.sliderMaxValue)* this.sliderSize);
    	}else{
    		topPos=Math.floor((this.initialValue / this.sliderMaxValue)* this.sliderSize);
    	}
    	
    	sliderHandle.style.top=topPos+'px';	
		    	
    	
    	}
    	
    	sliderHandle.id='sliderForObject'+this.indexThisSlider;
    	sliderHandle.style.position='absolute';
    	sliderHandle.style.zIndex=5;
    	sliderHandle.onmousedown=this.__initializeSliderDrag;
    	sliderHandle.ondragstart=function(){ return false; };	
    	sliderHandle.onselectstart=function(){ return false; };	
    	DHTMLSuite.commonObj.__addEventEl(sliderHandle);
	this.sliderHandleImg=sliderHandle;
	
	if(!DHTMLSuite.slider_generalMouseEventsAdded){
	    	
// Adding onmousemove event to the <html> tag
	    	DHTMLSuite.commonObj.addEvent(document.documentElement,"mousemove",this.__moveSlider);
	    	
// Adding onmouseup event to the <html> tag.
	    	DHTMLSuite.commonObj.addEvent(document.documentElement,"mouseup",this.__stopSlideProcess);
    	DHTMLSuite.slider_generalMouseEventsAdded=true;
	}
    	
    	
    	sliderObj.innerHTML='<span style="cursor:default"></span>';	
// In order to get a correct height/width of the div
    	div.appendChild(sliderObj);  		
    	
    	if(this.numberOfSteps&&this.stepLinesVisibility){	
// Number of steps defined, create graphical lines
    	var stepSize=this.sliderSize / this.numberOfSteps;
    	for(var no=0;no<=this.numberOfSteps;no++){
    		var lineDiv=document.createElement('DIV');
    		lineDiv.style.position='absolute';
    		lineDiv.innerHTML='<span></span>';
    		div.appendChild(lineDiv);
    		if(this.sliderDirection=='hor'){
    		lineDiv.className='DHTMLSuite_smallLines_vertical';
    		lineDiv.style.left=Math.floor((stepSize*no)+(this.sliderWidth/2))+'px';
    		}else{
    		lineDiv.className='DHTMLSuite_smallLines_horizontal';
    		lineDiv.style.top=Math.floor((stepSize*no)+(this.sliderWidth/2))+'px';
    		lineDiv.style.left='14px';
    		}	
    		
    	}
    	}
    	
    }
	
// }}}	
	,
	
// {{{ __initializeSliderDrag()
    /**
     *	Init slider drag
    *	
     *
    *@private	
     */	
    __initializeSliderDrag:function(e)
    {
    	if(document.all)e=event;
    	DHTMLSuite.commonObj.__setTextSelOk(false);
    	var numIndex=this.id.replace(/[^0-9]/gi,'');	
// Get index in the DHTMLSuite.sliderObject array. We get this from the id of the slider image(i.e. "this").
    	var sliderObj=DHTMLSuite.sliderObjects[numIndex];
    	DHTMLSuite.indexOfCurrentlyActiveSlider=numIndex;
    	sliderObj.slideInProcessTimer=0;
    	if(sliderObj.sliderDirection=='hor'){
    	sliderObj.slide_event_pos=e.clientX;	
// Get start x position of mouse pointer
    	sliderObj.slide_start_pos=this.style.left.replace('px','')/1;	
// Get x position of slider
    	}else{
    	sliderObj.slide_event_pos=e.clientY;	
// Get start x position of mouse pointer
    	sliderObj.slide_start_pos=this.style.top.replace('px','')/1;	
// Get x position of slider
    	}
    	
    	sliderObj.__waitBeforeSliderDragStarts();
    	return false;	
// Firefox need this line.
    }
	
// }}}	
	,
	
// {{{ __setPositionFromClick()
    /**
     *	Set position from click-click on slider-move handle to the mouse pointer
    *	
     *
    *@private	
     */	
    __setPositionFromClick:function(e)
    {
    	if(document.all)e=event;
	
// Tag of element triggering this event. If it's something else than a <div>, return without doing anything, i.e. mouse down on slider handle.
	if (e.target)srcEvent=e.target;
		else if (e.srcElement)srcEvent=e.srcElement;
		if (srcEvent.nodeType==3)
// defeat Safari bug
		srcEvent=srcEvent.parentNode;
	if(srcEvent.tagName!='DIV')return;	
		
    	var numIndex=this.id.replace(/[^0-9]/gi,'');	
// Get index in the DHTMLSuite.sliderObject array. We get this from the id of the slider image(i.e. "this").
 	var sliderObj=DHTMLSuite.sliderObjects[numIndex];
 	
     	if(sliderObj.numberOfSteps){
    	modValue=sliderObj.sliderSize / sliderObj.numberOfSteps;	
// Find value to calculate modulus by	
    	}	
    	
    	if(sliderObj.sliderDirection=='hor'){
    	var handlePos=(e.clientX-DHTMLSuite.commonObj.getLeftPos(this)- Math.ceil(sliderObj.sliderWidth/2));
    	}else{
    	var handlePos=(e.clientY-DHTMLSuite.commonObj.getTopPos(this)- Math.ceil(sliderObj.sliderWidth/2));
    	}
	if(sliderObj.numberOfSteps){	
// Static steps defined
		var mod=handlePos % modValue;	
// Calculate modulus
		if(mod>(modValue/2))mod=modValue-mod; else mod*=-1;	
// Should we move the slider handle left or right?
		handlePos=handlePos+mod;
	}
	if(handlePos<0)handlePos=0;	
// Don't allow negative values
	if(handlePos > sliderObj.sliderSize)handlePos=sliderObj.sliderSize; 
// Don't allow values larger the slider size	
    	
   	if(sliderObj.sliderDirection=='hor'){
 		sliderObj.sliderHandleImg.style.left=handlePos+'px';	
 		if(!sliderObj.sliderValueReversed){
		returnValue=Math.round((handlePos/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}else{
		returnValue=Math.round(((sliderObj.sliderSize-handlePos)/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}			
 	}else{
 		sliderObj.sliderHandleImg.style.top=handlePos+'px';	 		
		if(sliderObj.sliderValueReversed){
		returnValue=Math.round((handlePos/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}else{
		returnValue=Math.round(((sliderObj.sliderSize-handlePos)/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}	
 	}	 	
 	returnValue=returnValue+sliderObj.sliderMinValue;
 	if(sliderObj.functionToCallOnChange)eval(sliderObj.functionToCallOnChange+'('+returnValue+',"'+sliderObj.sliderName+'")');
 	
 	DHTMLSuite.indexOfCurrentlyActiveSlider=numIndex;
 	sliderObj.slideInProcessTimer=10;
     	if(sliderObj.sliderDirection=='hor'){
    	sliderObj.slide_event_pos=e.clientX;	
// Get start x position of mouse pointer
    	sliderObj.slide_start_pos=handlePos;	
// Get x position of slider
    	}else{
    	sliderObj.slide_event_pos=e.clientY;	
// Get start x position of mouse pointer
    	sliderObj.slide_start_pos=handlePos;	
// Get x position of slider
    	}	
    	DHTMLSuite.commonObj.__setTextSelOk(false);	
 	
    }
	
// }}}	
	,
	
// {{{ __waitBeforeSliderDragStarts()
    /**
     *	A small delay before the drag process starts.
    *	
     *
    *@private	
     */	
    __waitBeforeSliderDragStarts:function()
    {
	if(this.slideInProcessTimer<10&&this.slideInProcessTimer>=0){
		this.slideInProcessTimer+=2;
		window.refToThisSlider=this;
		setTimeout('window.refToThisSlider.__waitBeforeSliderDragStarts()',5);
	}
	
    }
    
// }}}	
	,
	
// {{{ __moveSlider()
    /**
     *	Move the slider
    *	
     *
    *@private	
     */	
    __moveSlider:function(e)
    {
    	if(DHTMLSuite.indexOfCurrentlyActiveSlider===false)return;
    	var sliderObj=DHTMLSuite.sliderObjects[DHTMLSuite.indexOfCurrentlyActiveSlider];
    	if(document.all)e=event;
	if(sliderObj.slideInProcessTimer<10)return;
	
    	var returnValue;
    	
    	
// Static steps defined ?
    	if(sliderObj.numberOfSteps){	
// Find value to calculate modulus by
    	modValue=sliderObj.sliderSize / sliderObj.numberOfSteps;	
    	}	
    	
    	if(sliderObj.sliderDirection=='hor'){
    	var handlePos=e.clientX-sliderObj.slide_event_pos+sliderObj.slide_start_pos;
    	}else{
    	var handlePos=e.clientY-sliderObj.slide_event_pos+sliderObj.slide_start_pos;
    	}
	if(sliderObj.numberOfSteps){
 		var mod=handlePos % modValue;
 		if(mod>(modValue/2))mod=modValue-mod; else mod*=-1; 		
		handlePos=handlePos+mod;
	}    	
	if(handlePos<0)handlePos=0;
	if(handlePos > sliderObj.sliderSize)handlePos=sliderObj.sliderSize;	
	
	if(sliderObj.sliderDirection=='hor'){
		sliderObj.sliderHandleImg.style.left=handlePos+'px';	
		if(!sliderObj.sliderValueReversed){
		returnValue=Math.round((handlePos/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}else{
		returnValue=Math.round(((sliderObj.sliderSize-handlePos)/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}
	}else{
		sliderObj.sliderHandleImg.style.top=handlePos+'px';
		if(sliderObj.sliderValueReversed){
		returnValue=Math.round((handlePos/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}else{
		returnValue=Math.round(((sliderObj.sliderSize-handlePos)/sliderObj.sliderSize)* (sliderObj.sliderMaxValue-sliderObj.sliderMinValue));
		}
			
	}	
		
	returnValue=returnValue+sliderObj.sliderMinValue;
	
	
	if(sliderObj.functionToCallOnChange)eval(sliderObj.functionToCallOnChange+'('+returnValue+',"'+sliderObj.sliderName+'")');
	
    }
    
// }}}	
	,
	
// {{{ __stopSlideProcess()
    /**
     *	Stop the drag process
    *	
     *
    *@private	
     */	
    __stopSlideProcess:function(e)
    {
    	DHTMLSuite.commonObj.__setTextSelOk(true);
    	if(!DHTMLSuite.indexOfCurrentlyActiveSlider)return;
    	var sliderObj=DHTMLSuite.sliderObjects[DHTMLSuite.indexOfCurrentlyActiveSlider];
    	sliderObj.slideInProcessTimer=-1;	
    }	
}
</script>
	<script src="../richdraw/richdraw.js" type="text/javascript"</script>
    <script src="../richdraw/svgrenderer.js" type="text/javascript"</script>
	<script src="../richdraw/vmlrenderer.js" type="text/javascript"</script>
    <script src="../richdraw/drawFunctions.js" type="text/javascript"</script>
    <script type="text/javascript">
    window.onload = startUp;
  nn=(document.layers)?true:false;
  ie=(document.all)?true:false;
  function keyDown(e) { 
  var evt=(e)?e:(window.event)?window.event:null;
  if(evt){ 
  var eventkeyCode=(evt.charCode)?evt.charCode: ((evt.keyCode)?evt.keyCode:((evt.which)?evt.which:0));
  
    if (eventkeyCode==39||eventkeyCode == 33){
gotoframe(currentFrameSelection+1,1)
return false
    }
	if (eventkeyCode==37||eventkeyCode == 34){
gotoframe(currentFrameSelection-1,1)
return false
    }
	
	if (eventkeyCode==117){
toKeyframe();
return false
    }
	if (eventkeyCode==80){
playAnimation()
    }
	if (eventkeyCode==83){
stopAnimation();
    }
		if (eventkeyCode==46){
	deleteShape();
  }
  	if (eventkeyCode==13){
playAnimation()
  }
  }
  } 
  document.onkeydown=keyDown;
  if(nn) document.captureEvents(Event.KEYDOWN);
    function startUp(){
    addLayer();
	try{
	ajaxpage("../../documentation/manual.htm","ManualDiv");
	ajaxpage("../../documentation/faq.htm","FAQDiv");
	}catch(err){
	ajaxpage("../html/manual.htm","ManualDiv");
	ajaxpage("../html/faq.htm","FAQDiv");
	}
	ajaxpage("../html/about.htm","aboutdiv");
	ajaxpage("../html/support.htm","supportdiv");
	setTimeout("adblockCheck()",3000)
	initCanvas();
	}
	function adblockCheck(){
	var adblock = new Boolean();
	adblock = false;
	var googleads=document.getElementsByName("google_ads_frame");
	for(i=0;i<googleads.length;i++) {
		if(googleads[i].style.display == 'none'){
			adblock = true;
		}
	}
	if(adblock == true){
		alert("please disable adblock to prevent this message from appearing");
	}
	setTimeout("adblockCheck()",30000)
	}
	</script><link href="../themes/light-cyan/css/window.css" rel="stylesheet" media="screen" type="text/css"/><link href="../themes/light-cyan/css/resize.css" rel="stylesheet" media="screen" type="text/css"/><link href="../themes/light-cyan/css/color-widget.css" rel="stylesheet" media="screen" type="text/css"/><link href="../themes/light-cyan/css/color-palette.css" rel="stylesheet" media="screen" type="text/css"/><link href="../themes/light-cyan/css/pane-splitter.css" rel="stylesheet" media="screen" type="text/css"/><link href="../themes/light-cyan/css/menu-bar.css" rel="stylesheet" media="screen" type="text/css"/><link href="../themes/light-cyan/css/menu-item.css" rel="stylesheet" media="screen" type="text/css"/></head>
  <body>
  	
<script type="text/javascript" src="../js/wz_tooltip.js"></script>

    <div id="menuDiv" style="position: absolute; z-index: 5000; top: 0px; width: 100%"></div>
    <div id="northContent">
      <div id="frameContainer"></div>
    </div>
    <div id="westContent">
      <img id="select" alt="" title="Select shapes" onclick="setMode('select', 'Selection');" src="../images/select.gif" name="select">
      <img src="../images/blank.gif" alt="">
      <img id="rect" alt="" title="Draw a rectangle" onclick="setMode('rect', 'Rectangle');" src="../images/rectangle.gif" name="rect">
      <img src="../images/blank.gif" alt="">
      <img id="roundrect" alt="" title="Draw a rounded rectangle" onclick="setMode('roundrect', 'Rounded Rectangle');" src="../images/roundrect.gif" />
    <img src="../images/blank.gif" alt="" />
      <img id="ellipse" alt="" title="Draw an ellipse" onclick="setMode('ellipse', 'Ellipse / Circle');" src="../images/circle.gif" name="ellipse">
      <img src="../images/blank.gif" alt="">
      <img id="line" title="Draw a line" onclick="setMode('line', 'Line');" alt="" src="../images/line.gif" name="line">
      <img src="../images/blank.gif" alt="">
      <img id="delete" alt="" title="Delete selected shape" onclick="deleteShape();" src="../images/delete.gif" name="delete">
      <br>
	      <span>Fill:</span>
  <div id="fillcolor" style="color: #ffffff" onclick="FillColorChange()">Set Color</div>
	        <span>Line:</span>
			 <div id="linecolor" style="color: #ffffff" onclick="LineColorChange()">Set Color</div>
      <select id="linewidth" onchange="setLineWidth(this);">
        <option value="1px">1px</option>
        <option value="2px">2px</option>
        <option value="3px">3px</option>
		<option value="4px">4px</option>
        <option value="5px">5px</option>
		<option value="6px">6px</option>
        <option value="7px">7px</option>
		<option value="8px">8px</option>
		<option value="9px">9px</option>
      </select>
      </div>
      <div id="southContent">
	 <table border = "0"><tr><td>
<fieldset style="width: 300px">
          <legend>Canvas Properties</legend>
		  Height:<input type="text" style="width: 50px" id="cHeight" onchange="setCP()" onblur="setCP()" value="272">
		  Width:<input type="text" style="width: 50px" id="cWidth" onchange= "setCP()" onblur="setCP()" value="480">
        </fieldset></td><td>
		  <fieldset style="width: 200px">
          <legend>Animation</legend>
		  Framerate:<input type="text" style="width: 50px" id="cFramerate" onblur="setFramerate()" value="12">
        </fieldset></td></tr></table>
      </div>
      <div id="advancedContent">
        <fieldset>
          <legend>Script Executor</legend>
          <textarea id="jsQuery" rows="2" cols="2" style="width: 100%"></textarea>
          <br>
          <input type="button" onclick="eval(document.getElementById('jsQuery').value);" value="Evaluate">
        </fieldset>
      </div>
      <div id="eastContent">
        <center>
          <script type="text/javascript">
          google_ad_client = "pub-9279109908159341";
          google_ad_width = 120;
          google_ad_height = 240;
          google_ad_format = "120x240_as";
          google_ad_type = "text";
          google_ad_channel = "";
          google_color_border = "6699CC";
          google_color_bg = "C3D9FF";
          google_color_link = "FFFFFF";
          google_color_text = "AECCEB";
          google_color_url = "AECCEB";
          </script>
          <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><br>
          <br>
          <script type="text/javascript">
          google_ad_client = "pub-9279109908159341";
          google_ad_width = 125;
          google_ad_height = 125;
          google_ad_format = "125x125_as_rimg";
          google_cpa_choice = "CAAQ0f2XhAIaCEQvQozkK1YVKK2293MwAA";
          google_ad_channel = "";
          </script>
          <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
          </script>
        </center>
      </div>
      <div id="centerContent">

   		  <div id="CanvasContainer" style="margin-left: auto; margin-right: auto;width: 480px; height: 272px;overflow:scrolling">
		 </div><center>
		  <br>
		  <img alt="<--" src="../images/player_rew.png" onclick="gotoframe(currentFrameSelection-1,1);">
		  <img alt="play" src="../images/player_play.png" onclick="playAnimation();">
		  <img alt="stop" src="../images/player_stop.png" onclick="stopAnimation();">
		  <img alt="-->" src="../images/player_fwd.png" onclick="gotoframe(currentFrameSelection+1,1);">
		  <br>
		  <div style="font-size:x-small" id="status"></div>
        </center>
      </div>
	  <div id="FlashPreview">
	  <center>
	  <div style="border: 1px black solid;" id="zFlashPreviewDiv"></div>
	  <br>
<table border = "0"><tr><td><input type="button" id="swfPreBtn" onclick="preFlash();" value="Preview">
<input type="button" id="swfGenBtn" value="Export Animation" onclick="genFlash()"></td>
<td><div id="export"></div></td></tr></table>
<div id="previewStatus" style="font-size:x-small">Mode: Preview</div>
<div id="RevisionBrowserDiv"></div>
</center></div>
    <div id="HELP" windowproperties="title:Help,resizable:true,closable:true,dragable:true,cookieName:HelpWindowCookie,xPos:300,yPos:400,minWidth:350,minHeight:150,activeTabId:AboutMain">
	 <div id="AboutMain" style="height:99%" class="DHTMLSuite_windowContent" tabproperties="tabTitle:About">
        <div id="aboutdiv" style="width: 99%; height:99%"></div>
	</div>
	 <div id="FAQMain" style="height:99%" class="DHTMLSuite_windowContent" tabproperties="tabTitle:FAQ">
        <div id="FAQDiv" style="width: 99%; height:99%"></div>
      </div>
      <div id="ManualMain" style="height:99%" class="DHTMLSuite_windowContent" tabproperties="tabTitle:Manual">
        <div id="ManualDiv"style="width: 99%; height:99%"></div>
      </div>
      <div id="SeizureMain" style="height:99%" class="DHTMLSuite_windowContent" tabproperties="tabTitle:Seizure">
        <div id="seizurediv" style="width: 99%; height:99%">
		<div style="position: relative;left: 40%; top: 40%"><font  face="Verdana" size="20">SEIZURE!</font></div>
		</div>
      </div>
      <div id="SupportMain" class="DHTMLSuite_windowContent" tabproperties="tabTitle:Support Development">
       <div id="supportdiv" style="width: 99%; height:99%"></div>
      </div>
    </div>
    <div id="ColorWindow" windowproperties="title:Color,resizable:false,closable:true,dragable:true,cookieName:ColorWindowCookie,xPos:300,yPos:400,minWidth:425,minHeight:350,activeTabId:AdvancedColorPicker">
          <div id="AdvancedColorPicker" style="overflow:hidden" class="DHTMLSuite_windowContent" tabproperties="tabTitle:Advanced Color Picker">
              </div>
    <div id="ColorPalette" class="DHTMLSuite_windowContent" tabproperties="tabTitle:Color Palette">
      </div>
    </div>
		 <script type="text/javascript" src="../ajaxanimator/windowConfig.js"></script>
<script type="text/javascript" src="../ajaxanimator/colorConfig.js"></script>
   <script type="text/javascript" src="../ajaxanimator/paneSplitterConfig.js"></script>
    <script type="text/javascript" src="../ajaxanimator/menuConfig.js"></script>
    <script type="text/javascript" src="../ajaxanimator/seizure.js"></script>
  </body>
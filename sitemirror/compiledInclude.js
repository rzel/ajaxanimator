var mint={Request:function(){var newRequestObject={xmlHttpRequest:null,responseText:null,responseXML:null,responseJSON:null,getJSON:false,params:new Array(),url:"",async:true,method:"GET",contentType:"text/plain",username:"",password:"",form:null,disableForm:true,status:null,statusText:null,reqDone:false,retryCount:0,retryNum:3,timeout:5000,OnStateChange:function(){},OnLoading:function(){},OnLoaded:function(){},OnInteractive:function(){},OnComplete:function(){},OnSuccess:function(){},OnError:function(){},OnAbort:function(){},OnRetry:function(){},OnTimeout:function(){},Send:function(url,target){var paramStr="";this.reqDone=false;!url?url=this.url:this.url=url;if(window.XMLHttpRequest){this.xmlHttpRequest=new XMLHttpRequest()}else{if(window.ActiveXObject){try{this.xmlHttpRequest=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){this.xmlHttpRequest=new ActiveXObject("Microsoft.XMLHTTP")}}}for(var i in this.params){if(i!=0){paramStr+="&"}paramStr+=this.params[i].name+"="+this.params[i].value}if(this.method=="post"){this.xmlHttpRequest.open(this.method,url,this.async,this.username,this.password)}else{this.xmlHttpRequest.open(this.method,url+(!/\?/.test(url)?"?"+paramStr:"&;"+paramStr),this.async,this.username,this.password)}try{if(this.method=="post"){this.xmlHttpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else{this.xmlHttpRequest.setRequestHeader("Content-Type",this.contentType)}}catch(e){}try{this.xmlHttpRequest.setRequestHeader("If-Modified-Since","Sat, 11 Jan 1977 00:00:00 GMT")}catch(e){}var that=this;this.xmlHttpRequest.onreadystatechange=function(){that.OnStateChange();switch(that.xmlHttpRequest.readyState){case 1:that.OnLoading();break;case 2:that.OnLoaded();break;case 3:that.OnInteractive();break;case 4:that.OnComplete();if(that.xmlHttpRequest.status==200){that.reqDone=true;that.responseText=that.xmlHttpRequest.responseText;that.responseXML=that.xmlHttpRequest.responseXML;that.status=that.xmlHttpRequest.status;that.statusText=that.xmlHttpRequest.statusText;if(target){$(target).innerHTML=that.responseText}if(that.getJSON){that.responseJSON=eval("("+that.responseText+")")}if(that.form&&that.disableForm){for(var i=0;i<that.form.elements.length;i++){that.form.elements[i].disabled=false}}that.OnSuccess()}else{that.OnError(that.xmlHttpRequest.status)}break}};if(this.method=="post"){this.xmlHttpRequest.send(paramStr)}else{this.xmlHttpRequest.send(null)}setTimeout(function(){if(!that.reqDone){that.xmlHttpRequest.onreadystatechange=function(){};that.xmlHttpRequest.abort();that.OnTimeout();if(that.retryCount<that.retryNum){that.retryCount++;that.Send();that.OnRetry()}else{that.retryCount=0;that.OnAbort()}}},this.timeout);this.params.length=0},SendForm:function(form,url,method){this.form=$(form);method?this.method=method:this.method=this.form.method;if(!url){url=this.form.action}var input=this.form.elements;for(var i=0;i<input.length;i++){if(this.disableForm){input[i].disabled=true}switch(input[i].type){case"radio":case"checkbox":if(input[i].checked){this.AddParam(input[i].name,input[i].value)}break;case"select-one":this.AddParam(input[i].name,input[i].options[input[i].selectedIndex].value);break;case"select-multiple":for(var x=0;x<input[i].options.length;x++){if(input[i].options[x].selected){this.AddParam(input[i].name,input[i].options[x].value)}}break;default:this.AddParam(input[i].name,input[i].value)}}this.Send(url)},AddParam:function(name,value){var newParam={name:name,value:value};this.params.push(newParam)}};return newRequestObject},fx:{Stop:function(E,F){E=$(E);if(!F){if(E.fxSizeTimeoutID){clearTimeout(E.fxSizeTimeoutID);E.fxSizeTimeoutID=null}if(E.fxMoveTimeoutID){clearTimeout(E.fxMoveTimeoutID);E.fxMoveTimeoutID=null}if(E.fxFadeTimeoutID){clearTimeout(E.fxFadeTimeoutID);E.fxFadeTimeoutID=null}for(var D in E){if(D.search(/fxColorTimeoutID/)!=-1&&E[D]){clearTimeout(E[D]);E[D]=null}}}else{switch(F){case"size":clearTimeout(E.fxSizeTimeoutID);E.fxSizeTimeoutID=null;break;case"move":clearTimeout(E.fxMoveTimeoutID);E.fxMoveTimeoutID=null;break;case"fade":clearTimeout(E.fxFadeTimeoutID);E.fxFadeTimeoutID=null;break;case"color":for(var D in E){if(D.search(/fxColorTimeoutID/)){clearTimeout(E[D]);E[D]=null}}break}}},Size:function(I,K,H,L,J,N,M){I=$(I);if(I.id.length==0){I.id=GenerateID()}if(I.fxSizeTimeoutID){clearTimeout(I.fxSizeTimeoutID);I.fxSizeTimeoutID=null}if(K==null){K=GetWidth(I)}if(H==null){H=GetHeight(I)}this._Size(I,GetWidth(I),GetHeight(I),K,H,(K-GetWidth(I))/L,(H-GetHeight(I))/L,J/L,N,M)},_Size:function(R,K,P,N,S,O,T,L,M,Q){R=$(R);if(IsF(M)){M(R)}K+=O;P+=T;if((O<0&&K<N)||(O>0&&K>N)){K=N}if((T<0&&P<S)||(T>0&&P>S)){P=S}SetSize(R,parseInt(K),parseInt(P));if(parseInt(K)!=N||parseInt(P)!=S){R.fxSizeTimeoutID=setTimeout("mint.fx._Size('"+R.id+"', "+K+", "+P+", "+N+", "+S+", "+O+", "+T+", "+L+", "+M+", "+Q+")",L)}else{if(IsF(Q)){Q(R)}R.fxSizeTimeoutID=null}},Move:function(K,H,I,N,L,J,M){K=$(K);if(K.id.length==0){K.id=GenerateID()}if(K.fxMoveTimeoutID){clearTimeout(K.fxMoveTimeoutID);K.fxMoveTimeoutID=null}K.style.margin="0px";K.style.padding="0px";if(H==null){H=GetX(K)}if(I==null){I=GetY(K)}this._Move(K,GetX(K),GetY(K),H,I,(H-GetX(K))/N,(I-GetY(K))/N,L/N,J,M)},_Move:function(L,S,T,O,P,Q,R,N,M,K){L=$(L);if(IsF(M)){M(L)}S+=Q;T+=R;if((Q<0&&S<O)||(Q>0&&S>O)){S=O}if((R<0&&T<P)||(R>0&&T>P)){T=P}SetPos(L,parseInt(S),parseInt(T));if(parseInt(S)!=O||parseInt(T)!=P){L.fxMoveTimeoutID=setTimeout("mint.fx._Move('"+L.id+"', "+S+", "+T+", "+O+", "+P+", "+Q+", "+R+", "+N+", "+M+", "+K+")",N)}else{if(IsF(K)){K(L)}L.fxMoveTimeoutID=null}},Fade:function(H,L,G,I,J,K){H=$(H);if(H.id.length==0){H.id=GenerateID()}if(H.fxFadeTimeoutID){clearTimeout(H.fxFadeTimeoutID);H.fxFadeTimeoutID=null}this._Fade(H,GetOpacity(H),L,(L-GetOpacity(H))/G,parseInt(I/G),J,K)},_Fade:function(I,N,H,J,M,K,L){I=$(I);if(IsF(K)){K(I)}N+=J;if((J>0&&N>H)||(J<0&&N<H)){N=H}SetOpacity(I,parseInt(N));if(parseInt(N)!=H){I.fxFadeTimeoutID=setTimeout("mint.fx._Fade('"+I.id+"', "+N+", "+H+", "+J+", "+M+", "+K+", "+L+")",M)}else{if(IsF(L)){L(I)}I.fxFadeTimeoutID=null}},Color:function(S,N,R,L,Q,K,P,O){S=$(S);if(S.id.length==0){S.id=GenerateID()}if(S[N+"fxColorTimeoutID"]){clearTimeout(S[N+"fxColorTimeoutID"]);S[N+"fxColorTimeoutID"]=null}if(!R){var M=new Array();for(var T in N){if(/[A-Z]/.test(N[T])){M.push("-")}M.push(N[T].toLowerCase())}M=M.toString().replace(/,/g,"");if(S.style[N].length==0){if(S.currentStyle){S.style[N]=S.currentStyle[N]}else{if(window.getComputedStyle){S.style[N]=getComputedStyle(S,"").getPropertyValue(M)}}}if(/^rgb\( ?(\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)$/.test(S.style[N])){R={r:parseInt(RegExp.$1),g:parseInt(RegExp.$2),b:parseInt(RegExp.$3)}}else{R=HexToRGB(S.style[N])}}else{R=HexToRGB(R)}endHexColor=L;L=HexToRGB(L);this._Color(S,N,endHexColor,R.r,R.g,R.b,L.r,L.g,L.b,(L.r-R.r)/Q,(L.g-R.g)/Q,(L.b-R.b)/Q,K/Q,P,O)},_Color:function(b,Q,c,S,a,X,d,Y,U,P,Z,V,R,W,T){b=$(b);if(IsF(W)){W(b)}S+=P;a+=Z;X+=V;if((P<0&&S<d)||(P>0&&S>d)){S=d}if((Z<0&&a<Y)||(Z>0&&a>Y)){a=Y}if((V<0&&X<U)||(V>0&&X>U)){X=U}b.style[Q]="rgb("+parseInt(S)+", "+parseInt(a)+", "+parseInt(X)+")";if(parseInt(S)!=d||parseInt(a)!=Y||parseInt(X)!=U){b[Q+"fxColorTimeoutID"]=setTimeout("mint.fx._Color('"+b.id+"', '"+Q+"', '"+c+"', "+S+", "+a+", "+X+", "+d+", "+Y+", "+U+", "+P+", "+Z+", "+V+", "+R+", "+W+", "+T+")",R)}else{if(IsF(T)){T(b)}b[Q+"fxColorTimeoutID"]=null;b.style[Q]=c}}},gui:{dragObject:null,dragStartX:0,dragStartY:0,dragOffsetX:0,dragOffsetY:0,stack:new Array(),tabWidgets:new Array(),treeWidgets:new Array(),gridWidgets:new Array(),dragObjects:new Array(),dropZones:new Array(),Init:function(){var C=document.getElementsByTagName("html")[0];var D=this;AddEvent(C,"mousemove",function(A){D.OnMouseMove(A)});AddEvent(C,"mouseup",function(A){D.OnMouseUp(A)})},OnMouseMove:function(J){if(this.dragObject){if(window.getSelection){window.getSelection().removeAllRanges()}else{if(document.getSelection){document.getSelection().removeAllRanges()}else{if(document.selection){document.selection.empty()}}}var I=this.dragObject,H;if(!I.isDragged&&I.threshold!=0&&Math.pow(J.clientX-this.dragStartX,2)+Math.pow(J.clientY-this.dragStartY,2)>Math.pow(this.dragObject.threshold,2)){var G=GetPos(I.obj);SetPos(I.obj,G.x,G.y);I.obj.style.position="absolute";I.OnDragStart(I.obj);I.isDragged=true}if(!I.lockX){if(I.minX&&J.clientX-this.dragOffsetX<I.minX){SetX(I.obj,I.minX)}else{if(I.maxX&&J.clientX-this.dragOffsetX+GetWidth(I.obj)>I.maxX){SetX(I.obj,I.maxX-GetWidth(I.obj))}else{SetX(I.obj,J.clientX-this.dragOffsetX)}}}if(!I.lockY){if(I.minY&&J.clientY-this.dragOffsetY<I.minY){SetY(I.obj,I.minY)}else{if(I.maxY&&J.clientY-this.dragOffsetY+GetHeight(I.obj)>I.maxY){SetY(I.obj,I.maxY-GetHeight(I.obj))}else{SetY(I.obj,J.clientY-this.dragOffsetY)}}}for(var F in this.dropZones){H=this.dropZones[F];if(IsInside(H.obj,J.clientX,J.clientY)){if((H.acceptClass&&I.defaultClass==H.acceptClass)||(!H.acceptClass&&H.OnAccept(I.obj))){if(!H.hover){if(H.hoverClass){H.obj.className=H.hoverClass}H.hover=I;H.OnHoverIn(I.obj)}if(!H.over){if(H.over=GetChildAtPos(H.obj,J.clientX,J.clientY)){if(H.useDummyNode){if(H.dummyNode){H.obj.removeChild(H.dummyNode)}H.dummyNode=I.obj.cloneNode(false);H.dummyNode.style.position="static";if(H.dummyNodeClass){H.dummyNode.className=H.dummyNodeClass}else{H.dummyNode.style.visibility="hidden"}H.obj.insertBefore(H.dummyNode,H.over);H.over=H.dummyNode}else{if(H.overClass){H.defaultOverClass=H.over.className;H.over.className=H.overClass}H.OnOverIn(I.obj,H.over)}}}else{if(H.over!=GetChildAtPos(H.obj,J.clientX,J.clientY)){H._ResetOverState()}else{if(!H.dummyNode){H.OnOver(I.obj,H.over)}}}H.OnHover(I.obj)}break}else{if(H.hover){H._ResetOverState();H._ResetHoverState()}}}}},OnMouseUp:function(D){if(this.dragObject){var F=this.dragObject,E;for(i in this.dropZones){E=this.dropZones[i];if(IsInside(E.obj,D.clientX,D.clientY)){if((E.acceptClass&&F.defaultClass==E.acceptClass)||(!E.acceptClass&&E.OnAccept(F.obj))){F.dropZone=E;if(E.over&&E.insertInside){E.InsertItem(F.obj,E.over)}else{E.InsertItem(F.obj)}E._ResetOverState();E._ResetHoverState()}break}}F.obj.className=F.defaultClass;F.OnDragStop(F.obj);this.dragObject.isDragged=false;this.dragObject=null}},AddToStack:function(B){$(B).style.zIndex=this.stack.push($(B))},RemoveFromStack:function(D){for(var C=$(D).style.zIndex-1;C<this.stack.length-1;C++){this.stack[C]=this.stack[C+1];this.stack[C].style.zIndex=C+1}this.stack.pop()},MoveOnTop:function(B){this.RemoveFromStack(B);this.AddToStack(B)},_DragStart:function(F){var D=mint.gui;F.cancelBubble=true;if(F.stopPropagation){F.stopPropagation()}if(F.preventDefault){F.preventDefault()}var E=GetPos(this);D.dragObject=this.dragObject;D.dragStartX=F.clientX;D.dragStartY=F.clientY;D.dragOffsetX=F.clientX-E.x;D.dragOffsetY=F.clientY-E.y;if(D.dragObject.threshold!=0){return }if(D.dragObject.dropZone){D.dragObject.dropZone.RemoveItem(this);D.OnMouseMove(F);D.dragObject.dropZone=null}if(this.style.position!="absolute"){SetPos(this,E.x,E.y);this.style.position="absolute"}if(this.parentNode!=document.body){document.body.appendChild(this)}if(D.dragObject.dragClass){D.dragObject.obj.className=D.dragObject.dragClass}if(D.dragObject.moveOnTop){D.MoveOnTop(this)}D.dragObject.OnDragStart(this);D.isDragged=true},RegisterDragObject:function(D){D=$(D);this.AddToStack(D);AddEvent(D,"mousedown",this._DragStart);AddEvent(D,"dragstart",function(){return false});var C={obj:D,minX:null,maxX:null,minY:null,maxY:null,lockX:false,lockY:false,dropZone:null,dragClass:null,defaultClass:D.className,moveOnTop:true,threshold:0,isDragged:false,OnDragStart:function(){},OnDragStop:function(){},SetBBox:function(B){if(!B){B=this.obj.parentNode}else{B=$(B)}var A=GetPos(B),F=GetSize(B);this.minX=A.x;this.maxX=A.x+F.width;this.minY=A.y;this.maxY=A.y+F.height},RemoveBBox:function(){this.minX=this.maxX=this.minY=this.maxY=0}};D.dragObject=C;this.dragObjects.push(C);return C},UnregisterDragObject:function(D){D=$(D);RemoveEvent(D,"mousedown",this._DragStart);RemoveEvent(D,"dragstart",function(){return false});for(var C in this.dragObjects){if(this.dragObjects[C]==D.dragObject){this.dragObjects.splice(C,1);D.dragObject=null;return true}}return false},RegisterDropZone:function(D){D=$(D);var C={obj:D,over:null,hover:null,overClass:null,hoverClass:null,acceptClass:null,defaultOverClass:null,defaultHoverClass:D.className,dummyNode:null,dummyNodeClass:null,useDummyNode:true,insertInside:true,autoInline:true,OnAdd:function(){},OnRemove:function(){},OnHover:function(){},OnHoverIn:function(){},OnHoverOut:function(){},OnOver:function(){},OnOverIn:function(){},OnOverOut:function(){},OnAccept:function(){return true},InsertItem:function(A,B){A=$(A);B?this.obj.insertBefore(A,B):this.obj.appendChild(A);A.dragObject.dropZone=this;A.style.position="static";if(this.autoInline){A.style.cssFloat="left";A.style.clear="none"}this.OnAdd(A)},RemoveItem:function(A){A=$(A);SetPos(A,GetX(A),GetY(A));A.style.position="absolute";document.body.appendChild(A);A.dragObject.dropObject=null;this.OnRemove(A)},_ResetOverState:function(){if(!this.over){return }if(this.dummyNode){this.obj.removeChild(this.dummyNode);this.dummyNode=null}else{if(this.defaultOverClass){this.over.className=this.defaultOverClass;this.defaultOverClass=null;this.OnOverOut(this.over)}}this.over=null},_ResetHoverState:function(){if(!this.hover){return }this.obj.className=this.defaultHoverClass;this.OnHoverOut(this.hover);this.hover=null}};D.dropZone=C;this.dropZones.push(C);return C},UnregisterDropZone:function(D){D=$(D);for(var C in this.dropZones){if(this.dropZones[C]==D.dropZone){this.dropZones.splice(C,1);D.dropZone=null;return true}}return false},CreateTabWidget:function(D){D=$(D);var C={target:D,tabs:new Array(),name:null,link:null,activeTab:null,activeClass:null,defaultClass:null,activeImage:null,inactiveImage:null,useHash:false,useCache:true,autoTextUpdate:true,selectFirstTab:true,defaultHash:window.location.hash,tabWidgetParam:"tabWidget",tabItemParam:"tabItem",OnSelect:function(){},OnDeselect:function(){},OnUpdate:function(){},OnRetrieve:function(){},AddTab:function(A,J,H,B){A=$(A);var I={obj:A,img:this.activeImage||this.inactiveImage?document.createElement("img"):null,name:J,type:H,link:B?B:null,content:null,cache:null};A.tabItem=I;A.tabWidget=this;if(this.inactiveImage){I.img.src=this.inactiveImage;I.obj.insertBefore(I.img,I.obj.firstChild)}I.obj.onmousedown=function(){return false};I.obj.onselectstart=function(){return false};AddEvent(I.obj,"click",this.__SelectTab);if((this.tabs.length==0&&this.selectFirstTab)||(this.useHash&&this.defaultHash=="#"+I.name)){this.Select(I)}this.tabs.push(I);return I},__SelectTab:function(A){this.tabWidget.Select(this.tabItem)},RemoveTab:function(A){if(this.activeTab==A.tabObject){this.target.innerHTML="";this.activeTab=null}for(var B in this.tabs){if(this.tabs[B]==A.tabObject){this.tabs.splice(B,1);A.tabItem=null;A.tabWidget=null;return true}}return false},Select:function(F){if(this.activeTab){if(this.defaultClass){this.activeTab.obj.className=this.defaultClass}if(this.defaultImage){this.activeTab.img.src=this.inactiveImage}this.OnDeselect(this.activeTab)}this.activeTab=F;if(this.activeClass){this.defaultClass=F.obj.className;F.obj.className=this.activeClass}if(this.activeImage){F.img.src=this.activeImage}if(this.useHash&&F.name){window.location.hash=F.name}if(this.useCache&&F.cache){if(F.type=="text"&&this.autoTextUpdate){this.target.innerHTML=F.cache}this.OnUpdate(F,F.cache)}else{if(F.type!=""&&(this.link||F.link)){var A=this;var B=new mint.Request();B.OnSuccess=function(){switch(F.type){case"text":if(A.autoTextUpdate){A.target.innerHTML=B.responseText}if(A.useCache){F.cache=B.responseText}A.OnUpdate(F,B.responseText);break;case"xml":if(A.useCache){F.cache=B.responseXML}A.OnUpdate(F,B.responseXML);break;case"json":if(A.useCache){F.cache=B.responseJSON}A.OnUpdate(F,B.responseJSON);break;default:A.OnUpdate(F,null)}};if(F.type=="json"){B.getJSON=true}if(this.link){B.AddParam(this.tabWidgetParam,this.name);B.AddParam(this.tabItemParam,F.name);B.Send(this.link)}else{B.Send(F.link)}this.OnRetrieve(F)}else{if(F.content){this.target.innerHTML=F.content}}}this.OnSelect(F)}};D.tabWidget=C;return C},CreateTreeWidget:function(C,D){newTreeWidget=new mint.gui.CreateTabWidget(D);newTreeWidget.obj=$(C);newTreeWidget.items=new Array();newTreeWidget.indent=25;newTreeWidget.selItem=null;newTreeWidget.newItemUnfold=true;newTreeWidget.useClass=true;newTreeWidget.useImage=true;newTreeWidget.tabWidgetParam="treeWidget";newTreeWidget.tabItemParam="treeItem";newTreeWidget.OnSelect=function(){};newTreeWidget.OnDeselect=function(){};newTreeWidget.InsertItem=function(I,L,J,B,A){var K={obj:document.createElement("div"),tab:this.AddTab(document.createElement("span"),L,J,B),img:this.useImage?document.createElement("img"):null,area:document.createElement("div"),fold:true};K.tab.obj.treeItem=K;K.tab.obj.treeWidget=this;K.tab.obj.innerHTML=A||L||"";K.area.style.display="none";K.area.style.overflow="hidden";K.area.style.marginLeft=this.indent+"px";K.obj.appendChild(K.tab.obj);if(this.useImage&&K.img){K.obj.insertBefore(K.img,K.tab.obj)}this.Update(K);if(I){I.area.appendChild(K.obj);I.area.appendChild(K.area);if(this.newItemUnfold){I.area.style.display="block";I.fold=false}if(this.selItem==I){this.selItem=null}this.Update(I)}else{this.obj.appendChild(K.obj);this.obj.appendChild(K.area)}AddEvent(K.tab.obj,"click",this.__SelectTreeItem);return K};newTreeWidget.__SelectTreeItem=function(A){this.treeWidget._Select(this.treeItem)};newTreeWidget._Select=function(B){if(this.selItem==B){if(B.area.hasChildNodes()){if(B.fold){B.area.style.display="block"}else{B.area.style.display="none"}B.fold=!B.fold}}else{if(this.selItem){var A=this.selItem;this.selItem=B;this.Update(A)}}this.selItem=B;this.Update(B)};newTreeWidget.Update=function(A){if(this.selItem==A){if(A.area.hasChildNodes()){if(A.fold){if(this.useClass){A.tab.obj.className=A.foldSelectClass||A.foldClass||A.itemSelectClass||A.itemClass||this.foldSelectClass||this.foldClass||this.itemSelectClass||this.itemClass||A.tab.obj.className}if(this.useImage){A.img.src=A.foldSelectImage||A.foldImage||A.itemSelectImage||A.itemImage||this.foldSelectImage||this.foldImage||this.itemSelectImage||this.itemImage||A.img.src}}else{if(this.useClass){A.tab.obj.className=A.unfoldSelectClass||A.unfoldClass||A.itemSelectClass||A.itemClass||this.unfoldSelectClass||this.unfoldClass||this.itemSelectClass||this.itemClass||A.tab.obj.className}if(this.useImage){A.img.src=A.unfoldSelectImage||A.unfoldImage||A.itemSelectImage||A.itemImage||this.unfoldSelectImage||this.unfoldImage||this.itemSelectImage||this.itemImage||A.img.src}}}else{if(this.useClass){A.tab.obj.className=A.itemSelectClass||A.itemClass||this.itemSelectClass||this.itemClass||A.tab.obj.className}if(this.useImage){A.img.src=A.itemSelectImage||A.itemImage||this.itemSelectImage||this.itemImage||A.img.src}}}else{if(A.area.hasChildNodes()){if(A.fold){if(this.useClass){A.tab.obj.className=A.foldClass||A.itemClass||this.foldClass||this.itemClass||A.tab.obj.className}if(this.useImage){A.img.src=A.foldImage||A.itemImage||this.foldImage||this.itemImage||A.img.src}}else{if(this.useClass){A.tab.obj.className=A.unfoldClass||A.itemClass||this.unfoldClass||this.itemClass||A.tab.obj.className}if(this.useImage){A.img.src=A.unfoldImage||A.itemImage||this.unfoldImage||this.itemImage||A.img.src}}}else{if(this.useClass){A.tab.obj.className=A.itemClass||this.itemClass}if(this.useImage){A.img.src=A.itemImage||this.itemImage}}}if(A.img.src.match("undefined")!=null&&A.img.parentNode==A.obj){A.obj.removeChild(A.img)}else{if(A.img.src.match("undefined")==null&&A.img.parentNode!=A.obj){A.obj.insertBefore(A.img,A.tab.obj)}}};return newTreeWidget},CreateGridWidget:function(C){var D={id:null,obj:$(C),desc:false,sortIndex:null,selectClass:null,defaultClass:null,multiSelect:true,selRows:new Array(),OnSelect:function(){},OnDeselect:function(){},OnSort:function(){},OnStopSort:function(){},OnAscSort:function(){},OnDescSort:function(){},OnDelete:function(){},AddSortCell:function(A){var B=this.obj.rows[0].cells[A];B.gridWidget=this;B.gridSortIndex=A;B.onmousedown=function(){return false};B.onselectstart=function(){return false};AddEvent(B,"click",this._Sort)},AddSortCells:function(B){for(var A=0;A<arguments.length;A++){this.AddSortCell(arguments[A])}},_Sort:function(A){this.gridWidget.Sort(this.gridSortIndex)},Sort:function(P){var N=new Array();var K=this.obj.getElementsByTagName("tr");for(var L=1;L<K.length;L++){N[L-1]=K[L]}if(this.sortIndex!=P){this.OnStopSort(K[0].cells[this.sortIndex]);this.desc=false}else{this.OnSort(K[0].cells[P])}this.sortIndex=P;var M=this;var A=N[0].cells[this.sortIndex].innerHTML;if(/^\d\d\D\d\d\D\d\d\d\d$/.test(A)){var B=function(E,F){var G=/^(\d\d)\D(\d\d)\D(\d\d\d\d)$/;E=E.cells[M.sortIndex].innerHTML.replace(G,"$3$2$1");F=F.cells[M.sortIndex].innerHTML.replace(G,"$3$2$1");if(E<F){return -1}if(E>F){return 1}return 0}}else{if(/^\d\d\d\d\D\d\d\D\d\d$/.test(A)){var B=function(E,F){var G=/^(\d\d)(\d\d)(\d\d\d\d)$/;E=E.cells[M.sortIndex].innerHTML.split(/\D/).reverse().join("");F=F.cells[M.sortIndex].innerHTML.split(/\D/).reverse().join("");E=E.replace(G,"$3$2$1");F=F.replace(G,"$3$2$1");if(E<F){return -1}if(E>F){return 1}return 0}}else{if(!isNaN(parseInt(A))){var B=function(E,F){return parseInt(E.cells[M.sortIndex].innerHTML)-parseInt(F.cells[M.sortIndex].innerHTML)}}else{var B=function(E,F){E=E.cells[M.sortIndex].innerHTML.toLowerCase();F=F.cells[M.sortIndex].innerHTML.toLowerCase();if(E<F){return -1}if(E>F){return 1}return 0}}}}N.sort(B);if(this.desc){N.reverse()}this.desc?this.OnDescSort():this.OnAscSort();this.desc=!this.desc;if(this.obj.getElementsByTagName("tbody").length==0){this.obj.appendChild(document.createElement("tbody"))}for(var O in N){this.obj.getElementsByTagName("tbody")[0].appendChild(N[O])}},SetSelective:function(){for(var A=1;A<this.obj.rows.length;A++){this.obj.rows[A].gridWidget=this;this.obj.rows[A].gridSelect=false;this.obj.rows[A].onmousedown=function(B){if(!this.gridSelect){this.defaultClass=this.className;this.className=this.gridWidget.selectClass||this.className;this.gridWidget.selRows.push(this);this.gridWidget.OnSelect(this)}else{for(var F in this.gridWidget.selRows){if(this.gridWidget.selRows[F]==this){this.gridWidget.selRows.splice(F,1);break}}this.className=this.defaultClass;this.gridWidget.OnDeselect(this)}this.gridSelect=!this.gridSelect;return false}}},GetSelRows:function(){return this.selRows},DeleteSelRows:function(){for(var A in this.selRows){this.OnDelete(this.selRows[A]);this.obj.deleteRow(this.selRows[A].rowIndex)}this.selRows.length=0}};return D}}};mint.gui.Init();function $(B){if(typeof (B)=="string"){return document.getElementById(B)}else{return B}}function IsF(B){if(typeof (B)=="function"){return true}else{return false}}function AddEvent(E,F,D){E=$(E);if(!E.events){E.events=new Array()}if(!E.events["on"+F]){E.events["on"+F]=new Array()}E.events["on"+F].push(D);E["on"+F]=function(B){B=B||window.event;var C=true;var A=this.events["on"+B.type];if(A){for(var H in A){this.$eventHandler=A[H];C=this.$eventHandler(B)}}return C}}function RemoveEvent(G,I,J){G=$(G);var H=G.events["on"+I];for(var F in H){if(H[F]==J){H.splice(F,1);return true}}return false}function GetEventTarget(B){return B.target||B.srcElement}function GenerateID(){return new Date().getTime().toString()}function GetPos(H){H=$(H);if(H.style.position=="absolute"){if(window.getComputedStyle){return{"x":parseInt(getComputedStyle(H,"").getPropertyValue("left")),"y":parseInt(getComputedStyle(H,"top").getPropertyValue("top"))}}else{if(H.currentStyle){return{"x":parseInt(H.currentStyle.left),"y":parseInt(H.currentStyle.top)}}}}var F=H.offsetLeft,G=H.offsetTop,I=0,J=0;if(window.getComputedStyle){I=parseInt(getComputedStyle(H,"").getPropertyValue("margin-left"));J=parseInt(getComputedStyle(H,"").getPropertyValue("margin-top"))}else{if(H.currentStyle){I=parseInt(H.currentStyle.marginLeft);J=parseInt(H.currentStyle.marginTop)}}while(H=H.offsetParent){F+=H.offsetLeft-H.scrollLeft;G+=H.offsetTop-H.scrollTop}if(I){F-=I}if(J){G-=J}return{"x":F,"y":G}}function GetX(B){return GetPos(B).x}function GetY(B){return GetPos(B).y}function SetPos(F,D,E){SetX(F,D);SetY(F,E)}function SetX(D,C){$(D).style.left=C+"px"}function SetY(C,D){$(C).style.top=D+"px"}function GetSize(B){return{"width":GetWidth(B),"height":GetHeight(B)}}function GetWidth(B){return $(B).clientWidth}function GetHeight(B){return $(B).clientHeight}function SetSize(E,F,D){this.SetWidth(E,F);this.SetHeight(E,D)}function SetWidth(D,C){$(D).style.width=C+"px"}function SetHeight(D,C){$(D).style.height=C+"px"}function GetOpacity(B){B=$(B);if(B.style.opacity){return Math.round(B.style.opacity*100)}else{if(B.style.filter){return Math.round(/\d+/.exec(B.style.filter)[0])}else{return 100}}}function SetOpacity(D,C){$(D).style.opacity=C*0.01;$(D).style.filter="alpha(opacity="+C+")"}function IsInside(H,E,F){H=$(H);var G=GetPos(H);size=GetSize(H);if(G.x<E&&G.x+size.width>E&&G.y<F&&G.y+size.height>F){return true}return false}function GetChildAtPos(I,F,G){var H=$(I).childNodes;for(var J=0;J<H.length;J++){if(H[J].nodeName!="#text"&&IsInside(H[J],F,G)){return H[J]}}return null}function HexToRGB(B){B=B.replace(/#/,"");return{r:parseInt(B.substring(0,2),16),g:parseInt(B.substring(2,4),16),b:parseInt(B.substring(4,6),16)}}function flipBox(D){var C;if(document.images["b_"+D].src.indexOf("_on")==-1){C=document.images["b_"+D].src.replace("_off","_on");document.getElementById("box_"+D).style.display="none";document.images["b_"+D].src=C}else{C=document.images["b_"+D].src.replace("_on","_off");document.getElementById("box_"+D).style.display="block";document.images["b_"+D].src=C}}function addText(X,R,S){if(document.selection){var Y=document.selection.createRange().text;document.forms["inputform"].elements[X].focus();var P=document.selection.createRange();P.text=R+Y+S;return }else{if((typeof document.forms["inputform"].elements[X].selectionStart)!="undefined"){var V=document.forms["inputform"].elements[X];var N=V.textLength;var Q=V.selectionStart;var Z=V.selectionEnd;var O=V.scrollTop;var T=(V.value).substring(0,Q);var U=(V.value).substring(Q,Z);var W=(V.value).substring(Z,N);V.value=T+R+U+S+W;V.selectionStart=T.length;V.selectionEnd=T.length+U.length+R.length+S.length;V.scrollTop=O;V.focus();return }else{insertText(X,R+S)}}}function insertText(N,K){if(document.forms["inputform"].elements[N].createTextRange){document.forms["inputform"].elements[N].focus();document.selection.createRange().duplicate().text=K}else{if((typeof document.forms["inputform"].elements[N].selectionStart)!="undefined"){var J=document.forms["inputform"].elements[N];var P=J.selectionEnd;var I=J.value.length;var O=J.value.substring(0,P);var L=J.value.substring(P,I);var M=J.scrollTop;J.value=O+K+L;J.selectionStart=O.length+K.length;J.selectionEnd=O.length+K.length;J.scrollTop=M;J.focus()}else{document.forms["inputform"].elements[N].value+=K;document.forms["inputform"].elements[N].focus()}}}function show_hide(B){B.style.display=B.style.display=="none"?"block":"none"}function QuickEdit(O,J,N,P,K,I,M){$(N).innerHTML="";var L=mint.Request();L.OnLoading=function(){$(J).innerHTML="£adowanie danych..."};L.method="POST";L.AddParam("ID",O);L.AddParam("thread_id",K);L.AddParam("rowstart",I);L.AddParam("posts_per_page",M);L.OnSuccess=function(){$(J).innerHTML=this.responseText};L.OnError=function(){$(J).innerHTML="Wyst±pi³ b³±d !!! </br>"+this.responseText+"</br>"+L.xmlHttpRequest.statusText};L.Send(P,J)}function SaveMessage(Q,P,M,L,K,R,J,N){$(L).innerHTML="<a style='cursor:pointer; vertical-align: text-top;' onclick=\"QuickEdit("+Q+", 'ContentOfMessage_"+Q+"', 'QuickEditButton_"+Q+"', 'quickedit.php', "+R+", "+J+", "+N+');">Quick Edit</a>';var O=mint.Request();O.OnLoading=function(){$(M).innerHTML="£adowanie danych..."};O.OnSuccess=function(){$(M).innerHTML=this.responseText};O.OnError=function(){$(M).innerHTML="Wyst±pi³ b³±d !!! </br>"+this.responseText+"</br>"+O.xmlHttpRequest.statusText};O.SendForm(P,K)}function addText3(b,Y,S,T){if(document.selection){var Z=document.selection.createRange().text;document.forms[b].elements[Y].focus();var Q=document.selection.createRange();Q.text=S+Z+T;return }else{if((typeof document.forms[b].elements[Y].selectionStart)!="undefined"){var W=document.forms[b].elements[Y];var O=W.textLength;var R=W.selectionStart;var a=W.selectionEnd;var P=W.scrollTop;var U=(W.value).substring(0,R);var V=(W.value).substring(R,a);var X=(W.value).substring(a,O);W.value=U+S+V+T+X;W.selectionStart=U.length;W.selectionEnd=U.length+V.length+S.length+T.length;W.scrollTop=P;W.focus();return }else{insertText3(b,Y,S+T)}}}function insertText3(R,Q,O){if(document.forms[R].elements[Q].createTextRange){document.forms[R].elements[Q].focus();document.selection.createRange().duplicate().text=O}else{if((typeof document.forms[R].elements[Q].selectionStart)!="undefined"){var M=document.forms[R].elements[Q];var P=M.selectionEnd;var J=M.value.length;var K=M.value.substring(0,P);var N=M.value.substring(P,J);var L=M.scrollTop;M.value=K+O+N;M.selectionStart=K.length+O.length;M.selectionEnd=K.length+O.length;M.scrollTop=L;M.focus()}else{document.forms[R].elements[Q].value+=O;document.forms[R].elements[Q].focus()}}}